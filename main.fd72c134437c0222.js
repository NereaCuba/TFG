"use strict";(self.webpackChunkangular_tfg=self.webpackChunkangular_tfg||[]).push([[179],{6217:(dn,dt,k)=>{k.d(dt,{nm:()=>Se});var p=k(4976);k(4650),k(259);var Ae=k(5861),oe=k(6881),Je=k(4859),Le=k(2090),Ge=k(1877);const Ye=new Map,Vt={activated:!1,tokenObservers:[]},pn={initialized:!1,enabled:!1};function Yt(at){return Ye.get(at)||Object.assign({},Vt)}function ln(){return pn}class Bt{constructor(tt,vt,zt,rn,ci){if(this.operation=tt,this.retryPolicy=vt,this.getWaitDuration=zt,this.lowerBound=rn,this.upperBound=ci,this.pending=null,this.nextErrorWaitInterval=rn,rn>ci)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(tt){var vt=this;return(0,Ae.Z)(function*(){vt.stop();try{vt.pending=new Le.BH,yield function Re(at){return new Promise(tt=>{setTimeout(tt,at)})}(vt.getNextRun(tt)),vt.pending.resolve(),yield vt.pending.promise,vt.pending=new Le.BH,yield vt.operation(),vt.pending.resolve(),yield vt.pending.promise,vt.process(!0).catch(()=>{})}catch(zt){vt.retryPolicy(zt)?vt.process(!1).catch(()=>{}):vt.stop()}})()}getNextRun(tt){if(tt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const vt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),vt}}}const Pt=new Le.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ht(at){if(!Yt(at).activated)throw Pt.create("use-before-activation",{appName:at.name})}function Un(at,tt){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,Ae.Z)(function*({url:at,body:tt},vt){const zt={"Content-Type":"application/json"},rn=vt.getImmediate({optional:!0});if(rn){const nr=yield rn.getHeartbeatsHeader();nr&&(zt["X-Firebase-Client"]=nr)}const ci={method:"POST",body:JSON.stringify(tt),headers:zt};let Ei,Di;try{Ei=yield fetch(at,ci)}catch(nr){throw Pt.create("fetch-network-error",{originalErrorMessage:nr?.message})}if(200!==Ei.status)throw Pt.create("fetch-status-error",{httpStatus:Ei.status});try{Di=yield Ei.json()}catch(nr){throw Pt.create("fetch-parse-error",{originalErrorMessage:nr?.message})}const ji=Di.ttl.match(/^([\d.]+)(s)$/);if(!ji||!ji[2]||isNaN(Number(ji[1])))throw Pt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Di.ttl}`});const Xr=1e3*Number(ji[1]),us=Date.now();return{token:Di.token,expireTimeMillis:us+Xr,issuedAtTimeMillis:us}})).apply(this,arguments)}function ki(at,tt){const{projectId:vt,appId:zt,apiKey:rn}=at.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${vt}/apps/${zt}:exchangeDebugToken?key=${rn}`,body:{debug_token:tt}}}const ot="firebase-app-check-store";let ft=null;function Ne(){return ft||(ft=new Promise((at,tt)=>{try{const vt=indexedDB.open("firebase-app-check-database",1);vt.onsuccess=zt=>{at(zt.target.result)},vt.onerror=zt=>{var rn;tt(Pt.create("storage-open",{originalErrorMessage:null===(rn=zt.target.error)||void 0===rn?void 0:rn.message}))},vt.onupgradeneeded=zt=>{0===zt.oldVersion&&zt.target.result.createObjectStore(ot,{keyPath:"compositeKey"})}}catch(vt){tt(Pt.create("storage-open",{originalErrorMessage:vt?.message}))}}),ft)}function En(){return(En=(0,Ae.Z)(function*(at,tt){const zt=(yield Ne()).transaction(ot,"readwrite"),ci=zt.objectStore(ot).put({compositeKey:at,value:tt});return new Promise((Ei,Di)=>{ci.onsuccess=ji=>{Ei()},zt.onerror=ji=>{var Xr;Di(Pt.create("storage-set",{originalErrorMessage:null===(Xr=ji.target.error)||void 0===Xr?void 0:Xr.message}))}})})).apply(this,arguments)}const Yn=new Ge.Yd("@firebase/app-check");function Gi(at,tt){return(0,Le.hl)()?function An(at,tt){return function ai(at,tt){return En.apply(this,arguments)}(function Oi(at){return`${at.options.appId}-${at.name}`}(at),tt)}(at,tt).catch(vt=>{Yn.warn(`Failed to write token to IndexedDB. Error: ${vt}`)}):Promise.resolve()}function Ur(){return ln().enabled}function mi(){return vr.apply(this,arguments)}function vr(){return(vr=(0,Ae.Z)(function*(){const at=ln();if(at.enabled&&at.token)return at.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ft={error:"UNKNOWN_ERROR"};function me(at){return Le.US.encodeString(JSON.stringify(at),!1)}function Fe(at){return wt.apply(this,arguments)}function wt(){return(wt=(0,Ae.Z)(function*(at,tt=!1){const vt=at.app;Ht(vt);const zt=Yt(vt);let ci,rn=zt.token;if(rn&&!fe(rn)&&(zt.token=void 0,rn=void 0),!rn){const ji=yield zt.cachedTokenPromise;ji&&(fe(ji)?rn=ji:yield Gi(vt,void 0))}if(!tt&&rn&&fe(rn))return{token:rn.token};let Di,Ei=!1;if(Ur()){zt.exchangeTokenPromise||(zt.exchangeTokenPromise=Un(ki(vt,yield mi()),at.heartbeatServiceProvider).finally(()=>{zt.exchangeTokenPromise=void 0}),Ei=!0);const ji=yield zt.exchangeTokenPromise;return yield Gi(vt,ji),zt.token=ji,{token:ji.token}}try{zt.exchangeTokenPromise||(zt.exchangeTokenPromise=zt.provider.getToken().finally(()=>{zt.exchangeTokenPromise=void 0}),Ei=!0),rn=yield Yt(vt).exchangeTokenPromise}catch(ji){"appCheck/throttled"===ji.code?Yn.warn(ji.message):Yn.error(ji),ci=ji}return rn?ci?Di=fe(rn)?{token:rn.token,internalError:ci}:pt(ci):(Di={token:rn.token},zt.token=rn,yield Gi(vt,rn)):Di=pt(ci),Ei&&De(vt,Di),Di})).apply(this,arguments)}function ze(at,tt){const vt=Yt(at),zt=vt.tokenObservers.filter(rn=>rn.next!==tt);0===zt.length&&vt.tokenRefresher&&vt.tokenRefresher.isRunning()&&vt.tokenRefresher.stop(),vt.tokenObservers=zt}function Ue(at){const{app:tt}=at,vt=Yt(tt);let zt=vt.tokenRefresher;zt||(zt=function be(at){const{app:tt}=at;return new Bt((0,Ae.Z)(function*(){let zt;if(zt=Yt(tt).token?yield Fe(at,!0):yield Fe(at),zt.error)throw zt.error;if(zt.internalError)throw zt.internalError}),()=>!0,()=>{const vt=Yt(tt);if(vt.token){let zt=vt.token.issuedAtTimeMillis+.5*(vt.token.expireTimeMillis-vt.token.issuedAtTimeMillis)+3e5;return zt=Math.min(zt,vt.token.expireTimeMillis-3e5),Math.max(0,zt-Date.now())}return 0},3e4,96e4)}(at),vt.tokenRefresher=zt),!zt.isRunning()&&vt.isTokenAutoRefreshEnabled&&zt.start()}function De(at,tt){const vt=Yt(at).tokenObservers;for(const zt of vt)try{"EXTERNAL"===zt.type&&null!=tt.error?zt.error(tt.error):zt.next(tt)}catch{}}function fe(at){return at.expireTimeMillis-Date.now()>0}function pt(at){return{token:me(Ft),error:at}}class Gt{constructor(tt,vt){this.app=tt,this.heartbeatServiceProvider=vt}_delete(){const{tokenObservers:tt}=Yt(this.app);for(const vt of tt)ze(this.app,vt.next);return Promise.resolve()}}const ys="app-check-internal";!function Pe(){(0,oe._registerComponent)(new Je.wA("app-check",at=>function bn(at,tt){return new Gt(at,tt)}(at.getProvider("app").getImmediate(),at.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((at,tt,vt)=>{at.getProvider(ys).initialize()})),(0,oe._registerComponent)(new Je.wA(ys,at=>function $e(at){return{getToken:tt=>Fe(at,tt),addTokenListener:tt=>function Ni(at,tt,vt,zt){const{app:rn}=at,ci=Yt(rn);if(ci.tokenObservers=[...ci.tokenObservers,{next:vt,error:zt,type:tt}],ci.token&&fe(ci.token)){const Di=ci.token;Promise.resolve().then(()=>{vt({token:Di.token}),Ue(at)}).catch(()=>{})}ci.cachedTokenPromise.then(()=>Ue(at))}(at,"INTERNAL",tt),removeTokenListener:tt=>ze(at.app,tt)}}(at.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)("@firebase/app-check","0.7.0")}();class Se{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},1205:(dn,dt,k)=>{k.d(dt,{zQ:()=>It,rT:()=>pn,f7:()=>Dn,L6:()=>Ye,_Q:()=>Vt,lh:()=>Yt,Qv:()=>Ge,nw:()=>ln});var p=k(4650),l=k(7579),V=k(9646),Te=k(9751),L=k(8996),de=k(6451),le=k(5363),ie=k(3900),Ce=k(4004),X=k(6063);class ce extends l.x{constructor(Nt=1/0,Zt=1/0,rt=X.l){super(),this._bufferSize=Nt,this._windowTime=Zt,this._timestampProvider=rt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Zt===1/0,this._bufferSize=Math.max(1,Nt),this._windowTime=Math.max(1,Zt)}next(Nt){const{isStopped:Zt,_buffer:rt,_infiniteTimeWindow:Bt,_timestampProvider:Re,_windowTime:$t}=this;Zt||(rt.push(Nt),!Bt&&rt.push(Re.now()+$t)),this._trimBuffer(),super.next(Nt)}_subscribe(Nt){this._throwIfClosed(),this._trimBuffer();const Zt=this._innerSubscribe(Nt),{_infiniteTimeWindow:rt,_buffer:Bt}=this,Re=Bt.slice();for(let $t=0;$t<Re.length&&!Nt.closed;$t+=rt?1:2)Nt.next(Re[$t]);return this._checkFinalizedStatuses(Nt),Zt}_trimBuffer(){const{_bufferSize:Nt,_timestampProvider:Zt,_buffer:rt,_infiniteTimeWindow:Bt}=this,Re=(Bt?1:2)*Nt;if(Nt<1/0&&Re<rt.length&&rt.splice(0,rt.length-Re),!Bt){const $t=Zt.now();let Pt=0;for(let tn=1;tn<rt.length&&rt[tn]<=$t;tn+=2)Pt=tn;Pt&&rt.splice(0,Pt+1)}}}var Oe=k(3099);function et(Dt,Nt,Zt){let rt,Bt=!1;return Dt&&"object"==typeof Dt?({bufferSize:rt=1/0,windowTime:Nt=1/0,refCount:Bt=!1,scheduler:Zt}=Dt):rt=Dt??1/0,(0,Oe.B)({connector:()=>new ce(rt,Nt,Zt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Bt})}var ut=k(590),st=k(576);function xt(Dt,Nt){return(0,st.m)(Nt)?(0,ie.w)(()=>Dt,Nt):(0,ie.w)(()=>Dt)}var Be=k(9468),it=k(9300),ge=k(4976),Xe=k(2011),Ae=k(6895),oe=k(6217);k(9260);const Ge=new p.OlP("angularfire2.auth.use-emulator"),Ye=new p.OlP("angularfire2.auth.settings"),Vt=new p.OlP("angularfire2.auth.tenant-id"),pn=new p.OlP("angularfire2.auth.langugage-code"),Yt=new p.OlP("angularfire2.auth.use-device-language"),Dn=new p.OlP("angularfire.auth.persistence"),ln=(Dt,Nt,Zt,rt,Bt,Re,$t,Pt)=>(0,Xe.cc)(`${Dt.name}.auth`,"AngularFireAuth",Dt.name,()=>{const tn=Nt.runOutsideAngular(()=>Dt.auth());if(Zt&&tn.useEmulator(...Zt),rt&&(tn.tenantId=rt),tn.languageCode=Bt,Re&&tn.useDeviceLanguage(),$t)for(const[Ht,Fn]of Object.entries($t))tn.settings[Ht]=Fn;return Pt&&tn.setPersistence(Pt),tn},[Zt,rt,Bt,Re,$t,Pt]);let It=(()=>{class Dt{constructor(Zt,rt,Bt,Re,$t,Pt,tn,Ht,Fn,Jn,Un,Ii){const Pi=new l.x,si=(0,V.of)(void 0).pipe((0,le.Q)($t.outsideAngular),(0,ie.w)(()=>Re.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,Ce.U)(()=>(0,Xe.on)(Zt,Re,rt)),(0,Ce.U)(ki=>ln(ki,Re,Pt,Ht,Fn,Jn,tn,Un)),et({bufferSize:1,refCount:!1}));if((0,Ae.PM)(Bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,V.of)(null);else{si.pipe((0,ut.P)()).subscribe();const er=si.pipe((0,ie.w)(Ie=>Ie.getRedirectResult().then(ft=>ft,()=>null)),ge.iC,et({bufferSize:1,refCount:!1})),ht=si.pipe((0,ie.w)(Ie=>new Te.y(ft=>({unsubscribe:Re.runOutsideAngular(()=>Ie.onAuthStateChanged(Ne=>ft.next(Ne),Ne=>ft.error(Ne),()=>ft.complete()))})))),ot=si.pipe((0,ie.w)(Ie=>new Te.y(ft=>({unsubscribe:Re.runOutsideAngular(()=>Ie.onIdTokenChanged(Ne=>ft.next(Ne),Ne=>ft.error(Ne),()=>ft.complete()))}))));this.authState=er.pipe(xt(ht),(0,Be.R)($t.outsideAngular),(0,le.Q)($t.insideAngular)),this.user=er.pipe(xt(ot),(0,Be.R)($t.outsideAngular),(0,le.Q)($t.insideAngular)),this.idToken=this.user.pipe((0,ie.w)(Ie=>Ie?(0,L.D)(Ie.getIdToken()):(0,V.of)(null))),this.idTokenResult=this.user.pipe((0,ie.w)(Ie=>Ie?(0,L.D)(Ie.getIdTokenResult()):(0,V.of)(null))),this.credential=(0,de.T)(er,Pi,this.authState.pipe((0,it.h)(Ie=>!Ie))).pipe((0,Ce.U)(Ie=>Ie?.user?Ie:null),(0,Be.R)($t.outsideAngular),(0,le.Q)($t.insideAngular))}return(0,Xe.pX)(this,si,Re,{spy:{apply:(ki,er,ht)=>{(ki.startsWith("signIn")||ki.startsWith("createUser"))&&ht.then(ot=>Pi.next(ot))}}})}}return Dt.\u0275fac=function(Zt){return new(Zt||Dt)(p.LFG(Xe.Dh),p.LFG(Xe.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(ge.HU),p.LFG(Ge,8),p.LFG(Ye,8),p.LFG(Vt,8),p.LFG(pn,8),p.LFG(Yt,8),p.LFG(Dn,8),p.LFG(oe.nm,8))},Dt.\u0275prov=p.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"any"}),Dt})()},7977:(dn,dt,k)=>{k.d(dt,{ST:()=>vr});var p=k(4650),l=k(4986),V=k(9751),Te=k(8996),L=k(9646),de=k(4976),le=k(8675),ie=k(4482),Ce=k(5403);function X(){return(0,ie.e)((Ft,me)=>{let Fe,wt=!1;Ft.subscribe((0,Ce.x)(me,an=>{const Bn=Fe;Fe=an,wt&&me.next([Bn,an]),wt=!0}))})}var ce=k(4004),Oe=k(5026),et=k(1884),ut=k(9300),st=k(2011),xt=k(6895),it=(k(9568),k(3942)),ge=k(2810),Xe=k(2090),Ae=k(4859);function Le(Ft,me){if(void 0===me)return{merge:!1};if(void 0!==me.mergeFields&&void 0!==me.merge)throw new ge.WA("invalid-argument",`Invalid options passed to function ${Ft}(): You cannot specify both "merge" and "mergeFields".`);return me}function Ge(){if(typeof Uint8Array>"u")throw new ge.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ye(){if(!(0,ge.Me)())throw new ge.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Vt{constructor(me){this._delegate=me}static fromBase64String(me){return Ye(),new Vt(ge.Jj.fromBase64String(me))}static fromUint8Array(me){return Ge(),new Vt(ge.Jj.fromUint8Array(me))}toBase64(){return Ye(),this._delegate.toBase64()}toUint8Array(){return Ge(),this._delegate.toUint8Array()}isEqual(me){return this._delegate.isEqual(me._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pn(Ft){return function Yt(Ft,me){if("object"!=typeof Ft||null===Ft)return!1;const Fe=Ft;for(const wt of me)if(wt in Fe&&"function"==typeof Fe[wt])return!0;return!1}(Ft,["next","error","complete"])}class Dn{enableIndexedDbPersistence(me,Fe){return(0,ge.ST)(me._delegate,{forceOwnership:Fe})}enableMultiTabIndexedDbPersistence(me){return(0,ge.fH)(me._delegate)}clearIndexedDbPersistence(me){return(0,ge.Fc)(me._delegate)}}class ln{constructor(me,Fe,wt){this._delegate=Fe,this._persistenceProvider=wt,this.INTERNAL={delete:()=>this.terminate()},me instanceof ge.l7||(this._appCompat=me)}get _databaseId(){return this._delegate._databaseId}settings(me){const Fe=this._delegate._getSettings();!me.merge&&Fe.host!==me.host&&(0,ge.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),me.merge&&delete(me=Object.assign(Object.assign({},Fe),me)).merge,this._delegate._setSettings(me)}useEmulator(me,Fe,wt={}){(0,ge.at)(this._delegate,me,Fe,wt)}enableNetwork(){return(0,ge.Ix)(this._delegate)}disableNetwork(){return(0,ge.TF)(this._delegate)}enablePersistence(me){let Fe=!1,wt=!1;return me&&(Fe=!!me.synchronizeTabs,wt=!!me.experimentalForceOwningTab,(0,ge.Wi)("synchronizeTabs",Fe,"experimentalForceOwningTab",wt)),Fe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,wt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ge.Mx)(this._delegate)}onSnapshotsInSync(me){return(0,ge.sc)(this._delegate,me)}get app(){if(!this._appCompat)throw new ge.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(me){try{return new Un(this,(0,ge.hJ)(this._delegate,me))}catch(Fe){throw Bt(Fe,"collection()","Firestore.collection()")}}doc(me){try{return new rt(this,(0,ge.JU)(this._delegate,me))}catch(Fe){throw Bt(Fe,"doc()","Firestore.doc()")}}collectionGroup(me){try{return new Ht(this,(0,ge.B$)(this._delegate,me))}catch(Fe){throw Bt(Fe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(me){return(0,ge.i3)(this._delegate,Fe=>me(new Dt(this,Fe)))}batch(){return(0,ge.qY)(this._delegate),new Nt(new ge.PU(this._delegate,me=>(0,ge.GL)(this._delegate,me)))}loadBundle(me){return(0,ge.Pb)(this._delegate,me)}namedQuery(me){return(0,ge.L$)(this._delegate,me).then(Fe=>Fe?new Ht(this,Fe):null)}}class It extends ge.u7{constructor(me){super(),this.firestore=me}convertBytes(me){return new Vt(new ge.Jj(me))}convertReference(me){const Fe=this.convertDocumentKey(me,this.firestore._databaseId);return rt.forKey(Fe,this.firestore,null)}}class Dt{constructor(me,Fe){this._firestore=me,this._delegate=Fe,this._userDataWriter=new It(me)}get(me){const Fe=Ii(me);return this._delegate.get(Fe).then(wt=>new Pt(this._firestore,new ge.xU(this._firestore._delegate,this._userDataWriter,wt._key,wt._document,wt.metadata,Fe.converter)))}set(me,Fe,wt){const an=Ii(me);return wt?(Le("Transaction.set",wt),this._delegate.set(an,Fe,wt)):this._delegate.set(an,Fe),this}update(me,Fe,wt,...an){const Bn=Ii(me);return 2===arguments.length?this._delegate.update(Bn,Fe):this._delegate.update(Bn,Fe,wt,...an),this}delete(me){const Fe=Ii(me);return this._delegate.delete(Fe),this}}class Nt{constructor(me){this._delegate=me}set(me,Fe,wt){const an=Ii(me);return wt?(Le("WriteBatch.set",wt),this._delegate.set(an,Fe,wt)):this._delegate.set(an,Fe),this}update(me,Fe,wt,...an){const Bn=Ii(me);return 2===arguments.length?this._delegate.update(Bn,Fe):this._delegate.update(Bn,Fe,wt,...an),this}delete(me){const Fe=Ii(me);return this._delegate.delete(Fe),this}commit(){return this._delegate.commit()}}class Zt{constructor(me,Fe,wt){this._firestore=me,this._userDataWriter=Fe,this._delegate=wt}fromFirestore(me,Fe){const wt=new ge.$q(this._firestore._delegate,this._userDataWriter,me._key,me._document,me.metadata,null);return this._delegate.fromFirestore(new tn(this._firestore,wt),Fe??{})}toFirestore(me,Fe){return Fe?this._delegate.toFirestore(me,Fe):this._delegate.toFirestore(me)}static getInstance(me,Fe){const wt=Zt.INSTANCES;let an=wt.get(me);an||(an=new WeakMap,wt.set(me,an));let Bn=an.get(Fe);return Bn||(Bn=new Zt(me,new It(me),Fe),an.set(Fe,Bn)),Bn}}Zt.INSTANCES=new WeakMap;class rt{constructor(me,Fe){this.firestore=me,this._delegate=Fe,this._userDataWriter=new It(me)}static forPath(me,Fe,wt){if(me.length%2!=0)throw new ge.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${me.canonicalString()} has ${me.length}`);return new rt(Fe,new ge.my(Fe._delegate,wt,new ge.Ky(me)))}static forKey(me,Fe,wt){return new rt(Fe,new ge.my(Fe._delegate,wt,me))}get id(){return this._delegate.id}get parent(){return new Un(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(me){try{return new Un(this.firestore,(0,ge.hJ)(this._delegate,me))}catch(Fe){throw Bt(Fe,"collection()","DocumentReference.collection()")}}isEqual(me){return(me=(0,Xe.m9)(me))instanceof ge.my&&(0,ge.Eo)(this._delegate,me)}set(me,Fe){Fe=Le("DocumentReference.set",Fe);try{return Fe?(0,ge.pl)(this._delegate,me,Fe):(0,ge.pl)(this._delegate,me)}catch(wt){throw Bt(wt,"setDoc()","DocumentReference.set()")}}update(me,Fe,...wt){try{return 1===arguments.length?(0,ge.r7)(this._delegate,me):(0,ge.r7)(this._delegate,me,Fe,...wt)}catch(an){throw Bt(an,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ge.oe)(this._delegate)}onSnapshot(...me){const Fe=Re(me),wt=$t(me,an=>new Pt(this.firestore,new ge.xU(this.firestore._delegate,this._userDataWriter,an._key,an._document,an.metadata,this._delegate.converter)));return(0,ge.cf)(this._delegate,Fe,wt)}get(me){let Fe;return Fe="cache"===me?.source?(0,ge.kl)(this._delegate):"server"===me?.source?(0,ge.Xk)(this._delegate):(0,ge.QT)(this._delegate),Fe.then(wt=>new Pt(this.firestore,new ge.xU(this.firestore._delegate,this._userDataWriter,wt._key,wt._document,wt.metadata,this._delegate.converter)))}withConverter(me){return new rt(this.firestore,this._delegate.withConverter(me?Zt.getInstance(this.firestore,me):null))}}function Bt(Ft,me,Fe){return Ft.message=Ft.message.replace(me,Fe),Ft}function Re(Ft){for(const me of Ft)if("object"==typeof me&&!pn(me))return me;return{}}function $t(Ft,me){var Fe,wt;let an;return an=pn(Ft[0])?Ft[0]:pn(Ft[1])?Ft[1]:"function"==typeof Ft[0]?{next:Ft[0],error:Ft[1],complete:Ft[2]}:{next:Ft[1],error:Ft[2],complete:Ft[3]},{next:Bn=>{an.next&&an.next(me(Bn))},error:null===(Fe=an.error)||void 0===Fe?void 0:Fe.bind(an),complete:null===(wt=an.complete)||void 0===wt?void 0:wt.bind(an)}}class Pt{constructor(me,Fe){this._firestore=me,this._delegate=Fe}get ref(){return new rt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(me){return this._delegate.data(me)}get(me,Fe){return this._delegate.get(me,Fe)}isEqual(me){return(0,ge.qK)(this._delegate,me._delegate)}}class tn extends Pt{data(me){const Fe=this._delegate.data(me);return(0,ge.K9)(void 0!==Fe,"Document in a QueryDocumentSnapshot should exist"),Fe}}class Ht{constructor(me,Fe){this.firestore=me,this._delegate=Fe,this._userDataWriter=new It(me)}where(me,Fe,wt){try{return new Ht(this.firestore,(0,ge.IO)(this._delegate,(0,ge.ar)(me,Fe,wt)))}catch(an){throw Bt(an,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(me,Fe){try{return new Ht(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Xo)(me,Fe)))}catch(wt){throw Bt(wt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(me){try{return new Ht(this.firestore,(0,ge.IO)(this._delegate,(0,ge.b9)(me)))}catch(Fe){throw Bt(Fe,"limit()","Query.limit()")}}limitToLast(me){try{return new Ht(this.firestore,(0,ge.IO)(this._delegate,(0,ge.vh)(me)))}catch(Fe){throw Bt(Fe,"limitToLast()","Query.limitToLast()")}}startAt(...me){try{return new Ht(this.firestore,(0,ge.IO)(this._delegate,(0,ge.e0)(...me)))}catch(Fe){throw Bt(Fe,"startAt()","Query.startAt()")}}startAfter(...me){try{return new Ht(this.firestore,(0,ge.IO)(this._delegate,(0,ge.TQ)(...me)))}catch(Fe){throw Bt(Fe,"startAfter()","Query.startAfter()")}}endBefore(...me){try{return new Ht(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Lx)(...me)))}catch(Fe){throw Bt(Fe,"endBefore()","Query.endBefore()")}}endAt(...me){try{return new Ht(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Wu)(...me)))}catch(Fe){throw Bt(Fe,"endAt()","Query.endAt()")}}isEqual(me){return(0,ge.iE)(this._delegate,me._delegate)}get(me){let Fe;return Fe="cache"===me?.source?(0,ge.UQ)(this._delegate):"server"===me?.source?(0,ge.zN)(this._delegate):(0,ge.PL)(this._delegate),Fe.then(wt=>new Jn(this.firestore,new ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,wt._snapshot)))}onSnapshot(...me){const Fe=Re(me),wt=$t(me,an=>new Jn(this.firestore,new ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,an._snapshot)));return(0,ge.cf)(this._delegate,Fe,wt)}withConverter(me){return new Ht(this.firestore,this._delegate.withConverter(me?Zt.getInstance(this.firestore,me):null))}}class Fn{constructor(me,Fe){this._firestore=me,this._delegate=Fe}get type(){return this._delegate.type}get doc(){return new tn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Jn{constructor(me,Fe){this._firestore=me,this._delegate=Fe}get query(){return new Ht(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(me=>new tn(this._firestore,me))}docChanges(me){return this._delegate.docChanges(me).map(Fe=>new Fn(this._firestore,Fe))}forEach(me,Fe){this._delegate.forEach(wt=>{me.call(Fe,new tn(this._firestore,wt))})}isEqual(me){return(0,ge.qK)(this._delegate,me._delegate)}}class Un extends Ht{constructor(me,Fe){super(me,Fe),this.firestore=me,this._delegate=Fe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const me=this._delegate.parent;return me?new rt(this.firestore,me):null}doc(me){try{return new rt(this.firestore,void 0===me?(0,ge.JU)(this._delegate):(0,ge.JU)(this._delegate,me))}catch(Fe){throw Bt(Fe,"doc()","CollectionReference.doc()")}}add(me){return(0,ge.ET)(this._delegate,me).then(Fe=>new rt(this.firestore,Fe))}isEqual(me){return(0,ge.Eo)(this._delegate,me._delegate)}withConverter(me){return new Un(this.firestore,this._delegate.withConverter(me?Zt.getInstance(this.firestore,me):null))}}function Ii(Ft){return(0,ge.Cf)(Ft,ge.my)}class Pi{constructor(...me){this._delegate=new ge.Lz(...me)}static documentId(){return new Pi(ge.Xb.keyField().canonicalString())}isEqual(me){return(me=(0,Xe.m9)(me))instanceof ge.Lz&&this._delegate._internalPath.isEqual(me._internalPath)}}class si{constructor(me){this._delegate=me}static serverTimestamp(){const me=(0,ge.Bt)();return me._methodName="FieldValue.serverTimestamp",new si(me)}static delete(){const me=(0,ge.AK)();return me._methodName="FieldValue.delete",new si(me)}static arrayUnion(...me){const Fe=(0,ge.vr)(...me);return Fe._methodName="FieldValue.arrayUnion",new si(Fe)}static arrayRemove(...me){const Fe=(0,ge.Ab)(...me);return Fe._methodName="FieldValue.arrayRemove",new si(Fe)}static increment(me){const Fe=(0,ge.nP)(me);return Fe._methodName="FieldValue.increment",new si(Fe)}isEqual(me){return this._delegate.isEqual(me._delegate)}}const ki={Firestore:ln,GeoPoint:ge.F8,Timestamp:ge.EK,Blob:Vt,Transaction:Dt,WriteBatch:Nt,DocumentReference:rt,DocumentSnapshot:Pt,Query:Ht,QueryDocumentSnapshot:tn,QuerySnapshot:Jn,CollectionReference:Un,FieldPath:Pi,FieldValue:si,setLogLevel:function At(Ft){(0,ge.Ub)(Ft)},CACHE_SIZE_UNLIMITED:ge.IX};!function ht(Ft){(function er(Ft,me){Ft.INTERNAL.registerComponent(new Ae.wA("firestore-compat",Fe=>{const wt=Fe.getProvider("app-compat").getImmediate(),an=Fe.getProvider("firestore").getImmediate();return me(wt,an)},"PUBLIC").setServiceProps(Object.assign({},ki)))})(Ft,(me,Fe)=>new ln(me,Fe,new Dn)),Ft.registerVersion("@firebase/firestore-compat","0.3.8")}(it.Z);var ot=k(1205),Ie=k(6217);function lt(Ft,me){return function Ne(Ft,me=l.z){return new V.y(Fe=>{let wt;return null!=me?me.schedule(()=>{wt=Ft.onSnapshot({includeMetadataChanges:!0},Fe)}):wt=Ft.onSnapshot({includeMetadataChanges:!0},Fe),()=>{wt?.()}})}(Ft,me)}function hn(Ft,me){return lt(Ft,me).pipe((0,ce.U)(Fe=>({payload:Fe,type:"query"})))}function Pn(Ft,me){return hn(Ft,me).pipe((0,le.O)(void 0),X(),(0,ce.U)(([Fe,wt])=>{const an=wt.payload.docChanges(),Bn=an.map(Ni=>({type:Ni.type,payload:Ni}));return Fe&&JSON.stringify(Fe.payload.metadata)!==JSON.stringify(wt.payload.metadata)&&wt.payload.docs.forEach((Ni,ze)=>{const Ue=an.find(De=>De.doc.ref.isEqual(Ni.ref)),be=Fe?.payload.docs.find(De=>De.ref.isEqual(Ni.ref));Ue&&JSON.stringify(Ue.doc.metadata)===JSON.stringify(Ni.metadata)||!Ue&&be&&JSON.stringify(be.metadata)===JSON.stringify(Ni.metadata)||Bn.push({type:"modified",payload:{oldIndex:ze,newIndex:ze,type:"modified",doc:Ni}})}),Bn}))}function ai(Ft,me,Fe){return Pn(Ft,Fe).pipe((0,Oe.R)((wt,an)=>function En(Ft,me,Fe){return me.forEach(wt=>{Fe.indexOf(wt.type)>-1&&(Ft=function $n(Ft,me){switch(me.type){case"added":if(!Ft[me.newIndex]||!Ft[me.newIndex].doc.ref.isEqual(me.doc.ref))return wn(Ft,me.newIndex,0,me);break;case"modified":if(null==Ft[me.oldIndex]||Ft[me.oldIndex].doc.ref.isEqual(me.doc.ref)){if(me.oldIndex!==me.newIndex){const Fe=Ft.slice();return Fe.splice(me.oldIndex,1),Fe.splice(me.newIndex,0,me),Fe}return wn(Ft,me.newIndex,1,me)}break;case"removed":if(Ft[me.oldIndex]&&Ft[me.oldIndex].doc.ref.isEqual(me.doc.ref))return wn(Ft,me.oldIndex,1)}return Ft}(Ft,wt))}),Ft}(wt,an.map(Bn=>Bn.payload),me),[]),(0,et.x)(),(0,ce.U)(wt=>wt.map(an=>({type:an.type,payload:an}))))}function wn(Ft,me,Fe,...wt){const an=Ft.slice();return an.splice(me,Fe,...wt),an}function Oi(Ft){return(!Ft||0===Ft.length)&&(Ft=["added","removed","modified"]),Ft}k(9260);class Yn{constructor(me,Fe,wt){this.ref=me,this.query=Fe,this.afs=wt}stateChanges(me){let Fe=Pn(this.query,this.afs.schedulers.outsideAngular);return me&&me.length>0&&(Fe=Fe.pipe((0,ce.U)(wt=>wt.filter(an=>me.indexOf(an.type)>-1)))),Fe.pipe((0,le.O)(void 0),X(),(0,ut.h)(([wt,an])=>an.length>0||!wt),(0,ce.U)(([wt,an])=>an),de.iC)}auditTrail(me){return this.stateChanges(me).pipe((0,Oe.R)((Fe,wt)=>[...Fe,...wt],[]))}snapshotChanges(me){const Fe=Oi(me);return ai(this.query,Fe,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(me={}){return hn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(Fe=>Fe.payload.docs.map(wt=>me.idField?Object.assign(Object.assign({},wt.data()),{[me.idField]:wt.id}):wt.data())),de.iC)}get(me){return(0,Te.D)(this.query.get(me)).pipe(de.iC)}add(me){return this.ref.add(me)}doc(me){return new kn(this.ref.doc(me),this.afs)}}class kn{constructor(me,Fe){this.ref=me,this.afs=Fe}set(me,Fe){return this.ref.set(me,Fe)}update(me){return this.ref.update(me)}delete(){return this.ref.delete()}collection(me,Fe){const wt=this.ref.collection(me),{ref:an,query:Bn}=mi(wt,Fe);return new Yn(an,Bn,this.afs)}snapshotChanges(){return function An(Ft,me){return lt(Ft,me).pipe((0,le.O)(void 0),X(),(0,ce.U)(([Fe,wt])=>wt.exists?Fe?.exists?{payload:wt,type:"modified"}:{payload:wt,type:"added"}:{payload:wt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(me={}){return this.snapshotChanges().pipe((0,ce.U)(({payload:Fe})=>me.idField?Object.assign(Object.assign({},Fe.data()),{[me.idField]:Fe.id}):Fe.data()))}get(me){return(0,Te.D)(this.ref.get(me)).pipe(de.iC)}}class bi{constructor(me,Fe){this.query=me,this.afs=Fe}stateChanges(me){return me&&0!==me.length?Pn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(Fe=>Fe.filter(wt=>me.indexOf(wt.type)>-1)),(0,ut.h)(Fe=>Fe.length>0),de.iC):Pn(this.query,this.afs.schedulers.outsideAngular).pipe(de.iC)}auditTrail(me){return this.stateChanges(me).pipe((0,Oe.R)((Fe,wt)=>[...Fe,...wt],[]))}snapshotChanges(me){const Fe=Oi(me);return ai(this.query,Fe,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(me={}){return hn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(wt=>wt.payload.docs.map(an=>me.idField?Object.assign({[me.idField]:an.id},an.data()):an.data())),de.iC)}get(me){return(0,Te.D)(this.query.get(me)).pipe(de.iC)}}const Gi=new p.OlP("angularfire2.enableFirestorePersistence"),tr=new p.OlP("angularfire2.firestore.persistenceSettings"),gi=new p.OlP("angularfire2.firestore.settings"),Ur=new p.OlP("angularfire2.firestore.use-emulator");function mi(Ft,me=(Fe=>Fe)){return{query:me(Ft),ref:Ft}}let vr=(()=>{class Ft{constructor(Fe,wt,an,Bn,Ni,ze,Ue,be,De,fe,pt,Gt,bn,$e,je,Me,nt){this.schedulers=Ue;const Lt=(0,st.on)(Fe,ze,wt),qt=De;fe&&(0,ot.nw)(Lt,ze,pt,bn,$e,je,Gt,Me),[this.firestore,this.persistenceEnabled$]=(0,st.cc)(`${Lt.name}.firestore`,"AngularFirestore",Lt.name,()=>{const Ln=ze.runOutsideAngular(()=>Lt.firestore());if(Bn&&Ln.settings(Bn),qt&&Ln.useEmulator(...qt),an&&!(0,xt.PM)(Ni)){const xi=()=>{try{return(0,Te.D)(Ln.enablePersistence(be||void 0).then(()=>!0,()=>!1))}catch(St){return typeof console<"u"&&console.warn(St),(0,L.of)(!1)}};return[Ln,ze.runOutsideAngular(xi)]}return[Ln,(0,L.of)(!1)]},[Bn,qt,an])}collection(Fe,wt){let an;an="string"==typeof Fe?this.firestore.collection(Fe):Fe;const{ref:Bn,query:Ni}=mi(an,wt),ze=this.schedulers.ngZone.run(()=>Bn);return new Yn(ze,Ni,this)}collectionGroup(Fe,wt){const an=wt||(Ni=>Ni),Bn=this.firestore.collectionGroup(Fe);return new bi(an(Bn),this)}doc(Fe){let wt;wt="string"==typeof Fe?this.firestore.doc(Fe):Fe;const an=this.schedulers.ngZone.run(()=>wt);return new kn(an,this)}createId(){return this.firestore.collection("_").doc().id}}return Ft.\u0275fac=function(Fe){return new(Fe||Ft)(p.LFG(st.Dh),p.LFG(st.xv,8),p.LFG(Gi,8),p.LFG(gi,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(de.HU),p.LFG(tr,8),p.LFG(Ur,8),p.LFG(ot.zQ,8),p.LFG(ot.Qv,8),p.LFG(ot.L6,8),p.LFG(ot._Q,8),p.LFG(ot.rT,8),p.LFG(ot.lh,8),p.LFG(ot.f7,8),p.LFG(Ie.nm,8))},Ft.\u0275prov=p.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"any"}),Ft})()},2011:(dn,dt,k)=>{k.d(dt,{Dh:()=>ie,GT:()=>de,cc:()=>ut,hO:()=>et,on:()=>X,pX:()=>L,xv:()=>Ce});var p=k(4650),l=k(9260),V=k(4976);dn=k.hmd(dn);const Te=["ngOnDestroy"],L=(it,ge,Xe,Ae={})=>new Proxy(it,{get:(oe,Je)=>Xe.runOutsideAngular(()=>{var Le;if(it[Je])return!(null===(Le=Ae?.spy)||void 0===Le)&&Le.get&&Ae.spy.get(Je,it[Je]),it[Je];if(Te.indexOf(Je)>-1)return()=>{};const Ge=ge.toPromise().then(Ye=>{const Vt=Ye&&Ye[Je];return"function"==typeof Vt?Vt.bind(Ye):Vt&&Vt.then?Vt.then(pn=>Xe.run(()=>pn)):Xe.run(()=>Vt)});return new Proxy(()=>{},{get:(Ye,Vt)=>Ge[Vt],apply:(Ye,Vt,pn)=>Ge.then(Yt=>{var Dn;const ln=Yt&&Yt(...pn);return!(null===(Dn=Ae?.spy)||void 0===Dn)&&Dn.apply&&Ae.spy.apply(Je,pn,ln),ln})})})}),de=(it,ge)=>{ge.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(Ae=>{Object.defineProperty(it.prototype,Ae,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,Ae))})})};class le{constructor(ge){return ge}}const ie=new p.OlP("angularfire2.app.options"),Ce=new p.OlP("angularfire2.app.name");function X(it,ge,Xe){const oe="object"==typeof Xe&&Xe||{};oe.name=oe.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const Le=l.Z.apps.filter(Ge=>Ge&&Ge.name===oe.name)[0]||ge.runOutsideAngular(()=>l.Z.initializeApp(it,oe));try{JSON.stringify(it)!==JSON.stringify(Le.options)&&ce("error",`${Le.name} Firebase App already initialized with different options${dn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Le)}const ce=(it,...ge)=>{(0,p.X6Q)()&&typeof console<"u"&&console[it](...ge)},Oe={provide:le,useFactory:X,deps:[ie,p.R0b,[new p.FiY,Ce]]};let et=(()=>{class it{constructor(Xe){l.Z.registerVersion("angularfire",V.q4.full,"core"),l.Z.registerVersion("angularfire",V.q4.full,"app-compat"),l.Z.registerVersion("angular",p.q4F.full,Xe.toString())}static initializeApp(Xe,Ae){return{ngModule:it,providers:[{provide:ie,useValue:Xe},{provide:Ce,useValue:Ae}]}}}return it.\u0275fac=function(Xe){return new(Xe||it)(p.LFG(p.Lbi))},it.\u0275mod=p.oAB({type:it}),it.\u0275inj=p.cJS({providers:[Oe]}),it})();function ut(it,ge,Xe,Ae,oe){const[,Je,Le]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===it)||[];if(Je)return function st(it,ge){try{return it.toString()===ge.toString()}catch{return it===ge}}(oe,Le)||(Be("error",`${ge} was already initialized on the ${Xe} Firebase App with different settings.${xt?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:oe,was:Le})),Je;{const Ge=Ae();return globalThis.\u0275AngularfireInstanceCache.push([it,Ge,oe]),Ge}}const xt=!!dn.hot,Be=(it,...ge)=>{(0,p.X6Q)()&&typeof console<"u"&&console[it](...ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(dn,dt,k)=>{k.d(dt,{q4:()=>xl,iC:()=>xu,HU:()=>Ha,vb:()=>oc,JM:()=>Hl});var p=k(4650),l=k(259),V=k(5861),Te=k(6881),L=k(2090),de=k(4859),le=k(1877);let Ce,X;const et=new WeakMap,ut=new WeakMap,st=new WeakMap,xt=new WeakMap,Be=new WeakMap;let Xe={get(N,j,ne){if(N instanceof IDBTransaction){if("done"===j)return ut.get(N);if("objectStoreNames"===j)return N.objectStoreNames||st.get(N);if("store"===j)return ne.objectStoreNames[1]?void 0:ne.objectStore(ne.objectStoreNames[0])}return Le(N[j])},set:(N,j,ne)=>(N[j]=ne,!0),has:(N,j)=>N instanceof IDBTransaction&&("done"===j||"store"===j)||j in N};function Je(N){return"function"==typeof N?function oe(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...j){return N.apply(Ge(this),j),Le(et.get(this))}:function(...j){return Le(N.apply(Ge(this),j))}:function(j,...ne){const xe=N.call(Ge(this),j,...ne);return st.set(xe,j.sort?j.sort():[j]),Le(xe)}}(N):(N instanceof IDBTransaction&&function ge(N){if(ut.has(N))return;const j=new Promise((ne,xe)=>{const ct=()=>{N.removeEventListener("complete",bt),N.removeEventListener("error",yt),N.removeEventListener("abort",yt)},bt=()=>{ne(),ct()},yt=()=>{xe(N.error||new DOMException("AbortError","AbortError")),ct()};N.addEventListener("complete",bt),N.addEventListener("error",yt),N.addEventListener("abort",yt)});ut.set(N,j)}(N),((N,j)=>j.some(ne=>N instanceof ne))(N,function ce(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,Xe):N)}function Le(N){if(N instanceof IDBRequest)return function it(N){const j=new Promise((ne,xe)=>{const ct=()=>{N.removeEventListener("success",bt),N.removeEventListener("error",yt)},bt=()=>{ne(Le(N.result)),ct()},yt=()=>{xe(N.error),ct()};N.addEventListener("success",bt),N.addEventListener("error",yt)});return j.then(ne=>{ne instanceof IDBCursor&&et.set(ne,N)}).catch(()=>{}),Be.set(j,N),j}(N);if(xt.has(N))return xt.get(N);const j=Je(N);return j!==N&&(xt.set(N,j),Be.set(j,N)),j}const Ge=N=>Be.get(N),pn=["get","getKey","getAll","getAllKeys","count"],Yt=["put","add","delete","clear"],Dn=new Map;function ln(N,j){if(!(N instanceof IDBDatabase)||j in N||"string"!=typeof j)return;if(Dn.get(j))return Dn.get(j);const ne=j.replace(/FromIndex$/,""),xe=j!==ne,ct=Yt.includes(ne);if(!(ne in(xe?IDBIndex:IDBObjectStore).prototype)||!ct&&!pn.includes(ne))return;const bt=function(){var yt=(0,V.Z)(function*(cn,...Cn){const ni=this.transaction(cn,ct?"readwrite":"readonly");let Li=ni.store;return xe&&(Li=Li.index(Cn.shift())),(yield Promise.all([Li[ne](...Cn),ct&&ni.done]))[0]});return function(Cn){return yt.apply(this,arguments)}}();return Dn.set(j,bt),bt}!function Ae(N){Xe=N(Xe)}(N=>({...N,get:(j,ne,xe)=>ln(j,ne)||N.get(j,ne,xe),has:(j,ne)=>!!ln(j,ne)||N.has(j,ne)}));const It="@firebase/installations",At="0.6.4",Nt=`w:${At}`,Zt="FIS_v2",tn=new L.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ht(N){return N instanceof L.ZR&&N.code.includes("request-failed")}function Fn({projectId:N}){return`https://firebaseinstallations.googleapis.com/v1/projects/${N}/installations`}function Jn(N){return{token:N.token,requestStatus:2,expiresIn:ht(N.expiresIn),creationTime:Date.now()}}function Un(N,j){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,V.Z)(function*(N,j){const xe=(yield j.json()).error;return tn.create("request-failed",{requestName:N,serverCode:xe.code,serverMessage:xe.message,serverStatus:xe.status})})).apply(this,arguments)}function Pi({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function si(N,{refreshToken:j}){const ne=Pi(N);return ne.append("Authorization",function ot(N){return`${Zt} ${N}`}(j)),ne}function ki(N){return er.apply(this,arguments)}function er(){return(er=(0,V.Z)(function*(N){const j=yield N();return j.status>=500&&j.status<600?N():j})).apply(this,arguments)}function ht(N){return Number(N.replace("s","000"))}function Ie(N,j){return ft.apply(this,arguments)}function ft(){return(ft=(0,V.Z)(function*({appConfig:N,heartbeatServiceProvider:j},{fid:ne}){const xe=Fn(N),ct=Pi(N),bt=j.getImmediate({optional:!0});if(bt){const ni=yield bt.getHeartbeatsHeader();ni&&ct.append("x-firebase-client",ni)}const cn={method:"POST",headers:ct,body:JSON.stringify({fid:ne,authVersion:Zt,appId:N.appId,sdkVersion:Nt})},Cn=yield ki(()=>fetch(xe,cn));if(Cn.ok){const ni=yield Cn.json();return{fid:ni.fid||ne,registrationStatus:2,refreshToken:ni.refreshToken,authToken:Jn(ni.authToken)}}throw yield Un("Create Installation",Cn)})).apply(this,arguments)}function Ne(N){return new Promise(j=>{setTimeout(j,N)})}const An=/^[cdef][\w-]{21}$/;function Pn(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const ne=function ai(N){return function lt(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return An.test(ne)?ne:""}catch{return""}}function En(N){return`${N.appName}!${N.appId}`}const wn=new Map;function $n(N,j){const ne=En(N);kn(ne,j),function bi(N,j){const ne=function tr(){return!Gi&&"BroadcastChannel"in self&&(Gi=new BroadcastChannel("[Firebase] FID Change"),Gi.onmessage=N=>{kn(N.data.key,N.data.fid)}),Gi}();ne&&ne.postMessage({key:N,fid:j}),function gi(){0===wn.size&&Gi&&(Gi.close(),Gi=null)}()}(ne,j)}function kn(N,j){const ne=wn.get(N);if(ne)for(const xe of ne)xe(j)}let Gi=null;const vr="firebase-installations-store";let sr=null;function Ft(){return sr||(sr=function Ye(N,j,{blocked:ne,upgrade:xe,blocking:ct,terminated:bt}={}){const yt=indexedDB.open(N,j),cn=Le(yt);return xe&&yt.addEventListener("upgradeneeded",Cn=>{xe(Le(yt.result),Cn.oldVersion,Cn.newVersion,Le(yt.transaction))}),ne&&yt.addEventListener("blocked",()=>ne()),cn.then(Cn=>{bt&&Cn.addEventListener("close",()=>bt()),ct&&Cn.addEventListener("versionchange",()=>ct())}).catch(()=>{}),cn}("firebase-installations-database",1,{upgrade:(N,j)=>{0===j&&N.createObjectStore(vr)}})),sr}function me(N,j){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,V.Z)(function*(N,j){const ne=En(N),ct=(yield Ft()).transaction(vr,"readwrite"),bt=ct.objectStore(vr),yt=yield bt.get(ne);return yield bt.put(j,ne),yield ct.done,(!yt||yt.fid!==j.fid)&&$n(N,j.fid),j})).apply(this,arguments)}function wt(N){return an.apply(this,arguments)}function an(){return(an=(0,V.Z)(function*(N){const j=En(N),xe=(yield Ft()).transaction(vr,"readwrite");yield xe.objectStore(vr).delete(j),yield xe.done})).apply(this,arguments)}function Bn(N,j){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,V.Z)(function*(N,j){const ne=En(N),ct=(yield Ft()).transaction(vr,"readwrite"),bt=ct.objectStore(vr),yt=yield bt.get(ne),cn=j(yt);return void 0===cn?yield bt.delete(ne):yield bt.put(cn,ne),yield ct.done,cn&&(!yt||yt.fid!==cn.fid)&&$n(N,cn.fid),cn})).apply(this,arguments)}function ze(N){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,V.Z)(function*(N){let j;const ne=yield Bn(N.appConfig,xe=>{const ct=be(xe),bt=De(N,ct);return j=bt.registrationPromise,bt.installationEntry});return""===ne.fid?{installationEntry:yield j}:{installationEntry:ne,registrationPromise:j}})).apply(this,arguments)}function be(N){return je(N||{fid:Pn(),registrationStatus:0})}function De(N,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(tn.create("app-offline"))};const ne={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},xe=function fe(N,j){return pt.apply(this,arguments)}(N,ne);return{installationEntry:ne,registrationPromise:xe}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Gt(N)}:{installationEntry:j}}function pt(){return(pt=(0,V.Z)(function*(N,j){try{const ne=yield Ie(N,j);return me(N.appConfig,ne)}catch(ne){throw Ht(ne)&&409===ne.customData.serverCode?yield wt(N.appConfig):yield me(N.appConfig,{fid:j.fid,registrationStatus:0}),ne}})).apply(this,arguments)}function Gt(N){return bn.apply(this,arguments)}function bn(){return(bn=(0,V.Z)(function*(N){let j=yield $e(N.appConfig);for(;1===j.registrationStatus;)yield Ne(100),j=yield $e(N.appConfig);if(0===j.registrationStatus){const{installationEntry:ne,registrationPromise:xe}=yield ze(N);return xe||ne}return j})).apply(this,arguments)}function $e(N){return Bn(N,j=>{if(!j)throw tn.create("installation-not-found");return je(j)})}function je(N){return function Me(N){return 1===N.registrationStatus&&N.registrationTime+1e4<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function nt(N,j){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,V.Z)(function*({appConfig:N,heartbeatServiceProvider:j},ne){const xe=qt(N,ne),ct=si(N,ne),bt=j.getImmediate({optional:!0});if(bt){const ni=yield bt.getHeartbeatsHeader();ni&&ct.append("x-firebase-client",ni)}const cn={method:"POST",headers:ct,body:JSON.stringify({installation:{sdkVersion:Nt,appId:N.appId}})},Cn=yield ki(()=>fetch(xe,cn));if(Cn.ok)return Jn(yield Cn.json());throw yield Un("Generate Auth Token",Cn)})).apply(this,arguments)}function qt(N,{fid:j}){return`${Fn(N)}/${j}/authTokens:generate`}function Ln(N){return xi.apply(this,arguments)}function xi(){return(xi=(0,V.Z)(function*(N,j=!1){let ne;const xe=yield Bn(N.appConfig,bt=>{if(!_i(bt))throw tn.create("not-registered");const yt=bt.authToken;if(!j&&Mi(yt))return bt;if(1===yt.requestStatus)return ne=St(N,j),bt;{if(!navigator.onLine)throw tn.create("app-offline");const cn=br(bt);return ne=Nn(N,cn),cn}});return ne?yield ne:xe.authToken})).apply(this,arguments)}function St(N,j){return Et.apply(this,arguments)}function Et(){return(Et=(0,V.Z)(function*(N,j){let ne=yield Xt(N.appConfig);for(;1===ne.authToken.requestStatus;)yield Ne(100),ne=yield Xt(N.appConfig);const xe=ne.authToken;return 0===xe.requestStatus?Ln(N,j):xe})).apply(this,arguments)}function Xt(N){return Bn(N,j=>{if(!_i(j))throw tn.create("not-registered");return function Hn(N){return 1===N.requestStatus&&N.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function Nn(N,j){return qn.apply(this,arguments)}function qn(){return(qn=(0,V.Z)(function*(N,j){try{const ne=yield nt(N,j),xe=Object.assign(Object.assign({},j),{authToken:ne});return yield me(N.appConfig,xe),ne}catch(ne){if(!Ht(ne)||401!==ne.customData.serverCode&&404!==ne.customData.serverCode){const xe=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield me(N.appConfig,xe)}else yield wt(N.appConfig);throw ne}})).apply(this,arguments)}function _i(N){return void 0!==N&&2===N.registrationStatus}function Mi(N){return 2===N.requestStatus&&!function Rr(N){const j=Date.now();return j<N.creationTime||N.creationTime+N.expiresIn<j+36e5}(N)}function br(N){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:j})}function Pr(){return(Pr=(0,V.Z)(function*(N){const j=N,{installationEntry:ne,registrationPromise:xe}=yield ze(j);return xe?xe.catch(console.error):Ln(j).catch(console.error),ne.fid})).apply(this,arguments)}function Kr(){return(Kr=(0,V.Z)(function*(N,j=!1){const ne=N;return yield Zr(ne),(yield Ln(ne,j)).token})).apply(this,arguments)}function Zr(N){return fn.apply(this,arguments)}function fn(){return(fn=(0,V.Z)(function*(N){const{registrationPromise:j}=yield ze(N);j&&(yield j)})).apply(this,arguments)}function Ze(N){return tn.create("missing-app-config-values",{valueName:N})}const Ke="installations",Gn=N=>{const j=N.getProvider("app").getImmediate(),ne=function Se(N){if(!N||!N.options)throw Ze("App Configuration");if(!N.name)throw Ze("App Name");const j=["projectId","apiKey","appId"];for(const ne of j)if(!N.options[ne])throw Ze(ne);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(j);return{app:j,appConfig:ne,heartbeatServiceProvider:(0,Te._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},ur=N=>{const j=N.getProvider("app").getImmediate(),ne=(0,Te._getProvider)(j,Ke).getImmediate();return{getId:()=>function Dr(N){return Pr.apply(this,arguments)}(ne),getToken:ct=>function Ts(N){return Kr.apply(this,arguments)}(ne,ct)}};(function $i(){(0,Te._registerComponent)(new de.wA(Ke,Gn,"PUBLIC")),(0,Te._registerComponent)(new de.wA("installations-internal",ur,"PRIVATE"))})(),(0,Te.registerVersion)(It,At),(0,Te.registerVersion)(It,At,"esm2017");const wi="@firebase/remote-config",Cr=new L.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dl{constructor(j,ne,xe,ct){this.client=j,this.storage=ne,this.storageCache=xe,this.logger=ct}isCachedDataFresh(j,ne){if(!ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const xe=Date.now()-ne,ct=xe<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${xe}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${ct}.`),ct}fetch(j){var ne=this;return(0,V.Z)(function*(){const[xe,ct]=yield Promise.all([ne.storage.getLastSuccessfulFetchTimestampMillis(),ne.storage.getLastSuccessfulFetchResponse()]);if(ct&&ne.isCachedDataFresh(j.cacheMaxAgeMillis,xe))return ct;j.eTag=ct&&ct.eTag;const bt=yield ne.client.fetch(j),yt=[ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===bt.status&&yt.push(ne.storage.setLastSuccessfulFetchResponse(bt)),yield Promise.all(yt),bt})()}}function Oo(N=navigator){return N.languages&&N.languages[0]||N.language}class Mo{constructor(j,ne,xe,ct,bt,yt){this.firebaseInstallations=j,this.sdkVersion=ne,this.namespace=xe,this.projectId=ct,this.apiKey=bt,this.appId=yt}fetch(j){var ne=this;return(0,V.Z)(function*(){const[xe,ct]=yield Promise.all([ne.firebaseInstallations.getId(),ne.firebaseInstallations.getToken()]),yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ne.projectId}/namespaces/${ne.namespace}:fetch?key=${ne.apiKey}`,cn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},Cn={sdk_version:ne.sdkVersion,app_instance_id:xe,app_instance_id_token:ct,app_id:ne.appId,language_code:Oo()},ni={method:"POST",headers:cn,body:JSON.stringify(Cn)},Li=fetch(yt,ni),Ui=new Promise((ll,Cl)=>{j.signal.addEventListener(()=>{const cc=new Error("The operation was aborted.");cc.name="AbortError",Cl(cc)})});let zo;try{yield Promise.race([Li,Ui]),zo=yield Li}catch(ll){let Cl="fetch-client-network";throw"AbortError"===ll?.name&&(Cl="fetch-timeout"),Cr.create(Cl,{originalErrorMessage:ll?.message})}let Bs=zo.status;const Hc=zo.headers.get("ETag")||void 0;let lc,Gc;if(200===zo.status){let ll;try{ll=yield zo.json()}catch(Cl){throw Cr.create("fetch-client-parse",{originalErrorMessage:Cl?.message})}lc=ll.entries,Gc=ll.state}if("INSTANCE_STATE_UNSPECIFIED"===Gc?Bs=500:"NO_CHANGE"===Gc?Bs=304:("NO_TEMPLATE"===Gc||"EMPTY_CONFIG"===Gc)&&(lc={}),304!==Bs&&200!==Bs)throw Cr.create("fetch-status",{httpStatus:Bs});return{status:Bs,eTag:Hc,config:lc}})()}}class yl{constructor(j,ne){this.client=j,this.storage=ne}fetch(j){var ne=this;return(0,V.Z)(function*(){const xe=(yield ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ne.attemptFetch(j,xe)})()}attemptFetch(j,{throttleEndTimeMillis:ne,backoffCount:xe}){var ct=this;return(0,V.Z)(function*(){yield function Ia(N,j){return new Promise((ne,xe)=>{const ct=Math.max(j-Date.now(),0),bt=setTimeout(ne,ct);N.addEventListener(()=>{clearTimeout(bt),xe(Cr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,ne);try{const bt=yield ct.client.fetch(j);return yield ct.storage.deleteThrottleMetadata(),bt}catch(bt){if(!function Aa(N){if(!(N instanceof L.ZR&&N.customData))return!1;const j=Number(N.customData.httpStatus);return 429===j||500===j||503===j||504===j}(bt))throw bt;const yt={throttleEndTimeMillis:Date.now()+(0,L.$s)(xe),backoffCount:xe+1};return yield ct.storage.setThrottleMetadata(yt),ct.attemptFetch(j,yt)}})()}}class ua{constructor(j,ne,xe,ct,bt){this.app=j,this._client=ne,this._storageCache=xe,this._storage=ct,this._logger=bt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gs(N,j){const ne=N.target.error||void 0;return Cr.create(j,{originalErrorMessage:ne&&ne?.message})}const js="app_namespace_store";class Qo{constructor(j,ne,xe,ct=function da(){return new Promise((N,j)=>{try{const ne=indexedDB.open("firebase_remote_config",1);ne.onerror=xe=>{j(Gs(xe,"storage-open"))},ne.onsuccess=xe=>{N(xe.target.result)},ne.onupgradeneeded=xe=>{0===xe.oldVersion&&xe.target.result.createObjectStore(js,{keyPath:"compositeKey"})}}catch(ne){j(Cr.create("storage-open",{originalErrorMessage:ne?.message}))}})}()){this.appId=j,this.appName=ne,this.namespace=xe,this.openDbPromise=ct}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var ne=this;return(0,V.Z)(function*(){const xe=yield ne.openDbPromise;return new Promise((ct,bt)=>{const cn=xe.transaction([js],"readonly").objectStore(js),Cn=ne.createCompositeKey(j);try{const ni=cn.get(Cn);ni.onerror=Li=>{bt(Gs(Li,"storage-get"))},ni.onsuccess=Li=>{const Ui=Li.target.result;ct(Ui?Ui.value:void 0)}}catch(ni){bt(Cr.create("storage-get",{originalErrorMessage:ni?.message}))}})})()}set(j,ne){var xe=this;return(0,V.Z)(function*(){const ct=yield xe.openDbPromise;return new Promise((bt,yt)=>{const Cn=ct.transaction([js],"readwrite").objectStore(js),ni=xe.createCompositeKey(j);try{const Li=Cn.put({compositeKey:ni,value:ne});Li.onerror=Ui=>{yt(Gs(Ui,"storage-set"))},Li.onsuccess=()=>{bt()}}catch(Li){yt(Cr.create("storage-set",{originalErrorMessage:Li?.message}))}})})()}delete(j){var ne=this;return(0,V.Z)(function*(){const xe=yield ne.openDbPromise;return new Promise((ct,bt)=>{const cn=xe.transaction([js],"readwrite").objectStore(js),Cn=ne.createCompositeKey(j);try{const ni=cn.delete(Cn);ni.onerror=Li=>{bt(Gs(Li,"storage-delete"))},ni.onsuccess=()=>{ct()}}catch(ni){bt(Cr.create("storage-delete",{originalErrorMessage:ni?.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class vo{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,V.Z)(function*(){const ne=j.storage.getLastFetchStatus(),xe=j.storage.getLastSuccessfulFetchTimestampMillis(),ct=j.storage.getActiveConfig(),bt=yield ne;bt&&(j.lastFetchStatus=bt);const yt=yield xe;yt&&(j.lastSuccessfulFetchTimestampMillis=yt);const cn=yield ct;cn&&(j.activeConfig=cn)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function ha(){return Na.apply(this,arguments)}function Na(){return(Na=(0,V.Z)(function*(){if(!(0,L.hl)())return!1;try{return yield(0,L.eu)()}catch{return!1}})).apply(this,arguments)}let xs,ho;!function Jo(){(0,Te._registerComponent)(new de.wA("remote-config",function N(j,{instanceIdentifier:ne}){const xe=j.getProvider("app").getImmediate(),ct=j.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cr.create("registration-window");if(!(0,L.hl)())throw Cr.create("indexed-db-unavailable");const{projectId:bt,apiKey:yt,appId:cn}=xe.options;if(!bt)throw Cr.create("registration-project-id");if(!yt)throw Cr.create("registration-api-key");if(!cn)throw Cr.create("registration-app-id");const Cn=new Qo(cn,xe.name,ne=ne||"firebase"),ni=new vo(Cn),Li=new le.Yd(wi);Li.logLevel=le.in.ERROR;const Ui=new Mo(ct,Te.SDK_VERSION,ne,bt,yt,cn),zo=new yl(Ui,Cn),Bs=new dl(zo,Cn,ni,Li),Hc=new ua(xe,Bs,ni,Cn,Li);return function Ei(N){const j=(0,L.m9)(N);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(Hc),Hc},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(wi,"0.4.4"),(0,Te.registerVersion)(wi,"0.4.4","esm2017")}();const xo=new WeakMap,Ro=new WeakMap,kr=new WeakMap,Po=new WeakMap,zs=new WeakMap;let jr={get(N,j,ne){if(N instanceof IDBTransaction){if("done"===j)return Ro.get(N);if("objectStoreNames"===j)return N.objectStoreNames||kr.get(N);if("store"===j)return ne.objectStoreNames[1]?void 0:ne.objectStore(ne.objectStoreNames[0])}return Bi(N[j])},set:(N,j,ne)=>(N[j]=ne,!0),has:(N,j)=>N instanceof IDBTransaction&&("done"===j||"store"===j)||j in N};function fa(N){return"function"==typeof N?function Qs(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ka(){return ho||(ho=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...j){return N.apply(gr(this),j),Bi(xo.get(this))}:function(...j){return Bi(N.apply(gr(this),j))}:function(j,...ne){const xe=N.call(gr(this),j,...ne);return kr.set(xe,j.sort?j.sort():[j]),Bi(xe)}}(N):(N instanceof IDBTransaction&&function fo(N){if(Ro.has(N))return;const j=new Promise((ne,xe)=>{const ct=()=>{N.removeEventListener("complete",bt),N.removeEventListener("error",yt),N.removeEventListener("abort",yt)},bt=()=>{ne(),ct()},yt=()=>{xe(N.error||new DOMException("AbortError","AbortError")),ct()};N.addEventListener("complete",bt),N.addEventListener("error",yt),N.addEventListener("abort",yt)});Ro.set(N,j)}(N),((N,j)=>j.some(ne=>N instanceof ne))(N,function Is(){return xs||(xs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,jr):N)}function Bi(N){if(N instanceof IDBRequest)return function Gr(N){const j=new Promise((ne,xe)=>{const ct=()=>{N.removeEventListener("success",bt),N.removeEventListener("error",yt)},bt=()=>{ne(Bi(N.result)),ct()},yt=()=>{xe(N.error),ct()};N.addEventListener("success",bt),N.addEventListener("error",yt)});return j.then(ne=>{ne instanceof IDBCursor&&xo.set(ne,N)}).catch(()=>{}),zs.set(j,N),j}(N);if(Po.has(N))return Po.get(N);const j=fa(N);return j!==N&&(Po.set(N,j),zs.set(j,N)),j}const gr=N=>zs.get(N);function As(N,j,{blocked:ne,upgrade:xe,blocking:ct,terminated:bt}={}){const yt=indexedDB.open(N,j),cn=Bi(yt);return xe&&yt.addEventListener("upgradeneeded",Cn=>{xe(Bi(yt.result),Cn.oldVersion,Cn.newVersion,Bi(yt.transaction))}),ne&&yt.addEventListener("blocked",()=>ne()),cn.then(Cn=>{bt&&Cn.addEventListener("close",()=>bt()),ct&&Cn.addEventListener("versionchange",()=>ct())}).catch(()=>{}),cn}function Xo(N,{blocked:j}={}){const ne=indexedDB.deleteDatabase(N);return j&&ne.addEventListener("blocked",()=>j()),Bi(ne).then(()=>{})}const Sl=["get","getKey","getAll","getAllKeys","count"],Os=["put","add","delete","clear"],po=new Map;function ko(N,j){if(!(N instanceof IDBDatabase)||j in N||"string"!=typeof j)return;if(po.get(j))return po.get(j);const ne=j.replace(/FromIndex$/,""),xe=j!==ne,ct=Os.includes(ne);if(!(ne in(xe?IDBIndex:IDBObjectStore).prototype)||!ct&&!Sl.includes(ne))return;const bt=function(){var yt=(0,V.Z)(function*(cn,...Cn){const ni=this.transaction(cn,ct?"readwrite":"readonly");let Li=ni.store;return xe&&(Li=Li.index(Cn.shift())),(yield Promise.all([Li[ne](...Cn),ct&&ni.done]))[0]});return function(Cn){return yt.apply(this,arguments)}}();return po.set(j,bt),bt}!function Yr(N){jr=N(jr)}(N=>({...N,get:(j,ne,xe)=>ko(j,ne)||N.get(j,ne,xe),has:(j,ne)=>!!ko(j,ne)||N.has(j,ne)}));const ui="/firebase-messaging-sw.js",Fo="/firebase-cloud-messaging-push-scope",$s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bl="google.c.a.c_id",Za="google.c.a.c_l",Ya="google.c.a.ts",Xn="google.c.a.e";var G=(()=>{return(N=G||(G={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",G;var N})();function $(N){const j=new Uint8Array(N);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function W(N){const ne=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),xe=atob(ne),ct=new Uint8Array(xe.length);for(let bt=0;bt<xe.length;++bt)ct[bt]=xe.charCodeAt(bt);return ct}const ve="fcm_token_details_db",Zn="fcm_token_object_Store";function mr(N){return Br.apply(this,arguments)}function Br(){return Br=(0,V.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(bt=>bt.name).includes(ve))return null;let j=null;return(yield As(ve,5,{upgrade:(xe=(0,V.Z)(function*(ct,bt,yt,cn){var Cn;if(bt<2||!ct.objectStoreNames.contains(Zn))return;const ni=cn.objectStore(Zn),Li=yield ni.index("fcmSenderId").get(N);if(yield ni.clear(),Li)if(2===bt){const Ui=Li;if(!Ui.auth||!Ui.p256dh||!Ui.endpoint)return;j={token:Ui.fcmToken,createTime:null!==(Cn=Ui.createTime)&&void 0!==Cn?Cn:Date.now(),subscriptionOptions:{auth:Ui.auth,p256dh:Ui.p256dh,endpoint:Ui.endpoint,swScope:Ui.swScope,vapidKey:"string"==typeof Ui.vapidKey?Ui.vapidKey:$(Ui.vapidKey)}}}else if(3===bt){const Ui=Li;j={token:Ui.fcmToken,createTime:Ui.createTime,subscriptionOptions:{auth:$(Ui.auth),p256dh:$(Ui.p256dh),endpoint:Ui.endpoint,swScope:Ui.swScope,vapidKey:$(Ui.vapidKey)}}}else if(4===bt){const Ui=Li;j={token:Ui.fcmToken,createTime:Ui.createTime,subscriptionOptions:{auth:$(Ui.auth),p256dh:$(Ui.p256dh),endpoint:Ui.endpoint,swScope:Ui.swScope,vapidKey:$(Ui.vapidKey)}}}}),function(bt,yt,cn,Cn){return xe.apply(this,arguments)})})).close(),yield Xo(ve),yield Xo("fcm_vapid_details_db"),yield Xo("undefined"),Js(j)?j:null;var xe}),Br.apply(this,arguments)}function Js(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:j}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const Ws="firebase-messaging-store";let pa=null;function vs(){return pa||(pa=As("firebase-messaging-database",1,{upgrade:(N,j)=>{0===j&&N.createObjectStore(Ws)}})),pa}function rs(N){return ea.apply(this,arguments)}function ea(){return(ea=(0,V.Z)(function*(N){const j=Rs(N),xe=yield(yield vs()).transaction(Ws).objectStore(Ws).get(j);if(xe)return xe;{const ct=yield mr(N.appConfig.senderId);if(ct)return yield bo(N,ct),ct}})).apply(this,arguments)}function bo(N,j){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,V.Z)(function*(N,j){const ne=Rs(N),ct=(yield vs()).transaction(Ws,"readwrite");return yield ct.objectStore(Ws).put(j,ne),yield ct.done,j})).apply(this,arguments)}function Al(N){return go.apply(this,arguments)}function go(){return(go=(0,V.Z)(function*(N){const j=Rs(N),xe=(yield vs()).transaction(Ws,"readwrite");yield xe.objectStore(Ws).delete(j),yield xe.done})).apply(this,arguments)}function Rs({appConfig:N}){return N.appId}const ts=new L.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vo(N,j){return qr.apply(this,arguments)}function qr(){return(qr=(0,V.Z)(function*(N,j){const ne=yield ns(N),xe=Qa(j),ct={method:"POST",headers:ne,body:JSON.stringify(xe)};let bt;try{bt=yield(yield fetch(Pa(N.appConfig),ct)).json()}catch(yt){throw ts.create("token-subscribe-failed",{errorInfo:yt?.toString()})}if(bt.error)throw ts.create("token-subscribe-failed",{errorInfo:bt.error.message});if(!bt.token)throw ts.create("token-subscribe-no-token");return bt.token})).apply(this,arguments)}function Fr(N,j){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,V.Z)(function*(N,j){const ne=yield ns(N),xe=Qa(j.subscriptionOptions),ct={method:"PATCH",headers:ne,body:JSON.stringify(xe)};let bt;try{bt=yield(yield fetch(`${Pa(N.appConfig)}/${j.token}`,ct)).json()}catch(yt){throw ts.create("token-update-failed",{errorInfo:yt?.toString()})}if(bt.error)throw ts.create("token-update-failed",{errorInfo:bt.error.message});if(!bt.token)throw ts.create("token-update-no-token");return bt.token})).apply(this,arguments)}function Wi(N,j){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,V.Z)(function*(N,j){const xe={method:"DELETE",headers:yield ns(N)};try{const bt=yield(yield fetch(`${Pa(N.appConfig)}/${j}`,xe)).json();if(bt.error)throw ts.create("token-unsubscribe-failed",{errorInfo:bt.error.message})}catch(ct){throw ts.create("token-unsubscribe-failed",{errorInfo:ct?.toString()})}})).apply(this,arguments)}function Pa({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function ns(N){return qa.apply(this,arguments)}function qa(){return(qa=(0,V.Z)(function*({appConfig:N,installations:j}){const ne=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${ne}`})})).apply(this,arguments)}function Qa({p256dh:N,auth:j,endpoint:ne,vapidKey:xe}){const ct={web:{endpoint:ne,auth:j,p256dh:N}};return xe!==$s&&(ct.web.applicationPubKey=xe),ct}const mo=6048e5;function Ja(N){return ka.apply(this,arguments)}function ka(){return(ka=(0,V.Z)(function*(N){const j=yield Xa(N.swRegistration,N.vapidKey),ne={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:j.endpoint,auth:$(j.getKey("auth")),p256dh:$(j.getKey("p256dh"))},xe=yield rs(N.firebaseDependencies);if(xe){if(Ks(xe.subscriptionOptions,ne))return Date.now()>=xe.createTime+mo?Vi(N,{token:xe.token,createTime:Date.now(),subscriptionOptions:ne}):xe.token;try{yield Wi(N.firebaseDependencies,xe.token)}catch(ct){console.warn(ct)}return ta(N.firebaseDependencies,ne)}return ta(N.firebaseDependencies,ne)})).apply(this,arguments)}function Or(N){return ss.apply(this,arguments)}function ss(){return(ss=(0,V.Z)(function*(N){const j=yield rs(N.firebaseDependencies);j&&(yield Wi(N.firebaseDependencies,j.token),yield Al(N.firebaseDependencies));const ne=yield N.swRegistration.pushManager.getSubscription();return!ne||ne.unsubscribe()})).apply(this,arguments)}function Vi(N,j){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,V.Z)(function*(N,j){try{const ne=yield Fr(N.firebaseDependencies,j),xe=Object.assign(Object.assign({},j),{token:ne,createTime:Date.now()});return yield bo(N.firebaseDependencies,xe),ne}catch(ne){throw yield Or(N),ne}})).apply(this,arguments)}function ta(N,j){return ga.apply(this,arguments)}function ga(){return(ga=(0,V.Z)(function*(N,j){const xe={token:yield Vo(N,j),createTime:Date.now(),subscriptionOptions:j};return yield bo(N,xe),xe.token})).apply(this,arguments)}function Xa(N,j){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,V.Z)(function*(N,j){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:W(j)})})).apply(this,arguments)}function Ks(N,j){return j.vapidKey===N.vapidKey&&j.endpoint===N.endpoint&&j.auth===N.auth&&j.p256dh===N.p256dh}function bs(N){const j={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function na(N,j){if(!j.notification)return;N.notification={};const ne=j.notification.title;ne&&(N.notification.title=ne);const xe=j.notification.body;xe&&(N.notification.body=xe);const ct=j.notification.image;ct&&(N.notification.image=ct);const bt=j.notification.icon;bt&&(N.notification.icon=bt)}(j,N),function U(N,j){j.data&&(N.data=j.data)}(j,N),function te(N,j){var ne,xe,ct,bt,yt;if(!(j.fcmOptions||null!==(ne=j.notification)&&void 0!==ne&&ne.click_action))return;N.fcmOptions={};const cn=null!==(ct=null===(xe=j.fcmOptions)||void 0===xe?void 0:xe.link)&&void 0!==ct?ct:null===(bt=j.notification)||void 0===bt?void 0:bt.click_action;cn&&(N.fcmOptions.link=cn);const Cn=null===(yt=j.fcmOptions)||void 0===yt?void 0:yt.analytics_label;Cn&&(N.fcmOptions.analyticsLabel=Cn)}(j,N),j}function K(N){return"object"==typeof N&&!!N&&bl in N}function pe(N,j){const ne=[];for(let xe=0;xe<N.length;xe++)ne.push(N.charAt(xe)),xe<j.length&&ne.push(j.charAt(xe));return ne.join("")}function kt(N){return ts.create("missing-app-config-values",{valueName:N})}pe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jt{constructor(j,ne,xe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ct=function We(N){if(!N||!N.options)throw kt("App Configuration Object");if(!N.name)throw kt("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:ne}=N;for(const xe of j)if(!ne[xe])throw kt(xe);return{appName:N.name,projectId:ne.projectId,apiKey:ne.apiKey,appId:ne.appId,senderId:ne.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:ct,installations:ne,analyticsProvider:xe}}_delete(){return Promise.resolve()}}function ei(N){return ir.apply(this,arguments)}function ir(){return(ir=(0,V.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(ui,{scope:Fo}),N.swRegistration.update().catch(()=>{})}catch(j){throw ts.create("failed-service-worker-registration",{browserErrorMessage:j?.message})}})).apply(this,arguments)}function wr(N,j){return fi.apply(this,arguments)}function fi(){return(fi=(0,V.Z)(function*(N,j){if(!j&&!N.swRegistration&&(yield ei(N)),j||!N.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw ts.create("invalid-sw-registration");N.swRegistration=j}})).apply(this,arguments)}function Ri(N,j){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,V.Z)(function*(N,j){j?N.vapidKey=j:N.vapidKey||(N.vapidKey=$s)})).apply(this,arguments)}function xr(){return(xr=(0,V.Z)(function*(N,j){if(!navigator)throw ts.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ts.create("permission-blocked");return yield Ri(N,j?.vapidKey),yield wr(N,j?.serviceWorkerRegistration),Ja(N)})).apply(this,arguments)}function sn(N,j,ne){return qi.apply(this,arguments)}function qi(){return(qi=(0,V.Z)(function*(N,j,ne){const xe=_r(j);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(xe,{message_id:ne[bl],message_name:ne[Za],message_time:ne[Ya],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _r(N){switch(N){case G.NOTIFICATION_CLICKED:return"notification_open";case G.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function On(){return(On=(0,V.Z)(function*(N,j){const ne=j.data;if(!ne.isFirebaseMessaging)return;N.onMessageHandler&&ne.messageType===G.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(bs(ne)):N.onMessageHandler.next(bs(ne)));const xe=ne.data;K(xe)&&"1"===xe[Xn]&&(yield sn(N,ne.messageType,xe))})).apply(this,arguments)}const Mn="@firebase/messaging",yn=N=>{const j=new Jt(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ne=>function eo(N,j){return On.apply(this,arguments)}(j,ne)),j},Mt=N=>{const j=N.getProvider("messaging").getImmediate();return{getToken:xe=>function Nr(N,j){return xr.apply(this,arguments)}(j,xe)}};function ds(){return el.apply(this,arguments)}function el(){return(el=(0,V.Z)(function*(){try{yield(0,L.eu)()}catch{return!1}return typeof window<"u"&&(0,L.hl)()&&(0,L.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function on(){(0,Te._registerComponent)(new de.wA("messaging",yn,"PUBLIC")),(0,Te._registerComponent)(new de.wA("messaging-internal",Mt,"PRIVATE")),(0,Te.registerVersion)(Mn,"0.12.4"),(0,Te.registerVersion)(Mn,"0.12.4","esm2017")}();const Ol="analytics",Ps="firebase_id",ec="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zr="https://www.googletagmanager.com/gtag/js",Rn=new le.Yd("@firebase/analytics"),li=new L.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Eo(N){if(!N.startsWith(zr)){const j=li.create("invalid-gtag-resource",{gtagURL:N});return Rn.warn(j.message),""}return N}function hr(N){return Promise.all(N.map(j=>j.catch(ne=>ne)))}function to(N,j){const ne=function gn(N,j){let ne;return window.trustedTypes&&(ne=window.trustedTypes.createPolicy(N,j)),ne}("firebase-js-sdk-policy",{createScriptURL:Eo}),xe=document.createElement("script"),ct=`${zr}?l=${N}&id=${j}`;xe.src=ne?ne?.createScriptURL(ct):ct,xe.async=!0,document.head.appendChild(xe)}function Zs(N,j,ne,xe,ct,bt){return no.apply(this,arguments)}function no(){return(no=(0,V.Z)(function*(N,j,ne,xe,ct,bt){const yt=xe[ct];try{if(yt)yield j[yt];else{const Cn=(yield hr(ne)).find(ni=>ni.measurementId===ct);Cn&&(yield j[Cn.appId])}}catch(cn){Rn.error(cn)}N("config",ct,bt)})).apply(this,arguments)}function _a(N,j,ne,xe,ct){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,V.Z)(function*(N,j,ne,xe,ct){try{let bt=[];if(ct&&ct.send_to){let yt=ct.send_to;Array.isArray(yt)||(yt=[yt]);const cn=yield hr(ne);for(const Cn of yt){const ni=cn.find(Ui=>Ui.measurementId===Cn),Li=ni&&j[ni.appId];if(!Li){bt=[];break}bt.push(Li)}}0===bt.length&&(bt=Object.values(j)),yield Promise.all(bt),N("event",xe,ct||{})}catch(bt){Rn.error(bt)}})).apply(this,arguments)}function sa(N){const j=window.document.getElementsByTagName("script");for(const ne of Object.values(j))if(ne.src&&ne.src.includes(zr)&&ne.src.includes(N))return ne;return null}const il=new class Go{constructor(j={},ne=1e3){this.throttleMetadata=j,this.intervalMillis=ne}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,ne){this.throttleMetadata[j]=ne}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function hs(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function rl(N){return _t.apply(this,arguments)}function _t(){return(_t=(0,V.Z)(function*(N){var j;const{appId:ne,apiKey:xe}=N,ct={method:"GET",headers:hs(xe)},bt=ec.replace("{app-id}",ne),yt=yield fetch(bt,ct);if(200!==yt.status&&304!==yt.status){let cn="";try{const Cn=yield yt.json();null!==(j=Cn.error)&&void 0!==j&&j.message&&(cn=Cn.error.message)}catch{}throw li.create("config-fetch-failed",{httpStatus:yt.status,responseMessage:cn})}return yt.json()})).apply(this,arguments)}function Ml(N){return _o.apply(this,arguments)}function _o(){return(_o=(0,V.Z)(function*(N,j=il,ne){const{appId:xe,apiKey:ct,measurementId:bt}=N.options;if(!xe)throw li.create("no-app-id");if(!ct){if(bt)return{measurementId:bt,appId:xe};throw li.create("no-api-key")}const yt=j.getThrottleMetadata(xe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},cn=new sl;return setTimeout((0,V.Z)(function*(){cn.abort()}),void 0!==ne?ne:6e4),El({appId:xe,apiKey:ct,measurementId:bt},yt,cn,j)})).apply(this,arguments)}function El(N,j,ne){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,V.Z)(function*(N,{throttleEndTimeMillis:j,backoffCount:ne},xe,ct=il){var bt;const{appId:yt,measurementId:cn}=N;try{yield ya(xe,j)}catch(Cn){if(cn)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${cn} provided in the "measurementId" field in the local Firebase config. [${Cn?.message}]`),{appId:yt,measurementId:cn};throw Cn}try{const Cn=yield rl(N);return ct.deleteThrottleMetadata(yt),Cn}catch(Cn){const ni=Cn;if(!Ul(ni)){if(ct.deleteThrottleMetadata(yt),cn)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${cn} provided in the "measurementId" field in the local Firebase config. [${ni?.message}]`),{appId:yt,measurementId:cn};throw Cn}const Li=503===Number(null===(bt=ni?.customData)||void 0===bt?void 0:bt.httpStatus)?(0,L.$s)(ne,ct.intervalMillis,30):(0,L.$s)(ne,ct.intervalMillis),Ui={throttleEndTimeMillis:Date.now()+Li,backoffCount:ne+1};return ct.setThrottleMetadata(yt,Ui),Rn.debug(`Calling attemptFetch again in ${Li} millis`),El(N,Ui,xe,ct)}})).apply(this,arguments)}function ya(N,j){return new Promise((ne,xe)=>{const ct=Math.max(j-Date.now(),0),bt=setTimeout(ne,ct);N.addEventListener(()=>{clearTimeout(bt),xe(li.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function Ul(N){if(!(N instanceof L.ZR&&N.customData))return!1;const j=Number(N.customData.httpStatus);return 429===j||500===j||503===j||504===j}class sl{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}let Va,q;function Cc(){return(Cc=(0,V.Z)(function*(N,j,ne,xe,ct){if(ct&&ct.global)N("event",ne,xe);else{const bt=yield j;N("event",ne,Object.assign(Object.assign({},xe),{send_to:bt}))}})).apply(this,arguments)}function he(N){q=N}function P(N){Va=N}function T(){return O.apply(this,arguments)}function O(){return(O=(0,V.Z)(function*(){if(!(0,L.hl)())return Rn.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,L.eu)()}catch(N){return Rn.warn(li.create("indexeddb-unavailable",{errorInfo:N?.toString()}).message),!1}return!0})).apply(this,arguments)}function ue(){return(ue=(0,V.Z)(function*(N,j,ne,xe,ct,bt,yt){var cn;const Cn=Ml(N);Cn.then(Bs=>{ne[Bs.measurementId]=Bs.appId,N.options.measurementId&&Bs.measurementId!==N.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${Bs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bs=>Rn.error(Bs)),j.push(Cn);const ni=T().then(Bs=>{if(Bs)return xe.getId()}),[Li,Ui]=yield Promise.all([Cn,ni]);sa(bt)||to(bt,Li.measurementId),q&&(ct("consent","default",q),he(void 0)),ct("js",new Date);const zo=null!==(cn=yt?.config)&&void 0!==cn?cn:{};return zo.origin="firebase",zo.update=!0,null!=Ui&&(zo[Ps]=Ui),ct("config",Li.measurementId,zo),Va&&(ct("set",Va),P(void 0)),Li.measurementId})).apply(this,arguments)}class Ve{constructor(j){this.app=j}_delete(){return delete Ct[this.app.options.appId],Promise.resolve()}}let Ct={},vn=[];const Wn={};let Vr,fs,ri="dataLayer",ps=!1;function Bc(N,j,ne){!function ro(){const N=[];if((0,L.ru)()&&N.push("This is a browser extension environment."),(0,L.zI)()||N.push("Cookies are not available."),N.length>0){const j=N.map((xe,ct)=>`(${ct+1}) ${xe}`).join(" "),ne=li.create("invalid-analytics-context",{errorInfo:j});Rn.warn(ne.message)}}();const xe=N.options.appId;if(!xe)throw li.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw li.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ct[xe])throw li.create("already-exists",{id:xe});if(!ps){!function ma(N){let j=[];Array.isArray(window[N])?j=window[N]:window[N]=j}(ri);const{wrappedGtag:bt,gtagCore:yt}=function ra(N,j,ne,xe,ct){let bt=function(...yt){window[xe].push(arguments)};return window[ct]&&"function"==typeof window[ct]&&(bt=window[ct]),window[ct]=function tl(N,j,ne,xe){function bt(){return(bt=(0,V.Z)(function*(yt,...cn){try{if("event"===yt){const[Cn,ni]=cn;yield _a(N,j,ne,Cn,ni)}else if("config"===yt){const[Cn,ni]=cn;yield Zs(N,j,ne,xe,Cn,ni)}else if("consent"===yt){const[Cn]=cn;N("consent","update",Cn)}else if("get"===yt){const[Cn,ni,Li]=cn;N("get",Cn,ni,Li)}else if("set"===yt){const[Cn]=cn;N("set",Cn)}else N(yt,...cn)}catch(Cn){Rn.error(Cn)}})).apply(this,arguments)}return function ct(yt){return bt.apply(this,arguments)}}(bt,N,j,ne),{gtagCore:bt,wrappedGtag:window[ct]}}(Ct,vn,Wn,ri,"gtag");fs=bt,Vr=yt,ps=!0}return Ct[xe]=function Q(N,j,ne,xe,ct,bt,yt){return ue.apply(this,arguments)}(N,vn,Wn,j,Vr,ri,ne),new Ve(N)}function nh(){return ol.apply(this,arguments)}function ol(){return(ol=(0,V.Z)(function*(){if((0,L.ru)()||!(0,L.zI)()||!(0,L.hl)())return!1;try{return yield(0,L.eu)()}catch{return!1}})).apply(this,arguments)}const ic="@firebase/analytics";!function Vc(){(0,Te._registerComponent)(new de.wA(Ol,(j,{options:ne})=>Bc(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,Te._registerComponent)(new de.wA("analytics-internal",function N(j){try{const ne=j.getProvider(Ol).getImmediate();return{logEvent:(xe,ct,bt)=>function gs(N,j,ne,xe){N=(0,L.m9)(N),function Dc(N,j,ne,xe,ct){return Cc.apply(this,arguments)}(fs,Ct[N.app.options.appId],j,ne,xe).catch(ct=>Rn.error(ct))}(ne,xe,ct,bt)}}catch(ne){throw li.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,Te.registerVersion)(ic,"0.10.0"),(0,Te.registerVersion)(ic,"0.10.0","esm2017")}();var ih=k(4408),Sc=k(7565);const Ls=new class Nl extends Sc.v{}(class so extends ih.o{constructor(j,ne){super(j,ne),this.scheduler=j,this.work=ne}schedule(j,ne=0){return ne>0?super.schedule(j,ne):(this.delay=ne,this.state=j,this.scheduler.flush(this),this)}execute(j,ne){return ne>0||this.closed?super.execute(j,ne):this._execute(j,ne)}requestAsyncId(j,ne,xe=0){return null!=xe&&xe>0||null==xe&&this.delay>0?super.requestAsyncId(j,ne,xe):(j.flush(this),0)}});var Au=k(4986),rc=k(8505),Ic=k(9468),Ou=k(5363);const xl=new p.GfV("7.5.0"),ba="__angularfire_symbol__analyticsIsSupportedValue",Uc="__angularfire_symbol__analyticsIsSupported",Dl="__angularfire_symbol__remoteConfigIsSupportedValue",oa="__angularfire_symbol__remoteConfigIsSupported",sc="__angularfire_symbol__messagingIsSupportedValue",Rl="__angularfire_symbol__messagingIsSupported";function Hl(N,j,ne){if(j){if(1===j.length)return j[0];const bt=j.filter(yt=>yt.app===ne);if(1===bt.length)return bt[0]}return ne.container.getProvider(N).getImmediate({optional:!0})}globalThis[Uc]||(globalThis[Uc]=nh().then(N=>globalThis[ba]=N).catch(()=>globalThis[ba]=!1)),globalThis[Rl]||(globalThis[Rl]=ds().then(N=>globalThis[sc]=N).catch(()=>globalThis[sc]=!1)),globalThis[oa]||(globalThis[oa]=ha().then(N=>globalThis[Dl]=N).catch(()=>globalThis[Dl]=!1));const oc=(N,j)=>{const ne=j?[j]:(0,l.C6)(),xe=[];return ne.forEach(ct=>{ct.container.getProvider(N).instances.forEach(yt=>{xe.includes(yt)||xe.push(yt)})}),xe};function pl(){}class ru{constructor(j,ne=Ls){this.zone=j,this.delegate=ne}now(){return this.delegate.now()}schedule(j,ne,xe){const ct=this.zone;return this.delegate.schedule(function(yt){ct.runGuarded(()=>{j.apply(this,[yt])})},ne,xe)}}class su{constructor(j){this.zone=j,this.task=null}call(j,ne){const xe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pl,{},pl,pl)),ne.pipe((0,rc.b)({next:xe,complete:xe,error:xe})).subscribe(j).add(xe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ha=(()=>{class N{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new ru(Zone.current)),this.insideAngular=ne.run(()=>new ru(Zone.current,Au.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(ne){return new(ne||N)(p.LFG(p.R0b))},N.\u0275prov=p.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function wa(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function xu(N){return wa(),function Co(N){return function(ne){return(ne=ne.lift(new su(N.ngZone))).pipe((0,Ic.R)(N.outsideAngular),(0,Ou.Q)(N.insideAngular))}}(wa())(N)}},8502:(dn,dt,k)=>{k.d(dt,{$:()=>ui,A:()=>ce,D:()=>ut,I:()=>B,J:()=>Gn,L:()=>dr,N:()=>Bn,P:()=>Q,Q:()=>Qo,R:()=>To,U:()=>Wa,V:()=>ha,W:()=>Na,X:()=>Ds,Y:()=>Is,Z:()=>Ka,_:()=>zs,a:()=>wo,a0:()=>$s,a1:()=>bl,a2:()=>Il,a3:()=>Zn,a4:()=>Br,a5:()=>Lo,a6:()=>Ws,a7:()=>vs,a8:()=>ea,a9:()=>Bo,aA:()=>Ye,aB:()=>Dl,aC:()=>wt,aD:()=>Ni,aE:()=>Ic,aF:()=>Do,aG:()=>nc,aH:()=>Fi,aL:()=>ia,aO:()=>xs,aa:()=>Al,ab:()=>Rs,ac:()=>es,ad:()=>Fr,ae:()=>Wi,af:()=>Pa,ai:()=>mo,aj:()=>ka,ak:()=>Or,an:()=>Qs,ao:()=>na,aq:()=>Mr,ar:()=>Mn,as:()=>pn,at:()=>je,au:()=>Gt,av:()=>Ae,aw:()=>zo,ax:()=>iu,ay:()=>Me,az:()=>oe,b:()=>wl,c:()=>fs,d:()=>Bc,e:()=>jo,f:()=>ic,g:()=>Nl,h:()=>ih,i:()=>nl,j:()=>Au,k:()=>ll,l:()=>M,m:()=>Hf,p:()=>ie,r:()=>H,s:()=>os,u:()=>T});var p=k(5861),l=k(2090),V=k(6881),Te=k(655),L=k(1877),de=k(4859);const ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ut=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},st=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new l.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new L.Yd("@firebase/auth");function Xe(I,..._){it.logLevel<=L.in.ERROR&&it.error(`Auth (${V.SDK_VERSION}): ${I}`,..._)}function Ae(I,..._){throw Ge(I,..._)}function oe(I,..._){return Ge(I,..._)}function Je(I,_,w){const x=Object.assign(Object.assign({},st()),{[_]:w});return new l.LL("auth","Firebase",x).create(_,{appName:I.name})}function Le(I,_,w){if(!(_ instanceof w))throw w.name!==_.constructor.name&&Ae(I,"argument-error"),Je(I,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(I,..._){if("string"!=typeof I){const w=_[0],x=[..._.slice(1)];return x[0]&&(x[0].appName=I.name),I._errorFactory.create(w,...x)}return xt.create(I,..._)}function Ye(I,_,...w){if(!I)throw Ge(_,...w)}function Vt(I){const _="INTERNAL ASSERTION FAILED: "+I;throw Xe(_),new Error(_)}function pn(I,_){I||Vt(_)}function Yt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Dn(){return"http:"===ln()||"https:"===ln()}function ln(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Dt{constructor(_,w){this.shortDelay=_,this.longDelay=w,pn(w>_,"Short delay should be less than long delay!"),this.isMobile=(0,l.uI)()||(0,l.b$)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dn()||(0,l.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(I,_){pn(I.emulator,"Emulator should always be set here");const{url:w}=I.emulator;return _?`${w}${_.startsWith("/")?_.slice(1):_}`:w}class Zt{static initialize(_,w,x){this.fetchImpl=_,w&&(this.headersImpl=w),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bt=new Dt(3e4,6e4);function Re(I,_){return I.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:I.tenantId}):_}function $t(I,_,w,x){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,p.Z)(function*(I,_,w,x,se={}){return tn(I,se,(0,p.Z)(function*(){let we={},gt={};x&&("GET"===_?gt=x:we={body:JSON.stringify(x)});const Ut=(0,l.xO)(Object.assign({key:I.config.apiKey},gt)).slice(1),Tn=yield I._getAdditionalHeaders();return Tn["Content-Type"]="application/json",I.languageCode&&(Tn["X-Firebase-Locale"]=I.languageCode),Zt.fetch()(Un(I,I.config.apiHost,w,Ut),Object.assign({method:_,headers:Tn,referrerPolicy:"no-referrer"},we))}))})).apply(this,arguments)}function tn(I,_,w){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(I,_,w){I._canInitEmulator=!1;const x=Object.assign(Object.assign({},rt),_);try{const se=new Ii(I),we=yield Promise.race([w(),se.promise]);se.clearNetworkTimeout();const gt=yield we.json();if("needConfirmation"in gt)throw Pi(I,"account-exists-with-different-credential",gt);if(we.ok&&!("errorMessage"in gt))return gt;{const Ut=we.ok?gt.errorMessage:gt.error.message,[Tn,jn]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tn)throw Pi(I,"credential-already-in-use",gt);if("EMAIL_EXISTS"===Tn)throw Pi(I,"email-already-in-use",gt);if("USER_DISABLED"===Tn)throw Pi(I,"user-disabled",gt);const hi=x[Tn]||Tn.toLowerCase().replace(/[_\s]+/g,"-");if(jn)throw Je(I,hi,jn);Ae(I,hi)}}catch(se){if(se instanceof l.ZR)throw se;Ae(I,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function Fn(I,_,w,x){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,p.Z)(function*(I,_,w,x,se={}){const we=yield $t(I,_,w,x,se);return"mfaPendingCredential"in we&&Ae(I,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function Un(I,_,w,x){const se=`${_}${w}?${x}`;return I.config.emulator?Nt(I.config,se):`${I.config.apiScheme}://${se}`}class Ii{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((w,x)=>{this.timer=setTimeout(()=>x(oe(this.auth,"network-request-failed")),Bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pi(I,_,w){const x={appName:I.name};w.email&&(x.email=w.email),w.phoneNumber&&(x.phoneNumber=w.phoneNumber);const se=oe(I,_,x);return se.customData._tokenResponse=w,se}function ki(){return(ki=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function er(I,_){return ht.apply(this,arguments)}function ht(){return(ht=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ot(I,_){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ft(I){if(I)try{const _=new Date(Number(I));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function An(){return(An=(0,p.Z)(function*(I,_=!1){const w=(0,l.m9)(I),x=yield w.getIdToken(_),se=Pn(x);Ye(se&&se.exp&&se.auth_time&&se.iat,w.auth,"internal-error");const we="object"==typeof se.firebase?se.firebase:void 0,gt=we?.sign_in_provider;return{claims:se,token:x,authTime:ft(hn(se.auth_time)),issuedAtTime:ft(hn(se.iat)),expirationTime:ft(hn(se.exp)),signInProvider:gt||null,signInSecondFactor:we?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(I){return 1e3*Number(I)}function Pn(I){const[_,w,x]=I.split(".");if(void 0===_||void 0===w||void 0===x)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,l.tV)(w);return se?JSON.parse(se):(Xe("Failed to decode base64 JWT payload"),null)}catch(se){return Xe("Caught error parsing JWT payload as JSON",se?.toString()),null}}function En(I,_){return wn.apply(this,arguments)}function wn(){return(wn=(0,p.Z)(function*(I,_,w=!1){if(w)return _;try{return yield _}catch(x){throw x instanceof l.ZR&&$n(x)&&I.auth.currentUser===I&&(yield I.auth.signOut()),x}})).apply(this,arguments)}function $n({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Oi{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var w;if(_){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const se=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(_=!1){var w=this;if(!this.isRunning)return;const x=this.getInterval(_);this.timerId=setTimeout((0,p.Z)(function*(){yield w.iteration()}),x)}iteration(){var _=this;return(0,p.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&_.schedule(!0))}_.schedule()})()}}class Yn{constructor(_,w){this.createdAt=_,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=ft(this.lastLoginAt),this.creationTime=ft(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(I){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(I){var _;const w=I.auth,x=yield I.getIdToken(),se=yield En(I,ot(w,{idToken:x}));Ye(se?.users.length,w,"internal-error");const we=se.users[0];I._notifyReloadListener(we);const gt=null!==(_=we.providerUserInfo)&&void 0!==_&&_.length?Ur(we.providerUserInfo):[],Ut=gi(I.providerData,gt),hi=!!I.isAnonymous&&!(I.email&&we.passwordHash||Ut?.length),Ki={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:Ut,metadata:new Yn(we.createdAt,we.lastLoginAt),isAnonymous:hi};Object.assign(I,Ki)})).apply(this,arguments)}function tr(){return(tr=(0,p.Z)(function*(I){const _=(0,l.m9)(I);yield kn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function gi(I,_){return[...I.filter(x=>!_.some(se=>se.providerId===x.providerId)),..._]}function Ur(I){return I.map(_=>{var{providerId:w}=_,x=(0,Te._T)(_,["providerId"]);return{providerId:w,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function vr(){return(vr=(0,p.Z)(function*(I,_){const w=yield tn(I,{},(0,p.Z)(function*(){const x=(0,l.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:se,apiKey:we}=I.config,gt=Un(I,se,"/v1/token",`key=${we}`),Ut=yield I._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(gt,{method:"POST",headers:Ut,body:x})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ye(_.idToken,"internal-error"),Ye(typeof _.idToken<"u","internal-error"),Ye(typeof _.refreshToken<"u","internal-error");const w="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function ai(I){const _=Pn(I);return Ye(_,"internal-error"),Ye(typeof _.exp<"u","internal-error"),Ye(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,w)}getToken(_,w=!1){var x=this;return(0,p.Z)(function*(){return Ye(!x.accessToken||x.refreshToken,_,"user-token-expired"),w||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(_,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,w){var x=this;return(0,p.Z)(function*(){const{accessToken:se,refreshToken:we,expiresIn:gt}=yield function mi(I,_){return vr.apply(this,arguments)}(_,w);x.updateTokensAndExpiration(se,we,Number(gt))})()}updateTokensAndExpiration(_,w,x){this.refreshToken=w||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(_,w){const{refreshToken:x,accessToken:se,expirationTime:we}=w,gt=new sr;return x&&(Ye("string"==typeof x,"internal-error",{appName:_}),gt.refreshToken=x),se&&(Ye("string"==typeof se,"internal-error",{appName:_}),gt.accessToken=se),we&&(Ye("number"==typeof we,"internal-error",{appName:_}),gt.expirationTime=we),gt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new sr,this.toJSON())}_performRefresh(){return Vt("not implemented")}}function Ft(I,_){Ye("string"==typeof I||typeof I>"u","internal-error",{appName:_})}class me{constructor(_){var{uid:w,auth:x,stsTokenManager:se}=_,we=(0,Te._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=x,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new Yn(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(_){var w=this;return(0,p.Z)(function*(){const x=yield En(w,w.stsTokenManager.getToken(w.auth,_));return Ye(x,w.auth,"internal-error"),w.accessToken!==x&&(w.accessToken=x,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),x})()}getIdTokenResult(_){return function lt(I){return An.apply(this,arguments)}(this,_)}reload(){return function Gi(I){return tr.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ye(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(w=>Object.assign({},w)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const w=new me(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(_){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,w=!1){var x=this;return(0,p.Z)(function*(){let se=!1;_.idToken&&_.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(_),se=!0),w&&(yield kn(x)),yield x.auth._persistUserIfCurrent(x),se&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var _=this;return(0,p.Z)(function*(){const w=yield _.getIdToken();return yield En(_,function si(I,_){return ki.apply(this,arguments)}(_.auth,{idToken:w})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,w){var x,se,we,gt,Ut,Tn,jn,hi;const Ki=null!==(x=w.displayName)&&void 0!==x?x:void 0,Ea=null!==(se=w.email)&&void 0!==se?se:void 0,zl=null!==(we=w.phoneNumber)&&void 0!==we?we:void 0,md=null!==(gt=w.photoURL)&&void 0!==gt?gt:void 0,dc=null!==(Ut=w.tenantId)&&void 0!==Ut?Ut:void 0,Fu=null!==(Tn=w._redirectEventId)&&void 0!==Tn?Tn:void 0,Ga=null!==(jn=w.createdAt)&&void 0!==jn?jn:void 0,_d=null!==(hi=w.lastLoginAt)&&void 0!==hi?hi:void 0,{uid:Ac,emailVerified:yd,isAnonymous:gl,providerData:Lu,stsTokenManager:hc}=w;Ye(Ac&&hc,_,"internal-error");const vd=sr.fromJSON(this.name,hc);Ye("string"==typeof Ac,_,"internal-error"),Ft(Ki,_.name),Ft(Ea,_.name),Ye("boolean"==typeof yd,_,"internal-error"),Ye("boolean"==typeof gl,_,"internal-error"),Ft(zl,_.name),Ft(md,_.name),Ft(dc,_.name),Ft(Fu,_.name),Ft(Ga,_.name),Ft(_d,_.name);const bd=new me({uid:Ac,auth:_,email:Ea,emailVerified:yd,displayName:Ki,isAnonymous:gl,photoURL:md,phoneNumber:zl,tenantId:dc,stsTokenManager:vd,createdAt:Ga,lastLoginAt:_d});return Lu&&Array.isArray(Lu)&&(bd.providerData=Lu.map(or=>Object.assign({},or))),Fu&&(bd._redirectEventId=Fu),bd}static _fromIdTokenResponse(_,w,x=!1){return(0,p.Z)(function*(){const se=new sr;se.updateFromServerResponse(w);const we=new me({uid:w.localId,auth:_,stsTokenManager:se,isAnonymous:x});return yield kn(we),we})()}}const Fe=new Map;function wt(I){pn(I instanceof Function,"Expected a class definition");let _=Fe.get(I);return _?(pn(_ instanceof I,"Instance stored in cache mismatched with class"),_):(_=new I,Fe.set(I,_),_)}const Bn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(w,x){var se=this;return(0,p.Z)(function*(){se.storage[w]=x})()}_get(w){var x=this;return(0,p.Z)(function*(){const se=x.storage[w];return void 0===se?null:se})()}_remove(w){var x=this;return(0,p.Z)(function*(){delete x.storage[w]})()}_addListener(w,x){}_removeListener(w,x){}}return I.type="NONE",I})();function Ni(I,_,w){return`firebase:${I}:${_}:${w}`}class ze{constructor(_,w,x){this.persistence=_,this.auth=w,this.userKey=x;const{config:se,name:we}=this.auth;this.fullUserKey=Ni(this.userKey,se.apiKey,we),this.fullPersistenceKey=Ni("persistence",se.apiKey,we),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,p.Z)(function*(){const w=yield _.persistence._get(_.fullUserKey);return w?me._fromJSON(_.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var w=this;return(0,p.Z)(function*(){if(w.persistence===_)return;const x=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=_,x?w.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,w,x="authUser"){return(0,p.Z)(function*(){if(!w.length)return new ze(wt(Bn),_,x);const se=(yield Promise.all(w.map(function(){var jn=(0,p.Z)(function*(hi){if(yield hi._isAvailable())return hi});return function(hi){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let we=se[0]||wt(Bn);const gt=Ni(x,_.config.apiKey,_.name);let Ut=null;for(const jn of w)try{const hi=yield jn._get(gt);if(hi){const Ki=me._fromJSON(_,hi);jn!==we&&(Ut=Ki),we=jn;break}}catch{}const Tn=se.filter(jn=>jn._shouldAllowMigration);return we._shouldAllowMigration&&Tn.length?(we=Tn[0],Ut&&(yield we._set(gt,Ut.toJSON())),yield Promise.all(w.map(function(){var jn=(0,p.Z)(function*(hi){if(hi!==we)try{yield hi._remove(gt)}catch{}});return function(hi){return jn.apply(this,arguments)}}())),new ze(we,_,x)):new ze(we,_,x)})()}}function Ue(I){const _=I.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(pt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(be(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(bn(_))return"Blackberry";if($e(_))return"Webos";if(De(_))return"Safari";if((_.includes("chrome/")||fe(_))&&!_.includes("edge/"))return"Chrome";if(Gt(_))return"Android";{const x=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function be(I=(0,l.z$)()){return/firefox\//i.test(I)}function De(I=(0,l.z$)()){const _=I.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function fe(I=(0,l.z$)()){return/crios\//i.test(I)}function pt(I=(0,l.z$)()){return/iemobile/i.test(I)}function Gt(I=(0,l.z$)()){return/android/i.test(I)}function bn(I=(0,l.z$)()){return/blackberry/i.test(I)}function $e(I=(0,l.z$)()){return/webos/i.test(I)}function je(I=(0,l.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Me(I=(0,l.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function qt(I=(0,l.z$)()){return je(I)||Gt(I)||$e(I)||bn(I)||/windows phone/i.test(I)||pt(I)}function xi(I,_=[]){let w;switch(I){case"Browser":w=Ue((0,l.z$)());break;case"Worker":w=`${Ue((0,l.z$)())}-${I}`;break;default:w=I}const x=_.length?_.join(","):"FirebaseCore-web";return`${w}/JsCore/${V.SDK_VERSION}/${x}`}function Et(){return(Et=(0,p.Z)(function*(I){return(yield $t(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xt(I,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(function*(I,_){return $t(I,"GET","/v2/recaptchaConfig",Re(I,_))})).apply(this,arguments)}function qn(I){return void 0!==I&&void 0!==I.getResponse}function _i(I){return void 0!==I&&void 0!==I.enterprise}class Mi{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(w=>"EMAIL_PASSWORD_PROVIDER"===w.provider&&"OFF"!==w.enforcementState)}}function br(I){return new Promise((_,w)=>{const x=document.createElement("script");x.setAttribute("src",I),x.onload=_,x.onerror=se=>{const we=oe("internal-error");we.customData=se,w(we)},x.type="text/javascript",x.charset="UTF-8",function Rr(){var I,_;return null!==(_=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==_?_:document}().appendChild(x)})}function Hn(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Kr{constructor(_){this.type="recaptcha-enterprise",this.auth=Fi(_)}verify(_="verify",w=!1){var x=this;return(0,p.Z)(function*(){function we(){return we=(0,p.Z)(function*(Ut){if(!w){if(null==Ut.tenantId&&null!=Ut._agentRecaptchaConfig)return Ut._agentRecaptchaConfig.siteKey;if(null!=Ut.tenantId&&void 0!==Ut._tenantRecaptchaConfigs[Ut.tenantId])return Ut._tenantRecaptchaConfigs[Ut.tenantId].siteKey}return new Promise(function(){var Tn=(0,p.Z)(function*(jn,hi){Xt(Ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ki=>{if(void 0!==Ki.recaptchaKey){const Ea=new Mi(Ki);return null==Ut.tenantId?Ut._agentRecaptchaConfig=Ea:Ut._tenantRecaptchaConfigs[Ut.tenantId]=Ea,jn(Ea.siteKey)}hi(new Error("recaptcha Enterprise site key undefined"))}).catch(Ki=>{hi(Ki)})});return function(jn,hi){return Tn.apply(this,arguments)}}())}),we.apply(this,arguments)}function gt(Ut,Tn,jn){const hi=window.grecaptcha;_i(hi)?hi.enterprise.ready(()=>{hi.enterprise.execute(Ut,{action:_}).then(Ki=>{Tn(Ki)}).catch(()=>{Tn("NO_RECAPTCHA")})}):jn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ut,Tn)=>{(function se(Ut){return we.apply(this,arguments)})(x.auth).then(jn=>{if(!w&&_i(window.grecaptcha))gt(jn,Ut,Tn);else{if(typeof window>"u")return void Tn(new Error("RecaptchaVerifier is only supported in browser"));br("https://www.google.com/recaptcha/enterprise.js?render="+jn).then(()=>{gt(jn,Ut,Tn)}).catch(hi=>{Tn(hi)})}}).catch(jn=>{Tn(jn)})})})()}}function Zr(I,_,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,p.Z)(function*(I,_,w,x=!1){const se=new Kr(I);let we;try{we=yield se.verify(w)}catch{we=yield se.verify(w,!0)}const gt=Object.assign({},_);return Object.assign(gt,x?{captchaResp:we}:{captchaResponse:we}),Object.assign(gt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(gt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),gt})).apply(this,arguments)}class Ti{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,w){const x=we=>new Promise((gt,Ut)=>{try{gt(_(we))}catch(Tn){Ut(Tn)}});x.onAbort=w,this.queue.push(x);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(_){var w=this;return(0,p.Z)(function*(){if(w.auth.currentUser===_)return;const x=[];try{for(const se of w.queue)yield se(_),se.onAbort&&x.push(se.onAbort)}catch(se){x.reverse();for(const we of x)try{we()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class pr{constructor(_,w,x,se){this.app=_,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=x,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ys(this),this.idTokenSubscription=new ys(this),this.beforeStateQueue=new Ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(_,w){var x=this;return w&&(this._popupRedirectResolver=wt(w)),this._initializationPromise=this.queue((0,p.Z)(function*(){var se,we;if(!x._deleted&&(x.persistenceManager=yield ze.create(x,_),!x._deleted)){if(null!==(se=x._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(w),x.lastNotifiedUid=(null===(we=x.currentUser)||void 0===we?void 0:we.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,p.Z)(function*(){if(_._deleted)return;const w=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||w){if(_.currentUser&&w&&_.currentUser.uid===w.uid)return _._currentUser._assign(w),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(w,!0)}})()}initializeCurrentUser(_){var w=this;return(0,p.Z)(function*(){var x;const se=yield w.assertedPersistence.getCurrentUser();let we=se,gt=!1;if(_&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Ut=null===(x=w.redirectUser)||void 0===x?void 0:x._redirectEventId,Tn=we?._redirectEventId,jn=yield w.tryRedirectSignIn(_);(!Ut||Ut===Tn)&&jn?.user&&(we=jn.user,gt=!0)}if(!we)return w.directlySetCurrentUser(null);if(!we._redirectEventId){if(gt)try{yield w.beforeStateQueue.runMiddleware(we)}catch(Ut){we=se,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Ut))}return we?w.reloadAndSetCurrentUserOrClear(we):w.directlySetCurrentUser(null)}return Ye(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===we._redirectEventId?w.directlySetCurrentUser(we):w.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(_){var w=this;return(0,p.Z)(function*(){let x=null;try{x=yield w._popupRedirectResolver._completeRedirectFn(w,_,!0)}catch{yield w._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(_){var w=this;return(0,p.Z)(function*(){try{yield kn(_)}catch(x){if("auth/network-request-failed"!==x?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function At(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var _=this;return(0,p.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var w=this;return(0,p.Z)(function*(){const x=_?(0,l.m9)(_):null;return x&&Ye(x.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(x&&x._clone(w))})()}_updateCurrentUser(_,w=!1){var x=this;return(0,p.Z)(function*(){if(!x._deleted)return _&&Ye(x.tenantId===_.tenantId,x,"tenant-id-mismatch"),w||(yield x.beforeStateQueue.runMiddleware(_)),x.queue((0,p.Z)(function*(){yield x.directlySetCurrentUser(_),x.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,p.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var w=this;return this.queue((0,p.Z)(function*(){yield w.assertedPersistence.setPersistence(wt(_))}))}initializeRecaptchaConfig(){var _=this;return(0,p.Z)(function*(){const w=yield Xt(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new Mi(w);null==_.tenantId?_._agentRecaptchaConfig=x:_._tenantRecaptchaConfigs[_.tenantId]=x,x.emailPasswordEnabled&&new Kr(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new l.LL("auth","Firebase",_())}onAuthStateChanged(_,w,x){return this.registerStateListener(this.authStateSubscription,_,w,x)}beforeAuthStateChanged(_,w){return this.beforeStateQueue.pushCallback(_,w)}onIdTokenChanged(_,w,x){return this.registerStateListener(this.idTokenSubscription,_,w,x)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,w){var x=this;return(0,p.Z)(function*(){const se=yield x.getOrInitRedirectPersistenceManager(w);return null===_?se.removeCurrentUser():se.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var w=this;return(0,p.Z)(function*(){if(!w.redirectPersistenceManager){const x=_&&wt(_)||w._popupRedirectResolver;Ye(x,w,"argument-error"),w.redirectPersistenceManager=yield ze.create(w,[wt(x._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(_){var w=this;return(0,p.Z)(function*(){var x,se;return w._isInitialized&&(yield w.queue((0,p.Z)(function*(){}))),(null===(x=w._currentUser)||void 0===x?void 0:x._redirectEventId)===_?w._currentUser:(null===(se=w.redirectUser)||void 0===se?void 0:se._redirectEventId)===_?w.redirectUser:null})()}_persistUserIfCurrent(_){var w=this;return(0,p.Z)(function*(){if(_===w.currentUser)return w.queue((0,p.Z)(function*(){return w.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(w=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,w,x,se){if(this._deleted)return()=>{};const we="function"==typeof w?w:w.next.bind(w),gt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ye(gt,this,"internal-error"),gt.then(()=>we(this.currentUser)),"function"==typeof w?_.addObserver(w,x,se):_.addObserver(w)}directlySetCurrentUser(_){var w=this;return(0,p.Z)(function*(){w.currentUser&&w.currentUser!==_&&w._currentUser._stopProactiveRefresh(),_&&w.isProactiveRefreshEnabled&&_._startProactiveRefresh(),w.currentUser=_,_?yield w.assertedPersistence.setCurrentUser(_):yield w.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,p.Z)(function*(){var w;const x={"X-Client-Version":_.clientVersion};_.app.options.appId&&(x["X-Firebase-gmpid"]=_.app.options.appId);const se=yield null===(w=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();se&&(x["X-Firebase-Client"]=se);const we=yield _._getAppCheckToken();return we&&(x["X-Firebase-AppCheck"]=we),x})()}_getAppCheckToken(){var _=this;return(0,p.Z)(function*(){var w;const x=yield null===(w=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return x?.error&&function ge(I,..._){it.logLevel<=L.in.WARN&&it.warn(`Auth (${V.SDK_VERSION}): ${I}`,..._)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function Fi(I){return(0,l.m9)(I)}class ys{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,l.ne)(w=>this.observer=w)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function B(I,_,w){const x=Fi(I);Ye(x._canInitEmulator,x,"emulator-config-failed"),Ye(/^https?:\/\//.test(_),x,"invalid-emulator-scheme");const se=!!w?.disableWarnings,we=Se(_),{host:gt,port:Ut}=function Ze(I){const _=Se(I),w=/(\/\/)?([^?#/]+)/.exec(I.substr(_.length));if(!w)return{host:"",port:null};const x=w[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(x);if(se){const we=se[1];return{host:we,port:Ke(x.substr(we.length+1))}}{const[we,gt]=x.split(":");return{host:we,port:Ke(gt)}}}(_);x.config.emulator={url:`${we}//${gt}${null===Ut?"":`:${Ut}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:gt,port:Ut,protocol:we.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function mn(){function I(){const _=document.createElement("p"),w=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Se(I){const _=I.indexOf(":");return _<0?"":I.substr(0,_+1)}function Ke(I){if(!I)return null;const _=Number(I);return isNaN(_)?null:_}class Gn{constructor(_,w){this.providerId=_,this.signInMethod=w}toJSON(){return Vt("not implemented")}_getIdTokenResponse(_){return Vt("not implemented")}_linkToIdToken(_,w){return Vt("not implemented")}_getReauthenticationResolver(_){return Vt("not implemented")}}function ur(I,_){return $i.apply(this,arguments)}function $i(){return($i=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:resetPassword",Re(I,_))})).apply(this,arguments)}function wi(I,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Lr(I,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:update",Re(I,_))})).apply(this,arguments)}function Hs(I,_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,p.Z)(function*(I,_){return Fn(I,"POST","/v1/accounts:signInWithPassword",Re(I,_))})).apply(this,arguments)}function ii(I,_){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:sendOobCode",Re(I,_))})).apply(this,arguments)}function Sr(I,_){return at.apply(this,arguments)}function at(){return(at=(0,p.Z)(function*(I,_){return ii(I,_)})).apply(this,arguments)}function tt(I,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,p.Z)(function*(I,_){return ii(I,_)})).apply(this,arguments)}function zt(I,_){return rn.apply(this,arguments)}function rn(){return(rn=(0,p.Z)(function*(I,_){return ii(I,_)})).apply(this,arguments)}function ci(I,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(I,_){return ii(I,_)})).apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(I,_){return Fn(I,"POST","/v1/accounts:signInWithEmailLink",Re(I,_))})).apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(I,_){return Fn(I,"POST","/v1/accounts:signInWithEmailLink",Re(I,_))})).apply(this,arguments)}class nr extends Gn{constructor(_,w,x,se=null){super("password",x),this._email=_,this._password=w,this._tenantId=se}static _fromEmailAndPassword(_,w){return new nr(_,w,"password")}static _fromEmailAndCode(_,w,x=null){return new nr(_,w,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(_){var w=this;return(0,p.Z)(function*(){var x;switch(w.signInMethod){case"password":const se={returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=_._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const we=yield Zr(_,se,"signInWithPassword");return Hs(_,we)}return Hs(_,se).catch(function(){var we=(0,p.Z)(function*(gt){if("auth/missing-recaptcha-token"===gt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ut=yield Zr(_,se,"signInWithPassword");return Hs(_,Ut)}return Promise.reject(gt)});return function(gt){return we.apply(this,arguments)}}());case"emailLink":return function Di(I,_){return ji.apply(this,arguments)}(_,{email:w._email,oobCode:w._password});default:Ae(_,"internal-error")}})()}_linkToIdToken(_,w){var x=this;return(0,p.Z)(function*(){switch(x.signInMethod){case"password":return wi(_,{idToken:w,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Xr(I,_){return us.apply(this,arguments)}(_,{idToken:w,email:x._email,oobCode:x._password});default:Ae(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function qs(I,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,p.Z)(function*(I,_){return Fn(I,"POST","/v1/accounts:signInWithIdp",Re(I,_))})).apply(this,arguments)}class dr extends Gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const w=new dr(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(w.idToken=_.idToken),_.accessToken&&(w.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(w.nonce=_.nonce),_.pendingToken&&(w.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(w.accessToken=_.oauthToken,w.secret=_.oauthTokenSecret):Ae("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:se}=w,we=(0,Te._T)(w,["providerId","signInMethod"]);if(!x||!se)return null;const gt=new dr(x,se);return gt.idToken=we.idToken||void 0,gt.accessToken=we.accessToken||void 0,gt.secret=we.secret,gt.nonce=we.nonce,gt.pendingToken=we.pendingToken||null,gt}_getIdTokenResponse(_){return qs(_,this.buildRequest())}_linkToIdToken(_,w){const x=this.buildRequest();return x.idToken=w,qs(_,x)}_getReauthenticationResolver(_){const w=this.buildRequest();return w.autoCreate=!1,qs(_,w)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),_.postBody=(0,l.xO)(w)}return _}}function dl(I,_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:sendVerificationCode",Re(I,_))})).apply(this,arguments)}function Ia(){return(Ia=(0,p.Z)(function*(I,_){return Fn(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,_))})).apply(this,arguments)}function yl(){return(yl=(0,p.Z)(function*(I,_){const w=yield Fn(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,_));if(w.temporaryProof)throw Pi(I,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const Oa={USER_NOT_FOUND:"user-not-found"};function ua(){return(ua=(0,p.Z)(function*(I,_){return Fn(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Oa)})).apply(this,arguments)}class Gs extends Gn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,w){return new Gs({verificationId:_,verificationCode:w})}static _fromTokenResponse(_,w){return new Gs({phoneNumber:_,temporaryProof:w})}_getIdTokenResponse(_){return function Mo(I,_){return Ia.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,w){return function Aa(I,_){return yl.apply(this,arguments)}(_,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function vl(I,_){return ua.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:w,verificationId:x,verificationCode:se}=this.params;return _&&w?{temporaryProof:_,phoneNumber:w}:{sessionInfo:x,code:se}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:w,verificationCode:x,phoneNumber:se,temporaryProof:we}=_;return x||w||se||we?new Gs({verificationId:w,verificationCode:x,phoneNumber:se,temporaryProof:we}):null}}class No{constructor(_){var w,x,se,we,gt,Ut;const Tn=(0,l.zd)((0,l.pd)(_)),jn=null!==(w=Tn.apiKey)&&void 0!==w?w:null,hi=null!==(x=Tn.oobCode)&&void 0!==x?x:null,Ki=function js(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=Tn.mode)&&void 0!==se?se:null);Ye(jn&&hi&&Ki,"argument-error"),this.apiKey=jn,this.operation=Ki,this.code=hi,this.continueUrl=null!==(we=Tn.continueUrl)&&void 0!==we?we:null,this.languageCode=null!==(gt=Tn.languageCode)&&void 0!==gt?gt:null,this.tenantId=null!==(Ut=Tn.tenantId)&&void 0!==Ut?Ut:null}static parseLink(_){const w=function Ma(I){const _=(0,l.zd)((0,l.pd)(I)).link,w=_?(0,l.zd)((0,l.pd)(_)).deep_link_id:null,x=(0,l.zd)((0,l.pd)(I)).deep_link_id;return(x?(0,l.zd)((0,l.pd)(x)).link:null)||x||w||_||I}(_);try{return new No(w)}catch{return null}}}let Qo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(w,x){return nr._fromEmailAndPassword(w,x)}static credentialWithLink(w,x){const se=No.parseLink(x);return Ye(se,"argument-error"),nr._fromEmailAndCode(w,se.code,se.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class vo{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Jo extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ds extends Jo{static credentialFromJSON(_){const w="string"==typeof _?JSON.parse(_):_;return Ye("providerId"in w&&"signInMethod"in w,"argument-error"),dr._fromParams(w)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ye(_.idToken||_.accessToken,"argument-error"),dr._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ds.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ds.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:x,oauthTokenSecret:se,pendingToken:we,nonce:gt,providerId:Ut}=_;if(!x&&!se&&!w&&!we||!Ut)return null;try{return new Ds(Ut)._credential({idToken:w,accessToken:x,nonce:gt,pendingToken:we})}catch{return null}}}let Wa=(()=>{class I extends Jo{constructor(){super("facebook.com")}static credential(w){return dr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return I.credentialFromTaggedObject(w)}static credentialFromError(w){return I.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return I.credential(w.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ha=(()=>{class I extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(w,x){return dr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:x})}static credentialFromResult(w){return I.credentialFromTaggedObject(w)}static credentialFromError(w){return I.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:x,oauthAccessToken:se}=w;if(!x&&!se)return null;try{return I.credential(x,se)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Na=(()=>{class I extends Jo{constructor(){super("github.com")}static credential(w){return dr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return I.credentialFromTaggedObject(w)}static credentialFromError(w){return I.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return I.credential(w.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class xs extends Gn{constructor(_,w){super(_,_),this.pendingToken=w}_getIdTokenResponse(_){return qs(_,this.buildRequest())}_linkToIdToken(_,w){const x=this.buildRequest();return x.idToken=w,qs(_,x)}_getReauthenticationResolver(_){const w=this.buildRequest();return w.autoCreate=!1,qs(_,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:se,pendingToken:we}=w;return x&&se&&we&&x===se?new xs(x,we):null}static _create(_,w){return new xs(_,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Is extends vo{constructor(_){Ye(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Is.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Is.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const w=xs.fromJSON(_);return Ye(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:w,providerId:x}=_;if(!w||!x)return null;try{return xs._create(x,w)}catch{return null}}}let Ka=(()=>{class I extends Jo{constructor(){super("twitter.com")}static credential(w,x){return dr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:x})}static credentialFromResult(w){return I.credentialFromTaggedObject(w)}static credentialFromError(w){return I.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:x,oauthTokenSecret:se}=w;if(!x||!se)return null;try{return I.credential(x,se)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function xo(I,_){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,p.Z)(function*(I,_){return Fn(I,"POST","/v1/accounts:signUp",Re(I,_))})).apply(this,arguments)}class kr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,w,x,se=!1){return(0,p.Z)(function*(){const we=yield me._fromIdTokenResponse(_,x,se),gt=Po(x);return new kr({user:we,providerId:gt,_tokenResponse:x,operationType:w})})()}static _forOperation(_,w,x){return(0,p.Z)(function*(){yield _._updateTokensIfNecessary(x,!0);const se=Po(x);return new kr({user:_,providerId:se,_tokenResponse:x,operationType:w})})()}}function Po(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function zs(I){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,p.Z)(function*(I){var _;const w=Fi(I);if(yield w._initializationPromise,null!==(_=w.currentUser)&&void 0!==_&&_.isAnonymous)return new kr({user:w.currentUser,providerId:null,operationType:"signIn"});const x=yield xo(w,{returnSecureToken:!0}),se=yield kr._fromIdTokenResponse(w,"signIn",x,!0);return yield w._updateCurrentUser(se.user),se})).apply(this,arguments)}class fo extends l.ZR{constructor(_,w,x,se){var we;super(w.code,w.message),this.operationType=x,this.user=se,Object.setPrototypeOf(this,fo.prototype),this.customData={appName:_.name,tenantId:null!==(we=_.tenantId)&&void 0!==we?we:void 0,_serverResponse:w.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(_,w,x,se){return new fo(_,w,x,se)}}function jr(I,_,w,x){return("reauthenticate"===_?w._getReauthenticationResolver(I):w._getIdTokenResponse(I)).catch(we=>{throw"auth/multi-factor-auth-required"===we.code?fo._fromErrorAndOperation(I,we,_,x):we})}function Yr(I){return new Set(I.map(({providerId:_})=>_).filter(_=>!!_))}function Qs(I,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,p.Z)(function*(I,_){const w=(0,l.m9)(I);yield As(!0,w,_);const{providerUserInfo:x}=yield er(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[_]}),se=Yr(x||[]);return w.providerData=w.providerData.filter(we=>se.has(we.providerId)),se.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function Bi(I,_){return gr.apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(I,_,w=!1){const x=yield En(I,_._linkToIdToken(I.auth,yield I.getIdToken()),w);return kr._forOperation(I,"link",x)})).apply(this,arguments)}function As(I,_,w){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,p.Z)(function*(I,_,w){yield kn(_);const se=!1===I?"provider-already-linked":"no-such-provider";Ye(Yr(_.providerData).has(w)===I,_.auth,se)})).apply(this,arguments)}function Sl(I,_){return Os.apply(this,arguments)}function Os(){return(Os=(0,p.Z)(function*(I,_,w=!1){const{auth:x}=I,se="reauthenticate";try{const we=yield En(I,jr(x,se,_,I),w);Ye(we.idToken,x,"internal-error");const gt=Pn(we.idToken);Ye(gt,x,"internal-error");const{sub:Ut}=gt;return Ye(I.uid===Ut,x,"user-mismatch"),kr._forOperation(I,se,we)}catch(we){throw"auth/user-not-found"===we?.code&&Ae(x,"user-mismatch"),we}})).apply(this,arguments)}function po(I,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,p.Z)(function*(I,_,w=!1){const x="signIn",se=yield jr(I,x,_),we=yield kr._fromIdTokenResponse(I,x,se);return w||(yield I._updateCurrentUser(we.user)),we})).apply(this,arguments)}function ui(I,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(I,_){return po(Fi(I),_)})).apply(this,arguments)}function $s(I,_){return xa.apply(this,arguments)}function xa(){return(xa=(0,p.Z)(function*(I,_){const w=(0,l.m9)(I);return yield As(!1,w,_.providerId),Bi(w,_)})).apply(this,arguments)}function bl(I,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,p.Z)(function*(I,_){return Sl((0,l.m9)(I),_)})).apply(this,arguments)}function Ya(I,_){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,p.Z)(function*(I,_){return Fn(I,"POST","/v1/accounts:signInWithCustomToken",Re(I,_))})).apply(this,arguments)}function Il(I,_){return G.apply(this,arguments)}function G(){return(G=(0,p.Z)(function*(I,_){const w=Fi(I),x=yield Ya(w,{token:_,returnSecureToken:!0}),se=yield kr._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(se.user),se})).apply(this,arguments)}class ${constructor(_,w){this.factorId=_,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(_,w){return"phoneInfo"in w?W._fromServerResponse(_,w):"totpInfo"in w?ve._fromServerResponse(_,w):Ae(_,"internal-error")}}class W extends ${constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,w){return new W(w)}}class ve extends ${constructor(_){super("totp",_)}static _fromServerResponse(_,w){return new ve(w)}}function Tt(I,_,w){var x;Ye((null===(x=w.url)||void 0===x?void 0:x.length)>0,I,"invalid-continue-uri"),Ye(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),_.continueUrl=w.url,_.dynamicLinkDomain=w.dynamicLinkDomain,_.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(Ye(w.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),_.iOSBundleId=w.iOS.bundleId),w.android&&(Ye(w.android.packageName.length>0,I,"missing-android-pkg-name"),_.androidInstallApp=w.android.installApp,_.androidMinimumVersionCode=w.android.minimumVersion,_.androidPackageName=w.android.packageName)}function Zn(I,_,w){return mr.apply(this,arguments)}function mr(){return mr=(0,p.Z)(function*(I,_,w){var x;const se=Fi(I),we={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=se._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const gt=yield Zr(se,we,"getOobCode",!0);w&&Tt(se,gt,w),yield tt(se,gt)}else w&&Tt(se,we,w),yield tt(se,we).catch(function(){var gt=(0,p.Z)(function*(Ut){if("auth/missing-recaptcha-token"!==Ut.code)return Promise.reject(Ut);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Tn=yield Zr(se,we,"getOobCode",!0);w&&Tt(se,Tn,w),yield tt(se,Tn)}});return function(Ut){return gt.apply(this,arguments)}}())}),mr.apply(this,arguments)}function Br(I,_,w){return Js.apply(this,arguments)}function Js(){return(Js=(0,p.Z)(function*(I,_,w){yield ur((0,l.m9)(I),{oobCode:_,newPassword:w})})).apply(this,arguments)}function Lo(I,_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,p.Z)(function*(I,_){yield Lr((0,l.m9)(I),{oobCode:_})})).apply(this,arguments)}function Ws(I,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,p.Z)(function*(I,_){const w=(0,l.m9)(I),x=yield ur(w,{oobCode:_}),se=x.requestType;switch(Ye(se,w,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ye(x.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ye(x.mfaInfo,w,"internal-error");default:Ye(x.email,w,"internal-error")}let we=null;return x.mfaInfo&&(we=$._fromServerResponse(Fi(w),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:we},operation:se}})).apply(this,arguments)}function vs(I,_){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(I,_){const{data:w}=yield Ws((0,l.m9)(I),_);return w.email})).apply(this,arguments)}function ea(I,_,w){return bo.apply(this,arguments)}function bo(){return bo=(0,p.Z)(function*(I,_,w){var x;const se=Fi(I),we={returnSecureToken:!0,email:_,password:w,clientType:"CLIENT_TYPE_WEB"};let gt;if(null!==(x=se._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const jn=yield Zr(se,we,"signUpPassword");gt=xo(se,jn)}else gt=xo(se,we).catch(function(){var jn=(0,p.Z)(function*(hi){if("auth/missing-recaptcha-token"===hi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ki=yield Zr(se,we,"signUpPassword");return xo(se,Ki)}return Promise.reject(hi)});return function(hi){return jn.apply(this,arguments)}}());const Ut=yield gt.catch(jn=>Promise.reject(jn)),Tn=yield kr._fromIdTokenResponse(se,"signIn",Ut);return yield se._updateCurrentUser(Tn.user),Tn}),bo.apply(this,arguments)}function Bo(I,_,w){return ui((0,l.m9)(I),Qo.credential(_,w))}function Al(I,_,w){return go.apply(this,arguments)}function go(){return go=(0,p.Z)(function*(I,_,w){var x;const se=Fi(I),we={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function gt(Ut,Tn){Ye(Tn.handleCodeInApp,se,"argument-error"),Tn&&Tt(se,Ut,Tn)}if(null!==(x=se._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Ut=yield Zr(se,we,"getOobCode",!0);gt(Ut,w),yield zt(se,Ut)}else gt(we,w),yield zt(se,we).catch(function(){var Ut=(0,p.Z)(function*(Tn){if("auth/missing-recaptcha-token"!==Tn.code)return Promise.reject(Tn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const jn=yield Zr(se,we,"getOobCode",!0);gt(jn,w),yield zt(se,jn)}});return function(Tn){return Ut.apply(this,arguments)}}())}),go.apply(this,arguments)}function Rs(I,_){return"EMAIL_SIGNIN"===No.parseLink(_)?.operation}function es(I,_,w){return ts.apply(this,arguments)}function ts(){return(ts=(0,p.Z)(function*(I,_,w){const x=(0,l.m9)(I),se=Qo.credentialWithLink(_,w||Yt());return Ye(se._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),ui(x,se)})).apply(this,arguments)}function Vo(I,_){return qr.apply(this,arguments)}function qr(){return(qr=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:createAuthUri",Re(I,_))})).apply(this,arguments)}function Fr(I,_){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,p.Z)(function*(I,_){const x={identifier:_,continueUri:Dn()?Yt():"http://localhost"},{signinMethods:se}=yield Vo((0,l.m9)(I),x);return se||[]})).apply(this,arguments)}function Wi(I,_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,p.Z)(function*(I,_){const w=(0,l.m9)(I),se={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};_&&Tt(w.auth,se,_);const{email:we}=yield Sr(w.auth,se);we!==I.email&&(yield I.reload())})).apply(this,arguments)}function Pa(I,_,w){return ns.apply(this,arguments)}function ns(){return(ns=(0,p.Z)(function*(I,_,w){const x=(0,l.m9)(I),we={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:_};w&&Tt(x.auth,we,w);const{email:gt}=yield ci(x.auth,we);gt!==I.email&&(yield I.reload())})).apply(this,arguments)}function qa(I,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(I,_){return $t(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function mo(I,_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,p.Z)(function*(I,{displayName:_,photoURL:w}){if(void 0===_&&void 0===w)return;const x=(0,l.m9)(I),we={idToken:yield x.getIdToken(),displayName:_,photoUrl:w,returnSecureToken:!0},gt=yield En(x,qa(x.auth,we));x.displayName=gt.displayName||null,x.photoURL=gt.photoUrl||null;const Ut=x.providerData.find(({providerId:Tn})=>"password"===Tn);Ut&&(Ut.displayName=x.displayName,Ut.photoURL=x.photoURL),yield x._updateTokensIfNecessary(gt)})).apply(this,arguments)}function ka(I,_){return ss((0,l.m9)(I),_,null)}function Or(I,_){return ss((0,l.m9)(I),null,_)}function ss(I,_,w){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(I,_,w){const{auth:x}=I,we={idToken:yield I.getIdToken(),returnSecureToken:!0};_&&(we.email=_),w&&(we.password=w);const gt=yield En(I,wi(x,we));yield I._updateTokensIfNecessary(gt,!0)})).apply(this,arguments)}class ta{constructor(_,w,x={}){this.isNewUser=_,this.providerId=w,this.profile=x}}class ga extends ta{constructor(_,w,x,se){super(_,w,x),this.username=se}}class Xa extends ta{constructor(_,w){super(_,"facebook.com",w)}}class Qr extends ga{constructor(_,w){super(_,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class Ks extends ta{constructor(_,w){super(_,"google.com",w)}}class bs extends ga{constructor(_,w,x){super(_,"twitter.com",w,x)}}function na(I){const{user:_,_tokenResponse:w}=I;return _.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function Fa(I){var _,w;if(!I)return null;const{providerId:x}=I,se=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},we=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!x&&I?.idToken){const gt=null===(w=null===(_=Pn(I.idToken))||void 0===_?void 0:_.firebase)||void 0===w?void 0:w.sign_in_provider;if(gt)return new ta(we,"anonymous"!==gt&&"custom"!==gt?gt:null)}if(!x)return null;switch(x){case"facebook.com":return new Xa(we,se);case"github.com":return new Qr(we,se);case"google.com":return new Ks(we,se);case"twitter.com":return new bs(we,se,I.screenName||null);case"custom":case"anonymous":return new ta(we,null);default:return new ta(we,x,se)}}(w)}class fi{constructor(_,w,x){this.type=_,this.credential=w,this.auth=x}static _fromIdtoken(_,w){return new fi("enroll",_,w)}static _fromMfaPendingCredential(_){return new fi("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var w,x;if(_?.multiFactorSession){if(null!==(w=_.multiFactorSession)&&void 0!==w&&w.pendingCredential)return fi._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(x=_.multiFactorSession)&&void 0!==x&&x.idToken)return fi._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Ri{constructor(_,w,x){this.session=_,this.hints=w,this.signInResolver=x}static _fromError(_,w){const x=Fi(_),se=w.customData._serverResponse,we=(se.mfaInfo||[]).map(Ut=>$._fromServerResponse(x,Ut));Ye(se.mfaPendingCredential,x,"internal-error");const gt=fi._fromMfaPendingCredential(se.mfaPendingCredential);return new Ri(gt,we,function(){var Ut=(0,p.Z)(function*(Tn){const jn=yield Tn._process(x,gt);delete se.mfaInfo,delete se.mfaPendingCredential;const hi=Object.assign(Object.assign({},se),{idToken:jn.idToken,refreshToken:jn.refreshToken});switch(w.operationType){case"signIn":const Ki=yield kr._fromIdTokenResponse(x,w.operationType,hi);return yield x._updateCurrentUser(Ki.user),Ki;case"reauthenticate":return Ye(w.user,x,"internal-error"),kr._forOperation(w.user,w.operationType,hi);default:Ae(x,"internal-error")}});return function(Tn){return Ut.apply(this,arguments)}}())}resolveSignIn(_){var w=this;return(0,p.Z)(function*(){return w.signInResolver(_)})()}}function Mr(I,_){var w;const x=(0,l.m9)(I),se=_;return Ye(_.customData.operationType,x,"argument-error"),Ye(null===(w=se.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,x,"argument-error"),Ri._fromError(x,se)}function Nr(I,_){return $t(I,"POST","/v2/accounts/mfaEnrollment:start",Re(I,_))}class eo{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(x=>$._fromServerResponse(_.auth,x)))})}static _fromUser(_){return new eo(_)}getSession(){var _=this;return(0,p.Z)(function*(){return fi._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,w){var x=this;return(0,p.Z)(function*(){const se=_,we=yield x.getSession(),gt=yield En(x.user,se._process(x.user.auth,we,w));return yield x.user._updateTokensIfNecessary(gt),x.user.reload()})()}unenroll(_){var w=this;return(0,p.Z)(function*(){const x="string"==typeof _?_:_.uid,se=yield w.user.getIdToken();try{const we=yield En(w.user,function _r(I,_){return $t(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(I,_))}(w.user.auth,{idToken:se,mfaEnrollmentId:x}));w.enrolledFactors=w.enrolledFactors.filter(({uid:gt})=>gt!==x),yield w.user._updateTokensIfNecessary(we),yield w.user.reload()}catch(we){throw we}})()}}const On=new WeakMap;function Mn(I){const _=(0,l.m9)(I);return On.has(_)||On.set(_,eo._fromUser(_)),On.get(_)}const Ms="__sak";class yn{constructor(_,w){this.storageRetriever=_,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Ms,"1"),this.storage.removeItem(Ms),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,w){return this.storage.setItem(_,JSON.stringify(w)),Promise.resolve()}_get(_){const w=this.storage.getItem(_);return Promise.resolve(w?JSON.parse(w):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const wl=(()=>{class I extends yn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,x)=>this.onStorageEvent(w,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mt(){const I=(0,l.z$)();return De(I)||je(I)}()&&function Ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const x of Object.keys(this.listeners)){const se=this.storage.getItem(x),we=this.localCache[x];se!==we&&w(x,we,se)}}onStorageEvent(w,x=!1){if(!w.key)return void this.forAllChangedKeys((Ut,Tn,jn)=>{this.notifyListeners(Ut,jn)});const se=w.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ut=this.storage.getItem(se);if(w.newValue!==Ut)null!==w.newValue?this.storage.setItem(se,w.newValue):this.storage.removeItem(se);else if(this.localCache[se]===w.newValue&&!x)return}const we=()=>{const Ut=this.storage.getItem(se);!x&&this.localCache[se]===Ut||this.notifyListeners(se,Ut)},gt=this.storage.getItem(se);!function Lt(){return(0,l.w1)()&&10===document.documentMode}()||gt===w.newValue||w.newValue===w.oldValue?we():setTimeout(we,10)}notifyListeners(w,x){this.localCache[w]=x;const se=this.listeners[w];if(se)for(const we of Array.from(se))we(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,x,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:x,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(x)}_removeListener(w,x){this.listeners[w]&&(this.listeners[w].delete(x),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,x){var se=()=>super._set,we=this;return(0,p.Z)(function*(){yield se().call(we,w,x),we.localCache[w]=JSON.stringify(x)})()}_get(w){var x=()=>super._get,se=this;return(0,p.Z)(function*(){const we=yield x().call(se,w);return se.localCache[w]=JSON.stringify(we),we})()}_remove(w){var x=()=>super._remove,se=this;return(0,p.Z)(function*(){yield x().call(se,w),delete se.localCache[w]})()}}return I.type="LOCAL",I})(),wo=(()=>{class I extends yn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,x){}_removeListener(w,x){}}return I.type="SESSION",I})();let Vl=(()=>{class I{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const x=this.receivers.find(we=>we.isListeningto(w));if(x)return x;const se=new I(w);return this.receivers.push(se),se}isListeningto(w){return this.eventTarget===w}handleEvent(w){var x=this;return(0,p.Z)(function*(){const se=w,{eventId:we,eventType:gt,data:Ut}=se.data,Tn=x.handlersMap[gt];if(!Tn?.size)return;se.ports[0].postMessage({status:"ack",eventId:we,eventType:gt});const jn=Array.from(Tn).map(function(){var Ki=(0,p.Z)(function*(Ea){return Ea(se.origin,Ut)});return function(Ea){return Ki.apply(this,arguments)}}()),hi=yield function Bl(I){return Promise.all(I.map(function(){var _=(0,p.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(x){return{fulfilled:!1,reason:x}}});return function(w){return _.apply(this,arguments)}}()))}(jn);se.ports[0].postMessage({status:"done",eventId:we,eventType:gt,response:hi})})()}_subscribe(w,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(x)}_unsubscribe(w,x){this.handlersMap[w]&&x&&this.handlersMap[w].delete(x),(!x||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function ia(I="",_=10){let w="";for(let x=0;x<_;x++)w+=Math.floor(10*Math.random());return I+w}class Tc{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,w,x=50){var se=this;return(0,p.Z)(function*(){const we=typeof MessageChannel<"u"?new MessageChannel:null;if(!we)throw new Error("connection_unavailable");let gt,Ut;return new Promise((Tn,jn)=>{const hi=ia("",20);we.port1.start();const Ki=setTimeout(()=>{jn(new Error("unsupported_event"))},x);Ut={messageChannel:we,onMessage(Ea){const zl=Ea;if(zl.data.eventId===hi)switch(zl.data.status){case"ack":clearTimeout(Ki),gt=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(gt),Tn(zl.data.response);break;default:clearTimeout(Ki),clearTimeout(gt),jn(new Error("invalid_response"))}}},se.handlers.add(Ut),we.port1.addEventListener("message",Ut.onMessage),se.target.postMessage({eventType:_,eventId:hi,data:w},[we.port2])}).finally(()=>{Ut&&se.removeMessageHandler(Ut)})})()}}function Cs(){return window}function Ps(){return typeof Cs().WorkerGlobalScope<"u"&&"function"==typeof Cs().importScripts}function Ho(){return(Ho=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rn="firebaseLocalStorageDb",li="firebaseLocalStorage",Eo="fbase_key";class hr{constructor(_){this.request=_}toPromise(){return new Promise((_,w)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function gn(I,_){return I.transaction([li],_?"readwrite":"readonly").objectStore(li)}function ma(){const I=indexedDB.open(Rn,1);return new Promise((_,w)=>{I.addEventListener("error",()=>{w(I.error)}),I.addEventListener("upgradeneeded",()=>{const x=I.result;try{x.createObjectStore(li,{keyPath:Eo})}catch(se){w(se)}}),I.addEventListener("success",(0,p.Z)(function*(){const x=I.result;x.objectStoreNames.contains(li)?_(x):(x.close(),yield function to(){const I=indexedDB.deleteDatabase(Rn);return new hr(I).toPromise()}(),_(yield ma()))}))})}function Zs(I,_,w){return no.apply(this,arguments)}function no(){return(no=(0,p.Z)(function*(I,_,w){const x=gn(I,!0).put({[Eo]:_,value:w});return new hr(x).toPromise()})).apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(I,_){const w=gn(I,!1).get(_),x=yield new hr(w).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function tl(I,_){const w=gn(I,!0).delete(_);return new hr(w).toPromise()}const nl=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,p.Z)(function*(){return w.db||(w.db=yield ma()),w.db})()}_withRetries(w){var x=this;return(0,p.Z)(function*(){let se=0;for(;;)try{const we=yield x._openDb();return yield w(we)}catch(we){if(se++>3)throw we;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,p.Z)(function*(){return Ps()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,p.Z)(function*(){w.receiver=Vl._getInstance(function zr(){return Ps()?self:null}()),w.receiver._subscribe("keyChanged",function(){var x=(0,p.Z)(function*(se,we){return{keyProcessed:(yield w._poll()).includes(we.key)}});return function(se,we){return x.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var x=(0,p.Z)(function*(se,we){return["keyChanged"]});return function(se,we){return x.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,p.Z)(function*(){var x,se;if(w.activeServiceWorker=yield function Si(){return Ho.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new Tc(w.activeServiceWorker);const we=yield w.sender._send("ping",{},800);we&&null!==(x=we[0])&&void 0!==x&&x.fulfilled&&null!==(se=we[0])&&void 0!==se&&se.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var x=this;return(0,p.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function ec(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:w},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const w=yield ma();return yield Zs(w,Ms,"1"),yield tl(w,Ms),!0}catch{}return!1})()}_withPendingWrite(w){var x=this;return(0,p.Z)(function*(){x.pendingWrites++;try{yield w()}finally{x.pendingWrites--}})()}_set(w,x){var se=this;return(0,p.Z)(function*(){return se._withPendingWrite((0,p.Z)(function*(){return yield se._withRetries(we=>Zs(we,w,x)),se.localCache[w]=x,se.notifyServiceWorker(w)}))})()}_get(w){var x=this;return(0,p.Z)(function*(){const se=yield x._withRetries(we=>function _a(I,_){return Ba.apply(this,arguments)}(we,w));return x.localCache[w]=se,se})()}_remove(w){var x=this;return(0,p.Z)(function*(){return x._withPendingWrite((0,p.Z)(function*(){return yield x._withRetries(se=>tl(se,w)),delete x.localCache[w],x.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,p.Z)(function*(){const x=yield w._withRetries(gt=>{const Ut=gn(gt,!1).getAll();return new hr(Ut).toPromise()});if(!x)return[];if(0!==w.pendingWrites)return[];const se=[],we=new Set;for(const{fbase_key:gt,value:Ut}of x)we.add(gt),JSON.stringify(w.localCache[gt])!==JSON.stringify(Ut)&&(w.notifyListeners(gt,Ut),se.push(gt));for(const gt of Object.keys(w.localCache))w.localCache[gt]&&!we.has(gt)&&(w.notifyListeners(gt,null),se.push(gt));return se})()}notifyListeners(w,x){this.localCache[w]=x;const se=this.listeners[w];if(se)for(const we of Array.from(se))we(x)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(x)}_removeListener(w,x){this.listeners[w]&&(this.listeners[w].delete(x),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Go(I,_){return $t(I,"POST","/v2/accounts/mfaSignIn:start",Re(I,_))}const Ml=1e12;class _o{constructor(_){this.auth=_,this.counter=Ml,this._widgets=new Map}render(_,w){const x=this.counter;return this._widgets.set(x,new El(_,this.auth.name,w||{})),this.counter++,x}reset(_){var w;const x=_||Ml;null===(w=this._widgets.get(x))||void 0===w||w.delete(),this._widgets.delete(x)}getResponse(_){var w;return(null===(w=this._widgets.get(_||Ml))||void 0===w?void 0:w.getResponse())||""}execute(_){var w=this;return(0,p.Z)(function*(){var x;return null===(x=w._widgets.get(_||Ml))||void 0===x||x.execute(),""})()}}class El{constructor(_,w,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof _?document.getElementById(_):_;Ye(se,"argument-error",{appName:w}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tl(I){const _=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<I;x++)_.push(w.charAt(Math.floor(Math.random()*w.length)));return _.join("")}(50);const{callback:_,"expired-callback":w}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ya=Hn("rcb"),Ul=new Dt(3e4,6e4);class Va{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Cs().grecaptcha)||void 0===_||!_.render)}load(_,w=""){return Ye(function Dc(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(w),_,"argument-error"),this.shouldResolveImmediately(w)&&qn(Cs().grecaptcha)?Promise.resolve(Cs().grecaptcha):new Promise((x,se)=>{const we=Cs().setTimeout(()=>{se(oe(_,"network-request-failed"))},Ul.get());Cs()[ya]=()=>{Cs().clearTimeout(we),delete Cs()[ya];const Ut=Cs().grecaptcha;if(!Ut||!qn(Ut))return void se(oe(_,"internal-error"));const Tn=Ut.render;Ut.render=(jn,hi)=>{const Ki=Tn(jn,hi);return this.counter++,Ki},this.hostLanguage=w,x(Ut)},br(`https://www.google.com/recaptcha/api.js??${(0,l.xO)({onload:ya,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(we),se(oe(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var w;return!(null===(w=Cs().grecaptcha)||void 0===w||!w.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cc{load(_){return(0,p.Z)(function*(){return new _o(_)})()}clearedOneInstance(){}}const Ss="recaptcha",ks={theme:"light",type:"image"};class To{constructor(_,w=Object.assign({},ks),x){this.parameters=w,this.type=Ss,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fi(x),this.isInvisible="invisible"===this.parameters.size,Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof _?document.getElementById(_):_;Ye(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cc:new Va,this.validateStartingState()}verify(){var _=this;return(0,p.Z)(function*(){_.assertNotDestroyed();const w=yield _.render(),x=_.getAssertedRecaptcha();return x.getResponse(w)||new Promise(we=>{const gt=Ut=>{Ut&&(_.tokenChangeListeners.delete(gt),we(Ut))};_.tokenChangeListeners.add(gt),_.isInvisible&&x.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ye(!this.parameters.sitekey,this.auth,"argument-error"),Ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return w=>{if(this.tokenChangeListeners.forEach(x=>x(w)),"function"==typeof _)_(w);else if("string"==typeof _){const x=Cs()[_];"function"==typeof x&&x(w)}}}assertNotDestroyed(){Ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,p.Z)(function*(){if(yield _.init(),!_.widgetId){let w=_.container;if(!_.isInvisible){const x=document.createElement("div");w.appendChild(x),w=x}_.widgetId=_.getAssertedRecaptcha().render(w,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,p.Z)(function*(){Ye(Dn()&&!Ps(),_.auth,"internal-error"),yield function Ua(){let I=null;return new Promise(_=>{"complete"!==document.readyState?(I=()=>_(),window.addEventListener("load",I)):_()}).catch(_=>{throw I&&window.removeEventListener("load",I),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const w=yield function St(I){return Et.apply(this,arguments)}(_.auth);Ye(w,_.auth,"internal-error"),_.parameters.sitekey=w})()}getAssertedRecaptcha(){return Ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class io{constructor(_,w){this.verificationId=_,this.onConfirmation=w}confirm(_){const w=Gs._fromVerification(this.verificationId,_);return this.onConfirmation(w)}}function os(I,_,w){return S.apply(this,arguments)}function S(){return(S=(0,p.Z)(function*(I,_,w){const x=Fi(I),se=yield he(x,_,(0,l.m9)(w));return new io(se,we=>ui(x,we))})).apply(this,arguments)}function M(I,_,w){return E.apply(this,arguments)}function E(){return(E=(0,p.Z)(function*(I,_,w){const x=(0,l.m9)(I);yield As(!1,x,"phone");const se=yield he(x.auth,_,(0,l.m9)(w));return new io(se,we=>$s(x,we))})).apply(this,arguments)}function H(I,_,w){return q.apply(this,arguments)}function q(){return(q=(0,p.Z)(function*(I,_,w){const x=(0,l.m9)(I),se=yield he(x.auth,_,(0,l.m9)(w));return new io(se,we=>bl(x,we))})).apply(this,arguments)}function he(I,_,w){return P.apply(this,arguments)}function P(){return(P=(0,p.Z)(function*(I,_,w){var x;const se=yield w.verify();try{let we;if(Ye("string"==typeof se,I,"argument-error"),Ye(w.type===Ss,I,"argument-error"),we="string"==typeof _?{phoneNumber:_}:_,"session"in we){const gt=we.session;if("phoneNumber"in we)return Ye("enroll"===gt.type,I,"internal-error"),(yield Nr(I,{idToken:gt.credential,phoneEnrollmentInfo:{phoneNumber:we.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Ye("signin"===gt.type,I,"internal-error");const Ut=(null===(x=we.multiFactorHint)||void 0===x?void 0:x.uid)||we.multiFactorUid;return Ye(Ut,I,"missing-multi-factor-info"),(yield Go(I,{mfaPendingCredential:gt.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:gt}=yield dl(I,{phoneNumber:we.phoneNumber,recaptchaToken:se});return gt}}finally{w._reset()}})).apply(this,arguments)}function T(I,_){return O.apply(this,arguments)}function O(){return(O=(0,p.Z)(function*(I,_){yield Bi((0,l.m9)(I),_)})).apply(this,arguments)}let Q=(()=>{class I{constructor(w){this.providerId=I.PROVIDER_ID,this.auth=Fi(w)}verifyPhoneNumber(w,x){return he(this.auth,w,(0,l.m9)(x))}static credential(w,x){return Gs._fromVerification(w,x)}static credentialFromResult(w){return I.credentialFromTaggedObject(w)}static credentialFromError(w){return I.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:x,temporaryProof:se}=w;return x&&se?Gs._fromTokenResponse(x,se):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ue(I,_){return _?wt(_):(Ye(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ve extends Gn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return qs(_,this._buildIdpRequest())}_linkToIdToken(_,w){return qs(_,this._buildIdpRequest(w))}_getReauthenticationResolver(_){return qs(_,this._buildIdpRequest())}_buildIdpRequest(_){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(w.idToken=_),w}}function Ct(I){return po(I.auth,new Ve(I),I.bypassAuthState)}function vn(I){const{auth:_,user:w}=I;return Ye(w,_,"internal-error"),Sl(w,new Ve(I),I.bypassAuthState)}function Wn(I){return ri.apply(this,arguments)}function ri(){return(ri=(0,p.Z)(function*(I){const{auth:_,user:w}=I;return Ye(w,_,"internal-error"),Bi(w,new Ve(I),I.bypassAuthState)})).apply(this,arguments)}class di{constructor(_,w,x,se,we=!1){this.auth=_,this.resolver=x,this.user=se,this.bypassAuthState=we,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var _=this;return new Promise(function(){var w=(0,p.Z)(function*(x,se){_.pendingPromise={resolve:x,reject:se};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(we){_.reject(we)}});return function(x,se){return w.apply(this,arguments)}}())}onAuthEvent(_){var w=this;return(0,p.Z)(function*(){const{urlResponse:x,sessionId:se,postBody:we,tenantId:gt,error:Ut,type:Tn}=_;if(Ut)return void w.reject(Ut);const jn={auth:w.auth,requestUri:x,sessionId:se,tenantId:gt||void 0,postBody:we||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Tn)(jn))}catch(hi){w.reject(hi)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Ct;case"linkViaPopup":case"linkViaRedirect":return Wn;case"reauthViaPopup":case"reauthViaRedirect":return vn;default:Ae(this.auth,"internal-error")}}resolve(_){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vr=new Dt(2e3,1e4);function fs(I,_,w){return ps.apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(I,_,w){const x=Fi(I);Le(I,_,vo);const se=ue(x,w);return new nu(x,"signInViaPopup",_,se).executeNotNull()})).apply(this,arguments)}function jo(I,_,w){return ro.apply(this,arguments)}function ro(){return(ro=(0,p.Z)(function*(I,_,w){const x=(0,l.m9)(I);Le(x.auth,_,vo);const se=ue(x.auth,w);return new nu(x.auth,"reauthViaPopup",_,se,x).executeNotNull()})).apply(this,arguments)}function Bc(I,_,w){return tc.apply(this,arguments)}function tc(){return(tc=(0,p.Z)(function*(I,_,w){const x=(0,l.m9)(I);Le(x.auth,_,vo);const se=ue(x.auth,w);return new nu(x.auth,"linkViaPopup",_,se,x).executeNotNull()})).apply(this,arguments)}let nu=(()=>{class I extends di{constructor(w,x,se,we,gt){super(w,x,we,gt),this.provider=se,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var w=this;return(0,p.Z)(function*(){const x=yield w.execute();return Ye(x,w.auth,"internal-error"),x})()}onExecution(){var w=this;return(0,p.Z)(function*(){pn(1===w.filter.length,"Popup operations only handle one event");const x=ia();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],x),w.authWindow.associatedEvent=x,w.resolver._originValidation(w.auth).catch(se=>{w.reject(se)}),w.resolver._isIframeWebStorageSupported(w.auth,se=>{se||w.reject(oe(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const w=()=>{var x,se;this.pollId=null!==(se=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(w,Vr.get())};w()}}return I.currentPopupAction=null,I})();const ol=new Map;class Fs extends di{constructor(_,w,x=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,x),this.eventId=null}execute(){var _=()=>super.execute,w=this;return(0,p.Z)(function*(){let x=ol.get(w.auth._key());if(!x){try{const we=(yield function Su(I,_){return al.apply(this,arguments)}(w.resolver,w.auth))?yield _().call(w):null;x=()=>Promise.resolve(we)}catch(se){x=()=>Promise.reject(se)}ol.set(w.auth._key(),x)}return w.bypassAuthState||ol.set(w.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(_){var w=()=>super.onAuthEvent,x=this;return(0,p.Z)(function*(){if("signInViaRedirect"===_.type)return w().call(x,_);if("unknown"!==_.type){if(_.eventId){const se=yield x.auth._redirectUserForId(_.eventId);if(se)return x.user=se,w().call(x,_);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function al(){return(al=(0,p.Z)(function*(I,_){const w=Iu(_),x=gs(I);if(!(yield x._isAvailable()))return!1;const se="true"===(yield x._get(w));return yield x._remove(w),se})).apply(this,arguments)}function hd(I,_){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,p.Z)(function*(I,_){return gs(I)._set(Iu(_),"true")})).apply(this,arguments)}function nc(){ol.clear()}function Do(I,_){ol.set(I._key(),_)}function gs(I){return wt(I._redirectPersistence)}function Iu(I){return Ni("pendingRedirect",I.config.apiKey,I.name)}function ic(I,_,w){return function va(I,_,w){return Vc.apply(this,arguments)}(I,_,w)}function Vc(){return(Vc=(0,p.Z)(function*(I,_,w){const x=Fi(I);Le(I,_,vo),yield x._initializationPromise;const se=ue(x,w);return yield hd(se,x),se._openRedirect(x,_,"signInViaRedirect")})).apply(this,arguments)}function ih(I,_,w){return function so(I,_,w){return Sc.apply(this,arguments)}(I,_,w)}function Sc(){return(Sc=(0,p.Z)(function*(I,_,w){const x=(0,l.m9)(I);Le(x.auth,_,vo),yield x.auth._initializationPromise;const se=ue(x.auth,w);yield hd(se,x.auth);const we=yield xl(x);return se._openRedirect(x.auth,_,"reauthViaRedirect",we)})).apply(this,arguments)}function Nl(I,_,w){return function Ls(I,_,w){return fl.apply(this,arguments)}(I,_,w)}function fl(){return(fl=(0,p.Z)(function*(I,_,w){const x=(0,l.m9)(I);Le(x.auth,_,vo),yield x.auth._initializationPromise;const se=ue(x.auth,w);yield As(!1,x,_.providerId),yield hd(se,x.auth);const we=yield xl(x);return se._openRedirect(x.auth,_,"linkViaRedirect",we)})).apply(this,arguments)}function Au(I,_){return rc.apply(this,arguments)}function rc(){return(rc=(0,p.Z)(function*(I,_){return yield Fi(I)._initializationPromise,Ic(I,_,!1)})).apply(this,arguments)}function Ic(I,_){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,p.Z)(function*(I,_,w=!1){const x=Fi(I),se=ue(x,_),gt=yield new Fs(x,se,w).execute();return gt&&!w&&(delete gt.user._redirectEventId,yield x._persistUserIfCurrent(gt.user),yield x._setRedirectUser(null,_)),gt})).apply(this,arguments)}function xl(I){return ba.apply(this,arguments)}function ba(){return(ba=(0,p.Z)(function*(I){const _=ia(`${I.uid}:::`);return I._redirectEventId=_,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),_})).apply(this,arguments)}class Dl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let w=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(_,x)&&(w=!0,this.sendToConsumer(_,x),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Rl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sc(I);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=_,w=!0)),w}sendToConsumer(_,w){var x;if(_.error&&!sc(_)){const se=(null===(x=_.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";w.onError(oe(this.auth,se))}else w.onAuthEvent(_)}isEventForConsumer(_,w){const x=null===w.eventId||!!_.eventId&&_.eventId===w.eventId;return w.filter.includes(_.type)&&x}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oa(_))}saveEventToCache(_){this.cachedEventUids.add(oa(_)),this.lastProcessedEventTime=Date.now()}}function oa(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(_=>_).join("-")}function sc({type:I,error:_}){return"unknown"===I&&"auth/no-auth-event"===_?.code}function iu(I){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,p.Z)(function*(I,_={}){return $t(I,"GET","/v1/projects",_)})).apply(this,arguments)}const rh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mu=/^https?/;function oc(){return(oc=(0,p.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:_}=yield iu(I);for(const w of _)try{if(pl(w))return}catch{}Ae(I,"unauthorized-domain")})).apply(this,arguments)}function pl(I){const _=Yt(),{protocol:w,hostname:x}=new URL(_);if(I.startsWith("chrome-extension://")){const gt=new URL(I);return""===gt.hostname&&""===x?"chrome-extension:"===w&&I.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===w&&gt.hostname===x}if(!Mu.test(w))return!1;if(rh.test(I))return x===I;const se=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(x)}const ru=new Dt(3e4,6e4);function su(){const I=Cs().___jsl;if(I?.H)for(const _ of Object.keys(I.H))if(I.H[_].r=I.H[_].r||[],I.H[_].L=I.H[_].L||[],I.H[_].r=[...I.H[_].L],I.CP)for(let w=0;w<I.CP.length;w++)I.CP[w]=null}let wa=null;function fd(I){return wa=wa||function Ha(I){return new Promise((_,w)=>{var x,se,we;function gt(){su(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{su(),w(oe(I,"network-request-failed"))},timeout:ru.get()})}if(null!==(se=null===(x=Cs().gapi)||void 0===x?void 0:x.iframes)&&void 0!==se&&se.Iframe)_(gapi.iframes.getContext());else{if(null===(we=Cs().gapi)||void 0===we||!we.load){const Ut=Hn("iframefcb");return Cs()[Ut]=()=>{gapi.load?gt():w(oe(I,"network-request-failed"))},br(`https://apis.google.com/js/api.js?onload=${Ut}`).catch(Tn=>w(Tn))}gt()}}).catch(_=>{throw wa=null,_})}(I),wa}const ac=new Dt(5e3,15e3),xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pd(I){const _=I.config;Ye(_.authDomain,I,"auth-domain-config-required");const w=_.emulator?Nt(_,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,x={apiKey:_.apiKey,appName:I.name,v:V.SDK_VERSION},se=Co.get(I.config.apiHost);se&&(x.eid=se);const we=I._getFrameworks();return we.length&&(x.fw=we.join(",")),`${w}?${(0,l.xO)(x).slice(1)}`}function N(){return N=(0,p.Z)(function*(I){const _=yield fd(I),w=Cs().gapi;return Ye(w,I,"internal-error"),_.open({where:document.body,url:pd(I),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xu,dontclear:!0},x=>new Promise(function(){var se=(0,p.Z)(function*(we,gt){yield x.restyle({setHideOnLeave:!1});const Ut=oe(I,"network-request-failed"),Tn=Cs().setTimeout(()=>{gt(Ut)},ac.get());function jn(){Cs().clearTimeout(Tn),we(x)}x.ping(jn).then(jn,()=>{gt(Ut)})});return function(we,gt){return se.apply(this,arguments)}}()))}),N.apply(this,arguments)}const j={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yt{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ui=encodeURIComponent("fac");function zo(I,_,w,x,se,we){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(I,_,w,x,se,we){Ye(I.config.authDomain,I,"auth-domain-config-required"),Ye(I.config.apiKey,I,"invalid-api-key");const gt={apiKey:I.config.apiKey,appName:I.name,authType:w,redirectUrl:x,v:V.SDK_VERSION,eventId:se};if(_ instanceof vo){_.setDefaultLanguage(I.languageCode),gt.providerId=_.providerId||"",(0,l.xb)(_.getCustomParameters())||(gt.customParameters=JSON.stringify(_.getCustomParameters()));for(const[hi,Ki]of Object.entries(we||{}))gt[hi]=Ki}if(_ instanceof Jo){const hi=_.getScopes().filter(Ki=>""!==Ki);hi.length>0&&(gt.scopes=hi.join(","))}I.tenantId&&(gt.tid=I.tenantId);const Ut=gt;for(const hi of Object.keys(Ut))void 0===Ut[hi]&&delete Ut[hi];const Tn=yield I._getAppCheckToken(),jn=Tn?`#${Ui}=${encodeURIComponent(Tn)}`:"";return`${Hc(I)}?${(0,l.xO)(Ut).slice(1)}${jn}`})).apply(this,arguments)}function Hc({config:I}){return I.emulator?Nt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}const lc="webStorageSupport",ll=class Gc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wo,this._completeRedirectFn=Ic,this._overrideRedirectResult=Do}_openPopup(_,w,x,se){var we=this;return(0,p.Z)(function*(){var gt;pn(null===(gt=we.eventManagers[_._key()])||void 0===gt?void 0:gt.manager,"_initialize() not called before _openPopup()");const Ut=yield zo(_,w,x,Yt(),se);return function cn(I,_,w,x=500,se=600){const we=Math.max((window.screen.availHeight-se)/2,0).toString(),gt=Math.max((window.screen.availWidth-x)/2,0).toString();let Ut="";const Tn=Object.assign(Object.assign({},j),{width:x.toString(),height:se.toString(),top:we,left:gt}),jn=(0,l.z$)().toLowerCase();w&&(Ut=fe(jn)?"_blank":w),be(jn)&&(_=_||"http://localhost",Tn.scrollbars="yes");const hi=Object.entries(Tn).reduce((Ea,[zl,md])=>`${Ea}${zl}=${md},`,"");if(function nt(I=(0,l.z$)()){var _;return je(I)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(jn)&&"_self"!==Ut)return function Cn(I,_){const w=document.createElement("a");w.href=I,w.target=_;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(x)}(_||"",Ut),new yt(null);const Ki=window.open(_||"",Ut,hi);Ye(Ki,I,"popup-blocked");try{Ki.focus()}catch{}return new yt(Ki)}(_,Ut,ia())})()}_openRedirect(_,w,x,se){var we=this;return(0,p.Z)(function*(){return yield we._originValidation(_),function Ol(I){Cs().location.href=I}(yield zo(_,w,x,Yt(),se)),new Promise(()=>{})})()}_initialize(_){const w=_._key();if(this.eventManagers[w]){const{manager:se,promise:we}=this.eventManagers[w];return se?Promise.resolve(se):(pn(we,"If manager is not set, promise should be"),we)}const x=this.initAndGetManager(_);return this.eventManagers[w]={promise:x},x.catch(()=>{delete this.eventManagers[w]}),x}initAndGetManager(_){var w=this;return(0,p.Z)(function*(){const x=yield function ms(I){return N.apply(this,arguments)}(_),se=new Dl(_);return x.register("authEvent",we=>(Ye(we?.authEvent,_,"invalid-auth-event"),{status:se.onEvent(we.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[_._key()]={manager:se},w.iframes[_._key()]=x,se})()}_isIframeWebStorageSupported(_,w){this.iframes[_._key()].send(lc,{type:lc},se=>{var we;const gt=null===(we=se?.[0])||void 0===we?void 0:we[lc];void 0!==gt&&w(!!gt),Ae(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const w=_._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Hl(I){return oc.apply(this,arguments)}(_)),this.originValidationPromises[w]}get _shouldInitProactively(){return qt()||De()||je()}};class Cl{constructor(_){this.factorId=_}_process(_,w,x){switch(w.type){case"enroll":return this._finalizeEnroll(_,w.credential,x);case"signin":return this._finalizeSignIn(_,w.credential);default:return Vt("unexpected MultiFactorSessionType")}}}class cc extends Cl{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new cc(_)}_finalizeEnroll(_,w,x){return function xr(I,_){return $t(I,"POST","/v2/accounts/mfaEnrollment:finalize",Re(I,_))}(_,{idToken:w,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,w){return function il(I,_){return $t(I,"POST","/v2/accounts/mfaSignIn:finalize",Re(I,_))}(_,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hf=(()=>{class I{constructor(){}static assertion(w){return cc._fromCredential(w)}}return I.FACTOR_ID="phone",I})();var au="@firebase/auth";class Gl{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var w=this;return(0,p.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const w=this.auth.onIdTokenChanged(x=>{_(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,w),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const w=this.internalListeners.get(_);w&&(this.internalListeners.delete(_),w(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,l.Pz)("authIdTokenMaxAge"),function Pu(I){(0,V._registerComponent)(new de.wA("auth",(_,{options:w})=>{const x=_.getProvider("app").getImmediate(),se=_.getProvider("heartbeat"),we=_.getProvider("app-check-internal"),{apiKey:gt,authDomain:Ut}=x.options;Ye(gt&&!gt.includes(":"),"invalid-api-key",{appName:x.name}),Ye(!Ut?.includes(":"),"argument-error",{appName:x.name});const Tn={apiKey:gt,authDomain:Ut,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xi(I)},jn=new pr(x,se,we,Tn);return function Kt(I,_){const w=_?.persistence||[],x=(Array.isArray(w)?w:[w]).map(wt);_?.errorMap&&I._updateErrorMap(_.errorMap),I._initializeWithPersistence(x,_?.popupRedirectResolver)}(jn,w),jn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,w,x)=>{_.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new de.wA("auth-internal",_=>{const w=Fi(_.getProvider("auth").getImmediate());return new Gl(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(au,"0.23.1",function lu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,V.registerVersion)(au,"0.23.1","esm2017")}("Browser")},2810:(dn,dt,k)=>{k.d(dt,{u7:()=>mm,Jj:()=>Tu,IX:()=>K_,my:()=>Zo,xU:()=>Gh,Lz:()=>cd,WA:()=>on,F8:()=>Qp,$q:()=>lg,W:()=>Du,EK:()=>zr,PU:()=>C_,l7:()=>xl,Ky:()=>gn,Xb:()=>hr,Cf:()=>Wr,K9:()=>Ms,Me:()=>ih,yq:()=>_r,Wi:()=>z_,ET:()=>iv,Ab:()=>Ty,vr:()=>fv,Fc:()=>q_,hJ:()=>u_,B$:()=>d_,at:()=>c_,oe:()=>yy,AK:()=>hv,TF:()=>J_,JU:()=>Lc,ST:()=>h_,fH:()=>qp,Ix:()=>Q_,Wu:()=>gm,Lx:()=>qy,qY:()=>ca,GL:()=>Vf,QT:()=>gy,kl:()=>cg,Xk:()=>ug,PL:()=>ev,UQ:()=>tv,zN:()=>nv,nP:()=>pv,b9:()=>Qv,vh:()=>zi,Pb:()=>Hy,L$:()=>X_,cf:()=>vy,sc:()=>rv,Xo:()=>uy,IO:()=>Uh,iE:()=>dm,Eo:()=>Vy,i3:()=>dg,Bt:()=>Ey,pl:()=>my,Ub:()=>xr,qK:()=>py,TQ:()=>Yy,e0:()=>Zy,r7:()=>_y,Mx:()=>Uy,ar:()=>Ky});var ie,p=k(5861),l=k(6881),V=k(4859),Te=k(1877),L=k(2090),de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le={},Ce=Ce||{},X=de||self;function ce(){}function Oe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function et(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var st="closure_uid_"+(1e9*Math.random()>>>0),xt=0;function Be(i,e,t){return i.call.apply(i.bind,arguments)}function it(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ge(i,e,t){return(ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Be:it).apply(null,arguments)}function Xe(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ae(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(o,u,m){for(var v=Array(arguments.length-2),R=2;R<arguments.length;R++)v[R-2]=arguments[R];return e.prototype[u].apply(o,v)}}function oe(){this.s=this.s,this.o=this.o}oe.prototype.s=!1,oe.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ut(i){Object.prototype.hasOwnProperty.call(i,st)&&i[st]||(i[st]=++xt)}(this)},oe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Le=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ge(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Ye(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Oe(o)){const u=i.length||0,m=o.length||0;i.length=u+m;for(let v=0;v<m;v++)i[u+v]=o[v]}else i.push(o)}}function Vt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var pn=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{X.addEventListener("test",ce,e),X.removeEventListener("test",ce,e)}catch{}return i}();function Yt(i){return/^[\s\xa0]*$/.test(i)}var Dn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ln(i,e){return i<e?-1:i>e?1:0}function It(){var i=X.navigator;return i&&(i=i.userAgent)?i:""}function At(i){return-1!=It().indexOf(i)}function Dt(i){return Dt[" "](i),i}function Nt(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}Dt[" "]=ce;var Ht,i,Zt=At("Opera"),rt=At("Trident")||At("MSIE"),Bt=At("Edge"),Re=Bt||rt,$t=At("Gecko")&&!(-1!=It().toLowerCase().indexOf("webkit")&&!At("Edge"))&&!(At("Trident")||At("MSIE"))&&!At("Edge"),Pt=-1!=It().toLowerCase().indexOf("webkit")&&!At("Edge");function tn(){var i=X.document;return i?i.documentMode:void 0}e:{var Fn="",Jn=(i=It(),$t?/rv:([^\);]+)(\)|;)/.exec(i):Bt?/Edge\/([\d\.]+)/.exec(i):rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Pt?/WebKit\/(\S+)/.exec(i):Zt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Jn&&(Fn=Jn?Jn[1]:""),rt){var Un=tn();if(null!=Un&&Un>parseFloat(Fn)){Ht=String(Un);break e}}Ht=Fn}var Ii={},er=X.document&&rt&&(tn()||parseInt(Ht,10))||void 0;function ht(i,e){if(Vt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if($t){e:{try{Dt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ot[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ht.$.h.call(this)}}Ae(ht,Vt);var ot={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),ft=0;function Ne(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=u,this.key=++ft,this.fa=this.ia=!1}function lt(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function An(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function hn(i){const e={};for(const t in i)e[t]=i[t];return e}const Pn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ai(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let m=0;m<Pn.length;m++)t=Pn[m],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function En(i){this.src=i,this.g={},this.h=0}function wn(i,e){var t=e.type;if(t in i.g){var m,o=i.g[t],u=Le(o,e);(m=0<=u)&&Array.prototype.splice.call(o,u,1),m&&(lt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function $n(i,e,t,o){for(var u=0;u<i.length;++u){var m=i[u];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==o)return u}return-1}En.prototype.add=function(i,e,t,o,u){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var v=$n(i,e,o,u);return-1<v?(e=i[v],t||(e.ia=!1)):((e=new Ne(e,this.src,m,!!o,u)).ia=t,i.push(e)),e};var Oi="closure_lm_"+(1e6*Math.random()|0),Yn={};function kn(i,e,t,o,u){if(o&&o.once)return tr(i,e,t,o,u);if(Array.isArray(e)){for(var m=0;m<e.length;m++)kn(i,e[m],t,o,u);return null}return t=me(t),i&&i[Ie]?i.O(e,t,et(o)?!!o.capture:!!o,u):bi(i,e,t,!1,o,u)}function bi(i,e,t,o,u,m){if(!e)throw Error("Invalid event type");var v=et(u)?!!u.capture:!!u,R=sr(i);if(R||(i[Oi]=R=new En(i)),(t=R.add(e,t,o,v,m)).proxy)return t;if(o=function Gi(){const e=vr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)pn||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(mi(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function tr(i,e,t,o,u){if(Array.isArray(e)){for(var m=0;m<e.length;m++)tr(i,e[m],t,o,u);return null}return t=me(t),i&&i[Ie]?i.P(e,t,et(o)?!!o.capture:!!o,u):bi(i,e,t,!0,o,u)}function gi(i,e,t,o,u){if(Array.isArray(e))for(var m=0;m<e.length;m++)gi(i,e[m],t,o,u);else o=et(o)?!!o.capture:!!o,t=me(t),i&&i[Ie]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=$n(m=i.g[e],t,o,u))&&(lt(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=sr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=$n(e,t,o,u)),(t=-1<i?e[i]:null)&&Ur(t))}function Ur(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Ie])wn(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(mi(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=sr(e))?(wn(t,i),0==t.h&&(t.src=null,e[Oi]=null)):lt(i)}}}function mi(i){return i in Yn?Yn[i]:Yn[i]="on"+i}function vr(i,e){if(i.fa)i=!0;else{e=new ht(e,this);var t=i.listener,o=i.la||i.src;i.ia&&Ur(i),i=t.call(o,e)}return i}function sr(i){return(i=i[Oi])instanceof En?i:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(i){return"function"==typeof i?i:(i[Ft]||(i[Ft]=function(e){return i.handleEvent(e)}),i[Ft])}function Fe(){oe.call(this),this.i=new En(this),this.S=this,this.J=null}function wt(i,e){var t,o=i.J;if(o)for(t=[];o;o=o.J)t.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Vt(e,i);else if(e instanceof Vt)e.target=e.target||i;else{var u=e;ai(e=new Vt(o,i),u)}if(u=!0,t)for(var m=t.length-1;0<=m;m--){var v=e.g=t[m];u=an(v,o,!0,e)&&u}if(u=an(v=e.g=i,o,!0,e)&&u,u=an(v,o,!1,e)&&u,t)for(m=0;m<t.length;m++)u=an(v=e.g=t[m],o,!1,e)&&u}function an(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,m=0;m<e.length;++m){var v=e[m];if(v&&!v.fa&&v.capture==t){var R=v.listener,Y=v.la||v.src;v.ia&&wn(i.i,v),u=!1!==R.call(Y,o)&&u}}return u&&!o.defaultPrevented}Ae(Fe,oe),Fe.prototype[Ie]=!0,Fe.prototype.removeEventListener=function(i,e,t,o){gi(this,i,e,t,o)},Fe.prototype.N=function(){if(Fe.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)lt(t[o]);delete i.g[e],i.h--}}this.J=null},Fe.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Fe.prototype.P=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Bn=X.JSON.stringify;function Ni(){var i=$e;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var pt,Ue=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new be,i=>i.reset());class be{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function De(i){X.setTimeout(()=>{throw i},0)}function fe(i,e){pt||function Gt(){var i=X.Promise.resolve(void 0);pt=function(){i.then(je)}}(),bn||(pt(),bn=!0),$e.add(i,e)}var bn=!1,$e=new class ze{constructor(){this.h=this.g=null}add(e,t){const o=Ue.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function je(){for(var i;i=Ni();){try{i.h.call(i.g)}catch(t){De(t)}var e=Ue;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}bn=!1}function Me(i,e){Fe.call(this),this.h=i||1,this.g=e||X,this.j=ge(this.qb,this),this.l=Date.now()}function nt(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Lt(i,e,t){if("function"==typeof i)t&&(i=ge(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ge(i.handleEvent,i)}return 2147483647<Number(e)?-1:X.setTimeout(i,e||0)}function qt(i){i.g=Lt(()=>{i.g=null,i.i&&(i.i=!1,qt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ae(Me,Fe),(ie=Me.prototype).ga=!1,ie.T=null,ie.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wt(this,"tick"),this.ga&&(nt(this),this.start()))}},ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.N=function(){Me.$.N.call(this),nt(this),delete this.g};class Ln extends oe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(i){oe.call(this),this.h=i,this.g={}}Ae(xi,oe);var St=[];function Et(i,e,t,o){Array.isArray(t)||(t&&(St[0]=t.toString()),t=St);for(var u=0;u<t.length;u++){var m=kn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Xt(i){An(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ur(e)},i),i.g={}}function Nn(){this.g=!0}function Mi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function br(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var m=u[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var v=1;v<u.length;v++)u[v]=""}}}return Bn(t)}catch{return e}}(i,t)+(o?" "+o:"")})}xi.prototype.N=function(){xi.$.N.call(this),Xt(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nn.prototype.Ea=function(){this.g=!1},Nn.prototype.info=function(){};var Hn={},Dr=null;function Pr(){return Dr=Dr||new Fe}function Ts(i){Vt.call(this,Hn.Ta,i)}function Kr(i){const e=Pr();wt(e,new Ts(e))}function Zr(i,e){Vt.call(this,Hn.STAT_EVENT,i),this.stat=e}function fn(i){const e=Pr();wt(e,new Zr(e,i))}function Ti(i,e){Vt.call(this,Hn.Ua,i),this.size=e}function pr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){i()},e)}Hn.Ta="serverreachability",Ae(Ts,Vt),Hn.STAT_EVENT="statevent",Ae(Zr,Vt),Hn.Ua="timingevent",Ae(Ti,Vt);var Fi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ys={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pe(){}function B(){}Pe.prototype.h=null;var mn,Se={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ze(){Vt.call(this,"d")}function Ke(){Vt.call(this,"c")}function Gn(){}function ur(i,e,t,o){this.l=i,this.j=e,this.m=t,this.W=o||1,this.U=new xi(this),this.P=wi,this.V=new Me(i=Re?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}Ae(Ze,Vt),Ae(Ke,Vt),Ae(Gn,Pe),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},mn=new Gn;var wi=45e3,Hr={},Lr={};function Ar(i,e,t){i.L=1,i.v=dl(nr(e)),i.s=t,i.S=!0,Hs(i,null)}function Hs(i,e){i.G=Date.now(),Sr(i),i.A=nr(i.v);var t=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),da(t.i,"t",o),i.C=0,t=i.l.I,i.h=new $i,i.g=Bo(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Ln(ge(i.Pa,i,i.g),i.O)),Et(i.U,i.g,"readystatechange",i.nb),e=i.I?hn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Kr(),function qn(i,e,t,o,u,m){i.info(function(){if(i.g)if(m)for(var v="",R=m.split("&"),Y=0;Y<R.length;Y++){var re=R[Y].split("=");if(1<re.length){var Ee=re[0];re=re[1];var qe=Ee.split("_");v=2<=qe.length&&"type"==qe[1]?v+(Ee+"=")+re+"&":v+(Ee+"=redacted&")}}else v=null;else v=m;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Cr(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ii(i,e,t){let u,o=!0;for(;!i.J&&i.C<t.length;){if(u=cr(i,t),u==Lr){4==e&&(i.o=4,fn(14),o=!1),Mi(i.j,i.m,null,"[Incomplete Response]");break}if(u==Hr){i.o=4,fn(15),Mi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Mi(i.j,i.m,u,null),rn(i,u)}Cr(i)&&u!=Lr&&u!=Hr&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,fn(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Lo(e),e.L=!0,fn(11))):(Mi(i.j,i.m,t,"[Invalid Chunked Response]"),zt(i),vt(i))}function cr(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Lr:(t=Number(e.substring(t,o)),isNaN(t)?Hr:(o+=1)+t>e.length?Lr:(e=e.substr(o,t),i.C=o+t,e))}function Sr(i){i.Y=Date.now()+i.P,at(i,i.P)}function at(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=pr(ge(i.lb,i),e)}function tt(i){i.B&&(X.clearTimeout(i.B),i.B=null)}function vt(i){0==i.l.H||i.J||pa(i.l,i)}function zt(i){tt(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,nt(i.V),Xt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function rn(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||hl(t.h,i)))if(!i.K&&hl(t.h,i)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Ws(t),G(t)}Js(t),fn(18)}}else t.Fa=u[1],0<t.Fa-t.V&&37500>u[2]&&t.M&&0==t.A&&!t.v&&(t.v=pr(ge(t.ib,t),6e3));if(1>=Na(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else rs(t,11)}else if((i.K||t.g==i)&&Ws(t),!Yt(e))for(u=t.Ja.g.parse(e),e=0;e<u.length;e++){let re=u[e];if(t.V=re[0],re=re[1],2==t.H)if("c"==re[0]){t.J=re[1],t.oa=re[2];const Ee=re[3];null!=Ee&&(t.qa=Ee,t.j.info("VER="+t.qa));const qe=re[4];null!=qe&&(t.Ga=qe,t.j.info("SVER="+t.Ga));const Ot=re[5];null!=Ot&&"number"==typeof Ot&&0<Ot&&(t.K=o=1.5*Ot,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Qt=i.g;if(Qt){const In=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(In){var m=o.h;m.g||-1==In.indexOf("spdy")&&-1==In.indexOf("quic")&&-1==In.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(xs(m,m.h),m.h=null))}if(o.F){const Vn=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vn&&(o.Da=Vn,dr(o.G,o.F,Vn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var v=i;if((o=t).wa=bo(o,o.I?o.oa:null,o.Y),v.K){ho(o.h,v);var R=v,Y=o.K;Y&&R.setTimeout(Y),R.B&&(tt(R),Sr(R)),o.g=v}else Br(o);0<t.i.length&&W(t)}else"stop"!=re[0]&&"close"!=re[0]||rs(t,7);else 3==t.H&&("stop"==re[0]||"close"==re[0]?"stop"==re[0]?rs(t,7):Il(t):"noop"!=re[0]&&t.l&&t.l.Aa(re),t.A=0)}Kr()}catch{}}function Di(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Oe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ei(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Oe(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function ci(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Oe(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,m=0;m<u;m++)e.call(void 0,o[m],t&&t[m],i)}(ie=ur.prototype).setTimeout=function(i){this.P=i},ie.nb=function(i){i=i.target;const e=this.M;e&&3==$s(i)?e.l():this.Pa(i)},ie.Pa=function(i){try{if(i==this.g)e:{const Ee=$s(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ee)&&(3!=Ee||Re||this.g&&(this.h.h||this.g.ja()||xa(this.g)))){this.J||4!=Ee||7==e||Kr(),tt(this);var t=this.g.da();this.aa=t;t:if(Cr(this)){var o=xa(this.g);i="";var u=o.length,m=4==$s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),vt(this);var v="";break t}this.h.i=new X.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==t,function _i(i,e,t,o,u,m,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+m+" "+v})}(this.j,this.u,this.A,this.m,this.W,Ee,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yt(R)){var re=R;break t}}re=null}if(!(t=re)){this.i=!1,this.o=3,fn(12),zt(this),vt(this);break e}Mi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,t)}this.S?(ii(this,Ee,v),Re&&this.i&&3==Ee&&(Et(this.U,this.V,"tick",this.mb),this.V.start())):(Mi(this.j,this.m,v,null),rn(this,v)),4==Ee&&zt(this),this.i&&!this.J&&(4==Ee?pa(this.l,this):(this.i=!1,Sr(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,fn(12)):(this.o=0,fn(13)),zt(this),vt(this)}}}catch{}},ie.mb=function(){if(this.g){var i=$s(this.g),e=this.g.ja();this.C<e.length&&(tt(this),ii(this,i,e),this.i&&4!=i&&Sr(this))}},ie.cancel=function(){this.J=!0,zt(this)},ie.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Rr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Kr(),fn(17)),zt(this),this.o=2,vt(this)):at(this,this.Y-i)};var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function us(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof us){this.h=void 0!==e?e:i.h,qs(this,i.j),this.s=i.s,this.g=i.g,qo(this,i.m),this.l=i.l,e=i.i;var t=new Gs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),uo(this,t),this.o=i.o}else i&&(t=String(i).match(ji))?(this.h=!!e,qs(this,t[1]||"",!0),this.s=Oo(t[2]||""),this.g=Oo(t[3]||"",!0),qo(this,t[4]),this.l=Oo(t[5]||"",!0),uo(this,t[6]||"",!0),this.o=Oo(t[7]||"")):(this.h=!!e,this.i=new Gs(null,this.h))}function nr(i){return new us(i)}function qs(i,e,t){i.j=t?Oo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function qo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function uo(i,e,t){e instanceof Gs?(i.i=e,function vo(i,e){e&&!i.j&&(js(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Ma(this,o),da(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Mo(e,vl)),i.i=new Gs(e,i.h))}function dr(i,e,t){i.i.set(e,t)}function dl(i){return dr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Oo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Mo(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ia),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ia(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}us.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Mo(e,Aa,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Mo(e,Aa,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Mo(t,"/"==t.charAt(0)?Oa:yl,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Mo(t,ua)),i.join("")};var Aa=/[#\/\?@]/g,yl=/[#\?:]/g,Oa=/[#\?]/g,vl=/[#\?@]/g,ua=/#/g;function Gs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function js(i){i.g||(i.g=new Map,i.h=0,i.i&&function Xr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var m=i[t].substring(0,o);u=i[t].substring(o+1)}else m=i[t];e(m,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ma(i,e){js(i),e=Qo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function No(i,e){return js(i),e=Qo(i,e),i.g.has(e)}function da(i,e,t){Ma(i,e),0<t.length&&(i.i=null,i.g.set(Qo(i,e),Ge(t)),i.h+=t.length)}function Qo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ds(i){this.l=i||Wa,i=X.PerformanceNavigationTiming?0<(i=X.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=Gs.prototype).add=function(i,e){js(this),this.i=null,i=Qo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ie.forEach=function(i,e){js(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},ie.sa=function(){js(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let m=0;m<u.length;m++)t.push(e[o])}return t},ie.Z=function(i){js(this);let e=[];if("string"==typeof i)No(this,i)&&(e=e.concat(this.g.get(Qo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ie.set=function(i,e){return js(this),this.i=null,No(this,i=Qo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ie.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const m=encodeURIComponent(String(o)),v=this.Z(o);for(o=0;o<v.length;o++){var u=m;""!==v[o]&&(u+="="+encodeURIComponent(String(v[o]))),i.push(u)}}return this.i=i.join("&")};var Wa=10;function ha(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Na(i){return i.h?1:i.g?i.g.size:0}function hl(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function xs(i,e){i.g?i.g.add(e):i.h=e}function ho(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Is(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Ge(i.i)}function Ka(){}function xo(){this.g=new Ka}function Ro(i,e,t){const o=t||"";try{Di(i,function(u,m){let v=u;et(u)&&(v=Bn(u)),e.push(o+m+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Po(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function zs(i){this.l=i.fc||null,this.j=i.ob||!1}function Gr(i,e){Fe.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=fo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ds.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ka.prototype.stringify=function(i){return X.JSON.stringify(i,void 0)},Ka.prototype.parse=function(i){return X.JSON.parse(i,void 0)},Ae(zs,Pe),zs.prototype.g=function(){return new Gr(this.l,this.j)},zs.prototype.i=function(i){return function(){return i}}({}),Ae(Gr,Fe);var fo=0;function jr(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Yr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Qs(i)}function Qs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ie=Gr.prototype).open=function(i,e){if(this.readyState!=fo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Qs(this)},ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yr(this)),this.readyState=fo},ie.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jr(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ie.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Yr(this):Qs(this),3==this.readyState&&jr(this)}},ie.Za=function(i){this.g&&(this.response=this.responseText=i,Yr(this))},ie.Ya=function(i){this.g&&(this.response=i,Yr(this))},ie.ka=function(){this.g&&Yr(this)},ie.setRequestHeader=function(i,e){this.v.append(i,e)},ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var fa=X.JSON.parse;function Bi(i){Fe.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gr,this.L=this.M=!1}Ae(Bi,Fe);var gr="",As=/^https?$/i,Xo=["POST","PUT"];function Os(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,po(i),ui(i)}function po(i){i.F||(i.F=!0,wt(i,"complete"),wt(i,"error"))}function ko(i){if(i.h&&typeof Ce<"u"&&(!i.C[1]||4!=$s(i)||2!=i.da()))if(i.v&&4==$s(i))Lt(i.La,0,i);else if(wt(i,"readystatechange"),4==$s(i)){i.h=!1;try{const R=i.da();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===R){var u=String(i.I).match(ji)[1]||null;if(!u&&X.self&&X.self.location){var m=X.self.location.protocol;u=m.substr(0,m.length-1)}o=!As.test(u?u.toLowerCase():"")}t=o}if(t)wt(i,"complete"),wt(i,"success");else{i.m=6;try{var v=2<$s(i)?i.g.statusText:""}catch{v=""}i.j=v+" ["+i.da()+"]",po(i)}}finally{ui(i)}}}function ui(i,e){if(i.g){Fo(i);const t=i.g,o=i.C[0]?ce:null;i.g=null,i.C=null,e||wt(i,"ready");try{t.onreadystatechange=o}catch{}}}function Fo(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(X.clearTimeout(i.A),i.A=null)}function $s(i){return i.g?i.g.readyState:0}function xa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case gr:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function bl(i){let e="";return An(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Za(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=bl(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):dr(i,e,t))}function Ya(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Xn(i){this.Ga=0,this.i=[],this.j=new Nn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ya("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ya("baseRetryDelayMs",5e3,i),this.hb=Ya("retryDelaySeedMs",1e4,i),this.eb=Ya("forwardChannelMaxRetries",2,i),this.xa=Ya("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new Ds(i&&i.concurrentRequestLimit),this.Ja=new xo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Il(i){if($(i),3==i.H){var e=i.W++,t=nr(i.G);dr(t,"SID",i.J),dr(t,"RID",e),dr(t,"TYPE","terminate"),Zn(i,t),(e=new ur(i,i.j,e,void 0)).L=2,e.v=dl(nr(t)),t=!1,X.navigator&&X.navigator.sendBeacon&&(t=X.navigator.sendBeacon(e.v.toString(),"")),!t&&X.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sr(e)}ea(i)}function G(i){i.g&&(Lo(i),i.g.cancel(),i.g=null)}function $(i){G(i),i.u&&(X.clearTimeout(i.u),i.u=null),Ws(i),i.h.cancel(),i.m&&("number"==typeof i.m&&X.clearTimeout(i.m),i.m=null)}function W(i){ha(i.h)||i.m||(i.m=!0,fe(i.Na,i),i.C=0)}function Tt(i,e){var t;t=e?e.m:i.W++;const o=nr(i.G);dr(o,"SID",i.J),dr(o,"RID",t),dr(o,"AID",i.V),Zn(i,o),i.o&&i.s&&Za(o,i.o,i.s),t=new ur(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=mr(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),xs(i.h,t),Ar(t,o,e)}function Zn(i,e){i.ma&&An(i.ma,function(t,o){dr(e,o,t)}),i.l&&Di({},function(t,o){dr(e,o,t)})}function mr(i,e,t){t=Math.min(i.i.length,t);var o=i.l?ge(i.l.Va,i.l,i):null;e:{var u=i.i;let m=-1;for(;;){const v=["count="+t];-1==m?0<t?(m=u[0].h,v.push("ofs="+m)):m=0:v.push("ofs="+m);let R=!0;for(let Y=0;Y<t;Y++){let re=u[Y].h;const Ee=u[Y].g;if(re-=m,0>re)m=Math.max(0,u[Y].h-100),R=!1;else try{Ro(Ee,v,"req"+re+"_")}catch{o&&o(Ee)}}if(R){o=v.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,o}function Br(i){i.g||i.u||(i.ba=1,fe(i.Ma,i),i.A=0)}function Js(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=pr(ge(i.Ma,i),vs(i,i.A)),i.A++,0))}function Lo(i){null!=i.B&&(X.clearTimeout(i.B),i.B=null)}function Ra(i){i.g=new ur(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=nr(i.wa);dr(e,"RID","rpc"),dr(e,"SID",i.J),dr(e,"CI",i.M?"0":"1"),dr(e,"AID",i.V),dr(e,"TYPE","xmlhttp"),Zn(i,e),i.o&&i.s&&Za(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=dl(nr(e)),t.s=null,t.S=!0,Hs(t,i)}function Ws(i){null!=i.v&&(X.clearTimeout(i.v),i.v=null)}function pa(i,e){var t=null;if(i.g==e){Ws(i),Lo(i),i.g=null;var o=2}else{if(!hl(i.h,e))return;t=e.F,ho(i.h,e),o=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;wt(o=Pr(),new Ti(o,t)),W(i)}else Br(i);else if(3==(u=e.o)||0==u&&0<i.ta||!(1==o&&function ve(i,e){return!(Na(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=pr(ge(i.Na,i,e),vs(i,i.C)),i.C++,0)))}(i,e)||2==o&&Js(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:rs(i,5);break;case 4:rs(i,10);break;case 3:rs(i,6);break;default:rs(i,2)}}function vs(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function rs(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=ge(i.pb,i);t||(t=new us("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||qs(t,"https"),dl(t)),function kr(i,e){const t=new Nn;if(X.Image){const o=new Image;o.onload=Xe(Po,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Xe(Po,t,o,"TestLoadImage: error",!1,e),o.onabort=Xe(Po,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Xe(Po,t,o,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else fn(2);i.H=0,i.l&&i.l.za(e),ea(i),$(i)}function ea(i){if(i.H=0,i.pa=[],i.l){const e=Is(i.h);(0!=e.length||0!=i.i.length)&&(Ye(i.pa,e),Ye(i.pa,i.i),i.h.i.length=0,Ge(i.i),i.i.length=0),i.l.ya()}}function bo(i,e,t){var o=t instanceof us?nr(t):new us(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),qo(o,o.m);else{var u=X.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var m=new us(null,void 0);o&&qs(m,o),e&&(m.g=e),u&&qo(m,u),t&&(m.l=t),o=m}return e=i.Da,(t=i.F)&&e&&dr(o,t,e),dr(o,"VER",i.qa),Zn(i,o),o}function Bo(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bi(t&&i.Ha&&!i.va?new zs({ob:!0}):i.va)).Oa(i.I),e}function Al(){}function go(){if(rt&&!(10<=Number(er)))throw Error("Environmental error: no available transport.")}function Rs(i,e){Fe.call(this),this.g=new Xn(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Yt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Vo(this)}function es(i){Ze.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ts(){Ke.call(this),this.status=1}function Vo(i){this.g=i}function Fr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Uo(i,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(u=0;16>u;++u)o[u]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=i.g[3],v=(e=i.g[0])+(m^(t=i.g[1])&((u=i.g[2])^m))+o[0]+3614090360&4294967295;v=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=t+(v<<7&4294967295|v>>>25))+((v=m+(u^e&(t^u))+o[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=u+(t^m&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^u&(m^e))+o[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^t&(u^m))+o[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=m+(u^e&(t^u))+o[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=u+(t^m&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^u&(m^e))+o[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^t&(u^m))+o[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=m+(u^e&(t^u))+o[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=u+(t^m&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^u&(m^e))+o[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^t&(u^m))+o[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=m+(u^e&(t^u))+o[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=u+(t^m&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^u&(m^e))+o[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(u^m&(t^u))+o[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=m+(t^u&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^t&(m^e))+o[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=t+(m^e&(u^m))+o[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^m&(t^u))+o[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=m+(t^u&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^t&(m^e))+o[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=t+(m^e&(u^m))+o[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^m&(t^u))+o[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=m+(t^u&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^t&(m^e))+o[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=t+(m^e&(u^m))+o[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^m&(t^u))+o[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=m+(t^u&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^t&(m^e))+o[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=t+(m^e&(u^m))+o[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(t^u^m)+o[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^t^u)+o[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=u+(m^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=t+(u^m^e)+o[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^u^m)+o[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^t^u)+o[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=u+(m^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=t+(u^m^e)+o[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^u^m)+o[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^t^u)+o[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=u+(m^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=t+(u^m^e)+o[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^u^m)+o[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^t^u)+o[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=u+(m^e^t)+o[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=t+(u^m^e)+o[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(u^(t|~m))+o[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=m+(t^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(m|~t))+o[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=t+(m^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(u^(t|~m))+o[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=m+(t^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(m|~t))+o[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=t+(m^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(u^(t|~m))+o[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=m+(t^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(m|~t))+o[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=t+(m^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((m=(e=t+((v=e+(u^(t|~m))+o[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=m+(t^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((u=m+((v=u+(e^(m|~t))+o[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+m&4294967295}function Wi(i,e){this.h=e;for(var t=[],o=!0,u=i.length-1;0<=u;u--){var m=0|i[u];o&&m==e||(t[u]=m,o=!1)}this.g=t}(ie=Bi.prototype).Oa=function(i){this.M=i},ie.ha=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mn.g(),this.C=function Kt(i){return i.h||(i.h=i.i())}(this.u?this.u:mn),this.g.onreadystatechange=ge(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(m){return void Os(this,m)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())t.set(m,o.get(m))}o=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),u=X.FormData&&i instanceof X.FormData,!(0<=Le(Xo,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,v]of t)this.g.setRequestHeader(m,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fo(this),0<this.B&&((this.L=function Sl(i){return rt&&function Pi(){return Nt(Ii,9,function(){let i=0;const e=Dn(String(Ht)).split("."),t=Dn("9").split("."),o=Math.max(e.length,t.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",m=t[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==u[0].length&&0==m[0].length)break;i=ln(0==u[1].length?0:parseInt(u[1],10),0==m[1].length?0:parseInt(m[1],10))||ln(0==u[2].length,0==m[2].length)||ln(u[2],m[2]),u=u[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ge(this.ua,this)):this.A=Lt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){Os(this,m)}},ie.ua=function(){typeof Ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wt(this,"timeout"),this.abort(8))},ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,wt(this,"complete"),wt(this,"abort"),ui(this))},ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ui(this,!0)),Bi.$.N.call(this)},ie.La=function(){this.s||(this.G||this.v||this.l?ko(this):this.kb())},ie.kb=function(){ko(this)},ie.da=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ie.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),fa(e)}},ie.Ia=function(){return this.m},ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=Xn.prototype).qa=8,ie.H=1,ie.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new ur(this,this.j,i,void 0);let m=this.s;if(this.U&&(m?(m=hn(m),ai(m,this.U)):m=this.U),null!==this.o||this.O||(u.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mr(this,u,e),dr(t=nr(this.G),"RID",i),dr(t,"CVER",22),this.F&&dr(t,"X-HTTP-Session-Id",this.F),Zn(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(bl(m)))+"&"+e:this.o&&Za(t,this.o,m)),xs(this.h,u),this.bb&&dr(t,"TYPE","init"),this.P?(dr(t,"$req",e),dr(t,"SID","null"),u.ba=!0,Ar(u,t,null)):Ar(u,t,e),this.H=2}}else 3==this.H&&(i?Tt(this,i):0==this.i.length||ha(this.h)||Tt(this))},ie.Ma=function(){if(this.u=null,Ra(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=pr(ge(this.jb,this),i)}},ie.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,fn(10),G(this),Ra(this))},ie.ib=function(){null!=this.v&&(this.v=null,G(this),Js(this),fn(19))},ie.pb=function(i){i?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))},(ie=Al.prototype).Ba=function(){},ie.Aa=function(){},ie.za=function(){},ie.ya=function(){},ie.Va=function(){},go.prototype.g=function(i,e){return new Rs(i,e)},Ae(Rs,Fe),Rs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;fn(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=bo(i,null,i.Y),W(i)},Rs.prototype.close=function(){Il(this.g)},Rs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Bn(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&W(e)},Rs.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,Rs.$.N.call(this)},Ae(es,Ze),Ae(ts,Ke),Ae(Vo,Al),Vo.prototype.Ba=function(){wt(this.g,"a")},Vo.prototype.Aa=function(i){wt(this.g,new es(i))},Vo.prototype.za=function(i){wt(this.g,new ts)},Vo.prototype.ya=function(){wt(this.g,"b")},Ae(Fr,function qr(){this.blockSize=-1}),Fr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fr.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,o=this.m,u=this.h,m=0;m<e;){if(0==u)for(;m<=t;)Uo(this,i,m),m+=this.blockSize;if("string"==typeof i){for(;m<e;)if(o[u++]=i.charCodeAt(m++),u==this.blockSize){Uo(this,o),u=0;break}}else for(;m<e;)if(o[u++]=i[m++],u==this.blockSize){Uo(this,o),u=0;break}}this.h=u,this.i+=e},Fr.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)i[t++]=this.g[e]>>>o&255;return i};var Xs={};function Pa(i){return-128<=i&&128>i?Nt(Xs,i,function(e){return new Wi([0|e],0>e?-1:0)}):new Wi([0|i],0>i?-1:0)}function ns(i){if(isNaN(i)||!isFinite(i))return mo;if(0>i)return Vi(ns(-i));for(var e=[],t=1,o=0;i>=t;o++)e[o]=i/t|0,t*=Qa;return new Wi(e,0)}var Qa=4294967296,mo=Pa(0),Ja=Pa(1),ka=Pa(16777216);function Or(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ss(i){return-1==i.h}function Vi(i){for(var e=i.g.length,t=[],o=0;o<e;o++)t[o]=~i.g[o];return new Wi(t,~i.h).add(Ja)}function Fa(i,e){return i.add(Vi(e))}function ta(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ga(i,e){this.g=i,this.h=e}function Xa(i,e){if(Or(e))throw Error("division by zero");if(Or(i))return new ga(mo,mo);if(ss(i))return e=Xa(Vi(i),e),new ga(Vi(e.g),Vi(e.h));if(ss(e))return e=Xa(i,Vi(e)),new ga(Vi(e.g),e.h);if(30<i.g.length){if(ss(i)||ss(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ja,o=e;0>=o.X(i);)t=Qr(t),o=Qr(o);var u=Ks(t,1),m=Ks(o,1);for(o=Ks(o,2),t=Ks(t,2);!Or(o);){var v=m.add(o);0>=v.X(i)&&(u=u.add(t),m=v),o=Ks(o,1),t=Ks(t,1)}return e=Fa(i,u.R(e)),new ga(u,e)}for(u=mo;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),v=(m=ns(t)).R(e);ss(v)||0<v.X(i);)v=(m=ns(t-=o)).R(e);Or(m)&&(m=Ja),u=u.add(m),i=Fa(i,v)}return new ga(u,i)}function Qr(i){for(var e=i.g.length+1,t=[],o=0;o<e;o++)t[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Wi(t,i.h)}function Ks(i,e){var t=e>>5;e%=32;for(var o=i.g.length-t,u=[],m=0;m<o;m++)u[m]=0<e?i.D(m+t)>>>e|i.D(m+t+1)<<32-e:i.D(m+t);return new Wi(u,i.h)}(ie=Wi.prototype).ea=function(){if(ss(this))return-Vi(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);i+=(0<=o?o:Qa+o)*e,e*=Qa}return i},ie.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Or(this))return"0";if(ss(this))return"-"+Vi(this).toString(i);for(var e=ns(Math.pow(i,6)),t=this,o="";;){var u=Xa(t,e).g,m=((0<(t=Fa(t,u.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Or(t=u))return m+o;for(;6>m.length;)m="0"+m;o=m+o}},ie.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ie.X=function(i){return ss(i=Fa(this,i))?-1:Or(i)?0:1},ie.abs=function(){return ss(this)?Vi(this):this},ie.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0,u=0;u<=e;u++){var m=o+(65535&this.D(u))+(65535&i.D(u)),v=(m>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=v>>>16,t[u]=(v&=65535)<<16|(m&=65535)}return new Wi(t,-2147483648&t[t.length-1]?-1:0)},ie.R=function(i){if(Or(this)||Or(i))return mo;if(ss(this))return ss(i)?Vi(this).R(Vi(i)):Vi(Vi(this).R(i));if(ss(i))return Vi(this.R(Vi(i)));if(0>this.X(ka)&&0>i.X(ka))return ns(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var m=this.D(o)>>>16,v=65535&this.D(o),R=i.D(u)>>>16,Y=65535&i.D(u);t[2*o+2*u]+=v*Y,ta(t,2*o+2*u),t[2*o+2*u+1]+=m*Y,ta(t,2*o+2*u+1),t[2*o+2*u+1]+=v*R,ta(t,2*o+2*u+1),t[2*o+2*u+2]+=m*R,ta(t,2*o+2*u+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Wi(t,0)},ie.gb=function(i){return Xa(this,i).h},ie.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&i.D(o);return new Wi(t,this.h&i.h)},ie.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|i.D(o);return new Wi(t,this.h|i.h)},ie.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^i.D(o);return new Wi(t,this.h^i.h)},go.prototype.createWebChannel=go.prototype.g,Rs.prototype.send=Rs.prototype.u,Rs.prototype.open=Rs.prototype.m,Rs.prototype.close=Rs.prototype.close,Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,ys.COMPLETE="complete",B.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Fe.prototype.listen=Fe.prototype.O,Bi.prototype.listenOnce=Bi.prototype.P,Bi.prototype.getLastError=Bi.prototype.Sa,Bi.prototype.getLastErrorCode=Bi.prototype.Ia,Bi.prototype.getStatus=Bi.prototype.da,Bi.prototype.getResponseJson=Bi.prototype.Wa,Bi.prototype.getResponseText=Bi.prototype.ja,Bi.prototype.send=Bi.prototype.ha,Bi.prototype.setWithCredentials=Bi.prototype.Oa,Fr.prototype.digest=Fr.prototype.l,Fr.prototype.reset=Fr.prototype.reset,Fr.prototype.update=Fr.prototype.j,Wi.prototype.add=Wi.prototype.add,Wi.prototype.multiply=Wi.prototype.R,Wi.prototype.modulo=Wi.prototype.gb,Wi.prototype.compare=Wi.prototype.X,Wi.prototype.toNumber=Wi.prototype.ea,Wi.prototype.toString=Wi.prototype.toString,Wi.prototype.getBits=Wi.prototype.D,Wi.fromNumber=ns,Wi.fromString=function qa(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Vi(qa(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ns(Math.pow(e,8)),o=mo,u=0;u<i.length;u+=8){var m=Math.min(8,i.length-u),v=parseInt(i.substring(u,u+m),e);8>m?(m=ns(Math.pow(e,m)),o=o.R(m).add(ns(v))):o=(o=o.R(t)).add(ns(v))}return o};var bs=le.createWebChannelTransport=function(){return new go},na=le.getStatEventTarget=function(){return Pr()},U=le.ErrorCode=Fi,te=le.EventType=ys,K=le.Event=Hn,pe=le.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},We=le.FetchXmlHttpFactory=zs,kt=le.WebChannel=B,Jt=le.XhrIo=Bi,ei=le.Md5=Fr,ir=le.Integer=Wi;const wr="@firebase/firestore";class fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");let Ri="9.21.0";const Mr=new Te.Yd("@firebase/firestore");function Nr(){return Mr.logLevel}function xr(i){Mr.setLogLevel(i)}function sn(i,...e){if(Mr.logLevel<=Te.in.DEBUG){const t=e.map(eo);Mr.debug(`Firestore (${Ri}): ${i}`,...t)}}function qi(i,...e){if(Mr.logLevel<=Te.in.ERROR){const t=e.map(eo);Mr.error(`Firestore (${Ri}): ${i}`,...t)}}function _r(i,...e){if(Mr.logLevel<=Te.in.WARN){const t=e.map(eo);Mr.warn(`Firestore (${Ri}): ${i}`,...t)}}function eo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function On(i="Unexpected state"){const e=`FIRESTORE (${Ri}) INTERNAL ASSERTION FAILED: `+i;throw qi(e),new Error(e)}function Mn(i,e){i||On()}function Ms(i,e){i||On()}function yn(i,e){return i}const Mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class on extends L.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class el{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fi.UNAUTHENTICATED))}shutdown(){}}class Ll{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wo{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const m=re=>this.i!==u?(u=this.i,t(re)):Promise.resolve();let v=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new ds,e.enqueueRetryable(()=>m(this.currentUser))};const R=()=>{const re=v;e.enqueueRetryable((0,p.Z)(function*(){yield re.promise,yield m(o.currentUser)}))},Y=re=>{sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=re,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(re=>Y(re)),setTimeout(()=>{if(!this.auth){const re=this.t.getImmediate({optional:!0});re?Y(re):(sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new ds)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Mn("string"==typeof o.accessToken),new el(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mn(null===e||"string"==typeof e),new fi(e)}}class Bl{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Vl{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Bl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ia{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=m=>{null!=m.error&&sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const v=m.token!==this.T;return this.T=m.token,sn("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const u=m=>{sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?u(m):sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mn("string"==typeof t.token),this.T=t.token,new ia(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ol(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Ps{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ol(40);for(let m=0;m<u.length;++m)o.length<20&&u[m]<t&&(o+=e.charAt(u[m]%e.length))}return o}}function Si(i,e){return i<e?-1:i>e?1:0}function Ho(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function ec(i){return i+"\0"}class zr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new on(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new on(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new on(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new on(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zr.fromMillis(Date.now())}static fromDate(e){return zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new zr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Si(this.nanoseconds,e.nanoseconds):Si(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rn(e)}static min(){return new Rn(new zr(0,0))}static max(){return new Rn(new zr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class La{constructor(e,t,o){void 0===t?t=0:t>e.length&&On(),void 0===o?o=e.length-t:o>e.length-t&&On(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===La.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const m=e.get(u),v=t.get(u);if(m<v)return-1;if(m>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class li extends La{construct(e,t,o){return new li(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new on(Mt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new li(t)}static emptyPath(){return new li([])}}const Eo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends La{construct(e,t,o){return new hr(e,t,o)}static isValidIdentifier(e){return Eo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const m=()=>{if(0===o.length)throw new on(Mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let v=!1;for(;u<e.length;){const R=e[u];if("\\"===R){if(u+1===e.length)throw new on(Mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[u+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new on(Mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=Y,u+=2}else"`"===R?(v=!v,u++):"."!==R||v?(o+=R,u++):(m(),u++)}if(m(),v)throw new on(Mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class gn{constructor(e){this.path=e}static fromPath(e){return new gn(li.fromString(e))}static fromName(e){return new gn(li.fromString(e).popFirst(5))}static empty(){return new gn(li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===li.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return li.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gn(new li(e.slice()))}}class to{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function ma(i){return i.fields.find(e=>2===e.kind)}function Zs(i){return i.fields.filter(e=>2!==e.kind)}to.UNKNOWN_ID=-1;class _a{constructor(e,t){this.fieldPath=e,this.kind=t}}class tl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tl(0,ws.min())}}function ra(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Rn.fromTimestamp(1e9===o?new zr(t+1,0):new zr(t,o));return new ws(u,gn.empty(),e)}function sa(i){return new ws(i.readTime,i.key,-1)}class ws{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ws(Rn.min(),gn.empty(),-1)}static max(){return new ws(Rn.max(),gn.empty(),-1)}}function nl(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=gn.comparator(i.documentKey,e.documentKey),0!==t?t:Si(i.largestBatchId,e.largestBatchId))}const Go="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class il{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hs(i){return rl.apply(this,arguments)}function rl(){return rl=(0,p.Z)(function*(i){if(i.code!==Mt.FAILED_PRECONDITION||i.message!==Go)throw i;sn("LocalStore","Unexpectedly lost primary lease")}),rl.apply(this,arguments)}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&On(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _t((o,u)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,u)},this.catchCallback=m=>{this.wrapFailure(t,m).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _t?t:_t.resolve(t)}catch(t){return _t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.reject(t)}static resolve(e){return new _t((t,o)=>{t(e)})}static reject(e){return new _t((t,o)=>{o(e)})}static waitFor(e){return new _t((t,o)=>{let u=0,m=0,v=!1;e.forEach(R=>{++u,R.next(()=>{++m,v&&m===u&&t()},Y=>o(Y))}),v=!0,m===u&&t()})}static or(e){let t=_t.resolve(!1);for(const o of e)t=t.next(u=>u?_t.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,m)=>{o.push(t.call(this,u,m))}),this.waitFor(o)}static mapArray(e,t){return new _t((o,u)=>{const m=e.length,v=new Array(m);let R=0;for(let Y=0;Y<m;Y++){const re=Y;t(e[re]).next(Ee=>{v[re]=Ee,++R,R===m&&o(v)},Ee=>u(Ee))}})}static doWhile(e,t){return new _t((o,u)=>{const m=()=>{!0===e()?t().next(()=>{m()},u):o()};m()})}}class Ml{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ds,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Tl(e,t.error)):this.R.resolve()},this.transaction.onerror=o=>{const u=Dc(o.target.error);this.R.reject(new Tl(e,u))}}static open(e,t,o,u){try{return new Ml(t,e.transaction(u,o))}catch(m){throw new Tl(t,m)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(sn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ul(t)}}class _o{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===_o.S((0,L.z$)())&&qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return sn("SimpleDb","Removing database:",e),sl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,L.hl)())return!1;if(_o.C())return!0;const e=(0,L.z$)(),t=_o.S(e),o=0<t&&t<10,u=_o.N(e),m=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}O(e){var t=this;return(0,p.Z)(function*(){return t.db||(sn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=v=>{o(v.target.result)},m.onblocked=()=>{u(new Tl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=v=>{const R=v.target.error;u("VersionError"===R.name?new on(Mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new on(Mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new Tl(e,R))},m.onupgradeneeded=v=>{sn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.V.$(v.target.result,m.transaction,v.oldVersion,t.version).next(()=>{sn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var m=this;return(0,p.Z)(function*(){const v="readonly"===t;let R=0;for(;;){++R;try{m.db=yield m.O(e);const Y=Ml.open(m.db,e,v?"readonly":"readwrite",o),re=u(Y).next(Ee=>(Y.P(),Ee)).catch(Ee=>(Y.abort(Ee),_t.reject(Ee))).toPromise();return re.catch(()=>{}),yield Y.v,re}catch(Y){const re=Y,Ee="FirebaseError"!==re.name&&R<3;if(sn("SimpleDb","Transaction failed with error:",re.message,"Retrying:",Ee),m.close(),!Ee)return Promise.reject(re)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class El{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return sl(this.L.delete())}}class Tl extends on{constructor(e,t){super(Mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ya(i){return"IndexedDbTransactionError"===i.name}class Ul{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(sn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(sn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),sl(o)}add(e){return sn("SimpleDb","ADD",this.store.name,e,e),sl(this.store.add(e))}get(e){return sl(this.store.get(e)).next(t=>(void 0===t&&(t=null),sn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return sn("SimpleDb","DELETE",this.store.name,e),sl(this.store.delete(e))}count(){return sn("SimpleDb","COUNT",this.store.name),sl(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),m=[];return this.W(u,(v,R)=>{m.push(R)}).next(()=>m)}{const u=this.store.getAll(o.range);return new _t((m,v)=>{u.onerror=R=>{v(R.target.error)},u.onsuccess=R=>{m(R.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new _t((u,m)=>{o.onerror=v=>{m(v.target.error)},o.onsuccess=v=>{u(v.target.result)}})}J(e,t){sn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const u=this.cursor(o);return this.W(u,(m,v,R)=>R.delete())}X(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.W(u,t)}Z(e){const t=this.cursor({});return new _t((o,u)=>{t.onerror=m=>{const v=Dc(m.target.error);u(v)},t.onsuccess=m=>{const v=m.target.result;v?e(v.primaryKey,v.value).next(R=>{R?v.continue():o()}):o()}})}W(e,t){const o=[];return new _t((u,m)=>{e.onerror=v=>{m(v.target.error)},e.onsuccess=v=>{const R=v.target.result;if(!R)return void u();const Y=new El(R),re=t(R.primaryKey,R.value,Y);if(re instanceof _t){const Ee=re.catch(qe=>(Y.done(),_t.reject(qe)));o.push(Ee)}Y.isDone?u():null===Y.K?R.continue():R.continue(Y.K)}}).next(()=>_t.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sl(i){return new _t((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Dc(o.target.error);t(u)}})}let Va=!1;function Dc(i){const e=_o.S((0,L.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new on("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Va||(Va=!0,setTimeout(()=>{throw o},0)),o}}return i}class Cc{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;sn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{sn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){ya(o)?sn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield hs(o)}yield t.et(6e4)}))}}class Ss{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let u=t,m=!0;return _t.doWhile(()=>!0===m&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!o.has(v))return sn("IndexBackiller",`Processing collection: ${v}`),this.it(e,v,u).next(R=>{u-=R,o.add(v)});m=!1})).next(()=>t-u)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(m=>{const v=m.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.rt(u,m)).next(R=>(sn("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>v.size)}))}rt(e,t){let o=e;return t.changes.forEach((u,m)=>{const v=sa(m);nl(v,o)>0&&(o=v)}),new ws(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ks=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function To(i){return null==i}function Ua(i){return 0===i&&1/i==-1/0}function io(i){return"number"==typeof i&&Number.isInteger(i)&&!Ua(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function os(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=M(e)),e=S(i.get(t),e);return M(e)}function S(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const m=i.charAt(u);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function M(i){return i+"\x01\x01"}function E(i){const e=i.length;if(Mn(e>=2),2===e)return Mn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),li.emptyPath();const t=e-2,o=[];let u="";for(let m=0;m<e;){const v=i.indexOf("\x01",m);switch((v<0||v>t)&&On(),i.charAt(v+1)){case"\x01":const R=i.substring(m,v);let Y;0===u.length?Y=R:(u+=R,Y=u,u=""),o.push(Y);break;case"\x10":u+=i.substring(m,v),u+="\0";break;case"\x11":u+=i.substring(m,v+1);break;default:On()}m=v+2}return new li(o)}const H=["userId","batchId"];function q(i,e){return[i,os(e)]}function he(i,e,t){return[i,os(e),t]}const P={},T=["prefixPath","collectionGroup","readTime","documentId"],O=["prefixPath","collectionGroup","documentId"],Q=["collectionGroup","readTime","prefixPath","documentId"],ue=["canonicalId","targetId"],Ve=["targetId","path"],Ct=["path","targetId"],vn=["collectionId","parent"],Wn=["indexId","uid"],ri=["uid","sequenceNumber"],di=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vr=["indexId","uid","orderedDocumentKey"],fs=["userId","collectionPath","documentId"],ps=["userId","collectionPath","largestBatchId"],jo=["userId","collectionGroup","largestBatchId"],ro=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bc=[...ro,"documentOverlays"],tc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nu=tc,nh=[...nu,"indexConfiguration","indexState","indexEntries"];class ol extends il{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Fs(i,e){const t=yn(i);return _o.M(t.at,e)}function Su(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function al(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function hd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ir{constructor(e,t){this.comparator=e,this.root=t||Do.EMPTY}insert(e,t){return new Ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Do.BLACK,null,null))}remove(e){return new Ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Do.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?o(e.key,t):1,t&&u&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Do{constructor(e,t,o,u,m){this.key=e,this.value=t,this.color=o??Do.RED,this.left=u??Do.EMPTY,this.right=m??Do.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,m){return new Do(e??this.key,t??this.value,o??this.color,u??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const m=o(e,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===m?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Do.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Do.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Do.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Do.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw On();const e=this.left.check();if(e!==this.right.check())throw On();return e+(this.isRed()?0:1)}}Do.EMPTY=null,Do.RED=!0,Do.BLACK=!1,Do.EMPTY=new class{constructor(){this.size=0}get key(){throw On()}get value(){throw On()}get color(){throw On()}get left(){throw On()}get right(){throw On()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Do(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gs{constructor(e){this.comparator=e,this.data=new Ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iu(this.data.getIterator())}getIteratorFrom(e){return new Iu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,m=o.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gs(this.comparator);return t.data=e,t}}class Iu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ic(i){return i.hasNext()?i.getNext():void 0}class va{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new va([])}unionWith(e){let t=new gs(hr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Vc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ih(){return typeof atob<"u"}class so{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vc("Invalid base64 string: "+u):u}}(e);return new so(t)}static fromUint8Array(e){const t=function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u}(e);return new so(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Si(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}so.EMPTY_BYTE_STRING=new so("");const Sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nl(i){if(Mn(!!i),"string"==typeof i){let e=0;const t=Sc.exec(i);if(Mn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ls(i.seconds),nanos:Ls(i.nanos)}}function Ls(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function fl(i){return"string"==typeof i?so.fromBase64String(i):so.fromUint8Array(i)}function Au(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rc(i){const e=i.mapValue.fields.__previous_value__;return Au(e)?rc(e):e}function Ic(i){const e=Nl(i.mapValue.fields.__local_write_time__.timestampValue);return new zr(e.seconds,e.nanos)}class Ou{constructor(e,t,o,u,m,v,R,Y){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=m,this.forceLongPolling=v,this.autoDetectLongPolling=R,this.useFetchStreams=Y}}class xl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}const ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uc={nullValue:"NULL_VALUE"};function Dl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Au(i)?4:fd(i)?9007199254740991:10:On()}function oa(i,e){if(i===e)return!0;const t=Dl(i);if(t!==Dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ic(i).isEqual(Ic(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=Nl(o.timestampValue),v=Nl(u.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,fl(i.bytesValue).isEqual(fl(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ls(o.geoPointValue.latitude)===Ls(u.geoPointValue.latitude)&&Ls(o.geoPointValue.longitude)===Ls(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ls(o.integerValue)===Ls(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=Ls(o.doubleValue),v=Ls(u.doubleValue);return m===v?Ua(m)===Ua(v):isNaN(m)&&isNaN(v)}return!1}(i,e);case 9:return Ho(i.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(o,u){const m=o.mapValue.fields||{},v=u.mapValue.fields||{};if(Su(m)!==Su(v))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===v[R]||!oa(m[R],v[R])))return!1;return!0}(i,e);default:return On()}var u}function sc(i,e){return void 0!==(i.values||[]).find(t=>oa(t,e))}function Rl(i,e){if(i===e)return 0;const t=Dl(i),o=Dl(e);if(t!==o)return Si(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Si(i.booleanValue,e.booleanValue);case 2:return function(u,m){const v=Ls(u.integerValue||u.doubleValue),R=Ls(m.integerValue||m.doubleValue);return v<R?-1:v>R?1:v===R?0:isNaN(v)?isNaN(R)?0:-1:1}(i,e);case 3:return iu(i.timestampValue,e.timestampValue);case 4:return iu(Ic(i),Ic(e));case 5:return Si(i.stringValue,e.stringValue);case 6:return function(u,m){const v=fl(u),R=fl(m);return v.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(u,m){const v=u.split("/"),R=m.split("/");for(let Y=0;Y<v.length&&Y<R.length;Y++){const re=Si(v[Y],R[Y]);if(0!==re)return re}return Si(v.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,m){const v=Si(Ls(u.latitude),Ls(m.latitude));return 0!==v?v:Si(Ls(u.longitude),Ls(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,m){const v=u.values||[],R=m.values||[];for(let Y=0;Y<v.length&&Y<R.length;++Y){const re=Rl(v[Y],R[Y]);if(re)return re}return Si(v.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,m){if(u===ba.mapValue&&m===ba.mapValue)return 0;if(u===ba.mapValue)return 1;if(m===ba.mapValue)return-1;const v=u.fields||{},R=Object.keys(v),Y=m.fields||{},re=Object.keys(Y);R.sort(),re.sort();for(let Ee=0;Ee<R.length&&Ee<re.length;++Ee){const qe=Si(R[Ee],re[Ee]);if(0!==qe)return qe;const Ot=Rl(v[R[Ee]],Y[re[Ee]]);if(0!==Ot)return Ot}return Si(R.length,re.length)}(i.mapValue,e.mapValue);default:throw On()}}function iu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Si(i,e);const t=Nl(i),o=Nl(e),u=Si(t.seconds,o.seconds);return 0!==u?u:Si(t.nanos,o.nanos)}function Pl(i){return rh(i)}function rh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Nl(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?fl(i.bytesValue).toBase64():"referenceValue"in i?gn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",m=!0;for(const v of o.values||[])m?m=!1:u+=",",u+=rh(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let m="{",v=!0;for(const R of u)v?v=!1:m+=",",m+=`${R}:${rh(o.fields[R])}`;return m+"}"}(i.mapValue):On();var e}function Hl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function oc(i){return!!i&&"integerValue"in i}function pl(i){return!!i&&"arrayValue"in i}function ru(i){return!!i&&"nullValue"in i}function su(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ha(i){return!!i&&"mapValue"in i}function wa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return al(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=wa(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wa(i.arrayValue.values[t]);return e}return Object.assign({},i)}function fd(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ac(i){return"nullValue"in i?Uc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Hl(xl.empty(),gn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:On()}function sh(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Hl(xl.empty(),gn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ba:On()}function Nu(i,e){const t=Rl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function xu(i,e){const t=Rl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Co{constructor(e){this.value=e}static empty(){return new Co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ha(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(t)}setAll(e){let t=hr.emptyPath(),o={},u=[];e.forEach((v,R)=>{if(!t.isImmediateParentOf(R)){const Y=this.getFieldsMap(t);this.applyChanges(Y,o,u),o={},u=[],t=R.popLast()}v?o[R.lastSegment()]=wa(v):u.push(R.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,o,u)}delete(e){const t=this.field(e.popLast());Ha(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Ha(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){al(t,(u,m)=>e[u]=m);for(const u of o)delete e[u]}clone(){return new Co(wa(this.value))}}function pd(i){const e=[];return al(i.fields,(t,o)=>{const u=new hr([t]);if(Ha(o)){const m=pd(o.mapValue).fields;if(0===m.length)e.push(u);else for(const v of m)e.push(u.child(v))}else e.push(u)}),new va(e)}class ms{constructor(e,t,o,u,m,v,R){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=m,this.data=v,this.documentState=R}static newInvalidDocument(e){return new ms(e,0,Rn.min(),Rn.min(),Rn.min(),Co.empty(),0)}static newFoundDocument(e,t,o,u){return new ms(e,1,t,Rn.min(),o,u,0)}static newNoDocument(e,t){return new ms(e,2,t,Rn.min(),Rn.min(),Co.empty(),0)}static newUnknownDocument(e,t){return new ms(e,3,t,Rn.min(),Rn.min(),Co.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class N{constructor(e,t){this.position=e,this.inclusive=t}}function j(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const m=e[u],v=i.position[u];if(o=m.field.isKeyField()?gn.comparator(gn.fromName(v.referenceValue),t.key):Rl(v,t.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function ne(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!oa(i.position[t],e.position[t]))return!1;return!0}class xe{constructor(e,t="asc"){this.field=e,this.dir=t}}function ct(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class bt{}class yt extends bt{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Gc(e,t,o):"array-contains"===t?new Hf(e,o):"in"===t?new Ru(e,o):"not-in"===t?new oh(e,o):"array-contains-any"===t?new zh(e,o):new yt(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new ll(e,o):new Cl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rl(t,this.value)):null!==t&&Dl(this.value)===Dl(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return On()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cn extends bt{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new cn(e,t)}matches(e){return Cn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Cn(i){return"and"===i.op}function ni(i){return"or"===i.op}function Li(i){return Ui(i)&&Cn(i)}function Ui(i){for(const e of i.filters)if(e instanceof cn)return!1;return!0}function zo(i){if(i instanceof yt)return i.field.canonicalString()+i.op.toString()+Pl(i.value);if(Li(i))return i.filters.map(e=>zo(e)).join(",");{const e=i.filters.map(t=>zo(t)).join(",");return`${i.op}(${e})`}}function Bs(i,e){return i instanceof yt?(t=i,(o=e)instanceof yt&&t.op===o.op&&t.field.isEqual(o.field)&&oa(t.value,o.value)):i instanceof cn?function(t,o){return o instanceof cn&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,m,v)=>u&&Bs(m,o.filters[v]),!0)}(i,e):void On();var t,o}function Hc(i,e){const t=i.filters.concat(e);return cn.create(t,i.op)}function lc(i){return i instanceof yt?`${(e=i).field.canonicalString()} ${e.op} ${Pl(e.value)}`:i instanceof cn?function(e){return e.op.toString()+" {"+e.getFilters().map(lc).join(" ,")+"}"}(i):"Filter";var e}class Gc extends yt{constructor(e,t,o){super(e,t,o),this.key=gn.fromName(o.referenceValue)}matches(e){const t=gn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ll extends yt{constructor(e,t){super(e,"in",t),this.keys=cc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cl extends yt{constructor(e,t){super(e,"not-in",t),this.keys=cc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>gn.fromName(o.referenceValue))}class Hf extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pl(t)&&sc(t.arrayValue,this.value)}}class Ru extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sc(this.value.arrayValue,t)}}class oh extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sc(this.value.arrayValue,t)}}class zh extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>sc(this.value.arrayValue,o))}}class ou{constructor(e,t=null,o=[],u=[],m=null,v=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=m,this.startAt=v,this.endAt=R,this.ft=null}}function au(i,e=null,t=[],o=[],u=null,m=null,v=null){return new ou(i,e,t,o,u,m,v)}function uc(i){const e=yn(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>zo(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),To(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Pl(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Pl(o)).join(",")),e.ft=t}return e.ft}function Gl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ct(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Bs(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ne(i.startAt,e.startAt)&&ne(i.endAt,e.endAt)}function lu(i){return gn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Pu(i,e){return i.filters.filter(t=>t instanceof yt&&t.field.isEqual(e))}function $h(i,e,t){let o=Uc,u=!0;for(const m of Pu(i,e)){let v=Uc,R=!0;switch(m.op){case"<":case"<=":v=ac(m.value);break;case"==":case"in":case">=":v=m.value;break;case">":v=m.value,R=!1;break;case"!=":case"not-in":v=Uc}Nu({value:o,inclusive:u},{value:v,inclusive:R})<0&&(o=v,u=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const v=t.position[m];Nu({value:o,inclusive:u},{value:v,inclusive:t.inclusive})<0&&(o=v,u=t.inclusive);break}return{value:o,inclusive:u}}function gd(i,e,t){let o=ba,u=!0;for(const m of Pu(i,e)){let v=ba,R=!0;switch(m.op){case">=":case">":v=sh(m.value),R=!1;break;case"==":case"in":case"<=":v=m.value;break;case"<":v=m.value,R=!1;break;case"!=":case"not-in":v=ba}xu({value:o,inclusive:u},{value:v,inclusive:R})>0&&(o=v,u=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const v=t.position[m];xu({value:o,inclusive:u},{value:v,inclusive:t.inclusive})>0&&(o=v,u=t.inclusive);break}return{value:o,inclusive:u}}class jl{constructor(e,t=null,o=[],u=[],m=null,v="F",R=null,Y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=m,this.limitType=v,this.startAt=R,this.endAt=Y,this.dt=null,this._t=null}}function Wh(i,e,t,o,u,m,v,R){return new jl(i,e,t,o,u,m,v,R)}function ku(i){return new jl(i)}function I(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function _(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function w(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function x(i){return null!==i.collectionGroup}function se(i){const e=yn(i);if(null===e.dt){e.dt=[];const t=w(e),o=_(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new xe(t)),e.dt.push(new xe(hr.keyField(),"asc"));else{let u=!1;for(const m of e.explicitOrderBy)e.dt.push(m),m.field.isKeyField()&&(u=!0);if(!u){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new xe(hr.keyField(),m))}}}return e.dt}function we(i){const e=yn(i);if(!e._t)if("F"===e.limitType)e._t=au(e.path,e.collectionGroup,se(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of se(e))t.push(new xe(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new N(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new N(e.startAt.position,e.startAt.inclusive):null;e._t=au(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e._t}function gt(i,e){e.getFirstInequalityField(),w(i);const t=i.filters.concat([e]);return new jl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Ut(i,e,t){return new jl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Tn(i,e){return Gl(we(i),we(e))&&i.limitType===e.limitType}function jn(i){return`${uc(we(i))}|lt:${i.limitType}`}function hi(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>lc(o)).join(", ")}]`),To(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Pl(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Pl(o)).join(",")),`Target(${t})`}(we(i))}; limitType=${i.limitType})`}function Ki(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):gn.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of se(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,m,v){const R=j(u,m,v);return u.inclusive?R<=0:R<0}(t.startAt,se(t),o)||t.endAt&&!function(u,m,v){const R=j(u,m,v);return u.inclusive?R>=0:R>0}(t.endAt,se(t),o)));var t,o}function Ea(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zl(i){return(e,t)=>{let o=!1;for(const u of se(i)){const m=md(u,e,t);if(0!==m)return m;o=o||u.field.isKeyField()}return 0}}function md(i,e,t){const o=i.field.isKeyField()?gn.comparator(e.key,t.key):function(u,m,v){const R=m.data.field(u),Y=v.data.field(u);return null!==R&&null!==Y?Rl(R,Y):On()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return On()}}class dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,m]of o)if(this.equalsFn(u,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],e))return void(u[m]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(t,o)=>{for(const[u,m]of o)e(u,m)})}isEmpty(){return hd(this.inner)}size(){return this.innerSize}}const Fu=new Ir(gn.comparator);function Ga(){return Fu}const _d=new Ir(gn.comparator);function Ac(...i){let e=_d;for(const t of i)e=e.insert(t.key,t);return e}function yd(i){let e=_d;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function gl(){return hc()}function Lu(){return hc()}function hc(){return new dc(i=>i.toString(),(i,e)=>i.isEqual(e))}const vd=new Ir(gn.comparator),bd=new gs(gn.comparator);function or(...i){let e=bd;for(const t of i)e=e.add(t);return e}const Gf=new gs(Si);function ah(){return Gf}function wd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ua(e)?"-0":e}}function fg(i){return{integerValue:""+i}}function jf(i,e){return io(e)?fg(e):wd(i,e)}class Kh{constructor(){this._=void 0}}function Dm(i,e,t){return i instanceof Bu?function(o,u){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Au(u)&&(u=rc(u)),u&&(m.fields.__previous_value__=u),{mapValue:m}}(t,e):i instanceof Oc?Zh(i,e):i instanceof $l?pg(i,e):function(o,u){const m=zf(o,u),v=M_(m)+M_(o.wt);return oc(m)&&oc(o.wt)?fg(v):wd(o.serializer,v)}(i,e)}function Cm(i,e,t){return i instanceof Oc?Zh(i,e):i instanceof $l?pg(i,e):t}function zf(i,e){return i instanceof Ed?oc(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Bu extends Kh{}class Oc extends Kh{constructor(e){super(),this.elements=e}}function Zh(i,e){const t=Ta(e);for(const o of i.elements)t.some(u=>oa(u,o))||t.push(o);return{arrayValue:{values:t}}}class $l extends Kh{constructor(e){super(),this.elements=e}}function pg(i,e){let t=Ta(e);for(const o of i.elements)t=t.filter(u=>!oa(u,o));return{arrayValue:{values:t}}}class Ed extends Kh{constructor(e,t){super(),this.serializer=e,this.wt=t}}function M_(i){return Ls(i.integerValue||i.doubleValue)}function Ta(i){return pl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class cu{constructor(e,t){this.field=e,this.transform=t}}class Td{constructor(e,t){this.version=e,this.transformResults=t}}class Qi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Es(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fc{}function qh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Dd(i.key,Qi.none()):new gc(i.key,i.data,Qi.none());{const t=i.data,o=Co.empty();let u=new gs(hr.comparator);for(let m of e.fields)if(!u.has(m)){let v=t.field(m);null===v&&m.length>1&&(m=m.popLast(),v=t.field(m)),null===v?o.delete(m):o.set(m,v),u=u.add(m)}return new jc(i.key,o,new va(u.toArray()),Qi.none())}}function Vu(i,e,t){i instanceof gc?function(o,u,m){const v=o.value.clone(),R=Mc(o.fieldTransforms,u,m.transformResults);v.setAll(R),u.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(i,e,t):i instanceof jc?function(o,u,m){if(!Es(o.precondition,u))return void u.convertToUnknownDocument(m.version);const v=Mc(o.fieldTransforms,u,m.transformResults),R=u.data;R.setAll($f(o)),R.setAll(v),u.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pc(i,e,t,o){return i instanceof gc?function(u,m,v,R){if(!Es(u.precondition,m))return v;const Y=u.value.clone(),re=uu(u.fieldTransforms,R,m);return Y.setAll(re),m.convertToFoundDocument(m.version,Y).setHasLocalMutations(),null}(i,e,t,o):i instanceof jc?function(u,m,v,R){if(!Es(u.precondition,m))return v;const Y=uu(u.fieldTransforms,R,m),re=m.data;return re.setAll($f(u)),re.setAll(Y),m.convertToFoundDocument(m.version,re).setHasLocalMutations(),null===v?null:v.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Ee=>Ee.field))}(i,e,t,o):(v=t,Es(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v);var m,v}function gg(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),m=zf(o.transform,u||null);null!=m&&(null===t&&(t=Co.empty()),t.set(o.field,m))}return t||null}function mg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ho(t,o,(u,m)=>function Yh(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Oc&&o instanceof Oc||t instanceof $l&&o instanceof $l?Ho(t.elements,o.elements,oa):t instanceof Ed&&o instanceof Ed?oa(t.wt,o.wt):t instanceof Bu&&o instanceof Bu);var t,o}(u,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class gc extends fc{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class jc extends fc{constructor(e,t,o,u,m=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function $f(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Mc(i,e,t){const o=new Map;Mn(i.length===t.length);for(let u=0;u<t.length;u++){const m=i[u],v=m.transform,R=e.data.field(m.field);o.set(m.field,Cm(v,R,t[u]))}return o}function uu(i,e,t){const o=new Map;for(const u of i){const m=u.transform,v=t.data.field(u.field);o.set(u.field,Dm(m,v,e))}return o}class Dd extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wf extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Uu{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(e.key)&&Vu(m,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=pc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=pc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Lu();return this.mutations.forEach(u=>{const m=e.get(u.key),v=m.overlayedDocument;let R=this.applyToLocalView(v,m.mutatedFields);R=t.has(u.key)?null:R;const Y=qh(v,R);null!==Y&&o.set(u.key,Y),v.isValidDocument()||v.convertToNoDocument(Rn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),or())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(t,o)=>mg(t,o))&&Ho(this.baseMutations,e.baseMutations,(t,o)=>mg(t,o))}}class $o{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){Mn(e.mutations.length===o.length);let u=vd;const m=e.mutations;for(let v=0;v<m.length;v++)u=u.insert(m[v].key,o[v].version);return new $o(e,t,o,u)}}class Kf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vs,Jr;function _g(i){switch(i){default:return On();case Mt.CANCELLED:case Mt.UNKNOWN:case Mt.DEADLINE_EXCEEDED:case Mt.RESOURCE_EXHAUSTED:case Mt.INTERNAL:case Mt.UNAVAILABLE:case Mt.UNAUTHENTICATED:return!1;case Mt.INVALID_ARGUMENT:case Mt.NOT_FOUND:case Mt.ALREADY_EXISTS:case Mt.PERMISSION_DENIED:case Mt.FAILED_PRECONDITION:case Mt.ABORTED:case Mt.OUT_OF_RANGE:case Mt.UNIMPLEMENTED:case Mt.DATA_LOSS:return!0}}function Qh(i){if(void 0===i)return qi("GRPC error has no .code"),Mt.UNKNOWN;switch(i){case Vs.OK:return Mt.OK;case Vs.CANCELLED:return Mt.CANCELLED;case Vs.UNKNOWN:return Mt.UNKNOWN;case Vs.DEADLINE_EXCEEDED:return Mt.DEADLINE_EXCEEDED;case Vs.RESOURCE_EXHAUSTED:return Mt.RESOURCE_EXHAUSTED;case Vs.INTERNAL:return Mt.INTERNAL;case Vs.UNAVAILABLE:return Mt.UNAVAILABLE;case Vs.UNAUTHENTICATED:return Mt.UNAUTHENTICATED;case Vs.INVALID_ARGUMENT:return Mt.INVALID_ARGUMENT;case Vs.NOT_FOUND:return Mt.NOT_FOUND;case Vs.ALREADY_EXISTS:return Mt.ALREADY_EXISTS;case Vs.PERMISSION_DENIED:return Mt.PERMISSION_DENIED;case Vs.FAILED_PRECONDITION:return Mt.FAILED_PRECONDITION;case Vs.ABORTED:return Mt.ABORTED;case Vs.OUT_OF_RANGE:return Mt.OUT_OF_RANGE;case Vs.UNIMPLEMENTED:return Mt.UNIMPLEMENTED;case Vs.DATA_LOSS:return Mt.DATA_LOSS;default:return On()}}(Jr=Vs||(Vs={}))[Jr.OK=0]="OK",Jr[Jr.CANCELLED=1]="CANCELLED",Jr[Jr.UNKNOWN=2]="UNKNOWN",Jr[Jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jr[Jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jr[Jr.NOT_FOUND=5]="NOT_FOUND",Jr[Jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jr[Jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jr[Jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jr[Jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jr[Jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jr[Jr.ABORTED=10]="ABORTED",Jr[Jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jr[Jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jr[Jr.INTERNAL=13]="INTERNAL",Jr[Jr.UNAVAILABLE=14]="UNAVAILABLE",Jr[Jr.DATA_LOSS=15]="DATA_LOSS";class Hu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kl}static getOrCreateInstance(){return null===kl&&(kl=new Hu),kl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let kl=null;function du(){return new TextEncoder}const yg=new ir([4294967295,4294967295],0);function Jh(i){const e=du().encode(i),t=new ei;return t.update(e),new Uint8Array(t.digest())}function lh(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new ir([t,o],0),new ir([u,m],0)]}class Im{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new ch(`Invalid padding: ${t}`);if(o<0)throw new ch(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new ch(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new ch(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=ir.fromNumber(this.yt)}Tt(e,t,o){let u=e.add(t.multiply(ir.fromNumber(o)));return 1===u.compare(yg)&&(u=new ir([u.getBits(0),u.getBits(1)],0)),u.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=Jh(e),[o,u]=lh(t);for(let m=0;m<this.hashCount;m++){const v=this.Tt(o,u,m);if(!this.Et(v))return!1}return!0}static create(e,t,o){const u=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),v=new Im(m,u,t);return o.forEach(R=>v.insert(R)),v}insert(e){if(0===this.yt)return;const t=Jh(e),[o,u]=lh(t);for(let m=0;m<this.hashCount;m++){const v=this.Tt(o,u,m);this.Rt(v)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xh{constructor(e,t,o,u,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Xh(Rn.min(),u,new Ir(Si),Ga(),or())}}class Gu{constructor(e,t,o,u,m){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Gu(o,t,or(),or(),or())}}class Cd{constructor(e,t,o,u){this.vt=e,this.removedTargetIds=t,this.key=o,this.Pt=u}}class vg{constructor(e,t){this.targetId=e,this.bt=t}}class hu{constructor(e,t,o=so.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class ef{constructor(){this.Vt=0,this.St=bg(),this.Dt=so.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=or(),t=or(),o=or();return this.St.forEach((u,m)=>{switch(m){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:On()}}),new Gu(this.Dt,this.Ct,e,t,o)}$t(){this.xt=!1,this.St=bg()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class uh{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Ga(),this.jt=dh(),this.zt=new Ir(Si)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const o=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&o.Mt(e.resumeToken);break;case 1:o.qt(),o.Nt||o.$t(),o.Mt(e.resumeToken);break;case 2:o.qt(),o.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(o.Ut(),o.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),o.Mt(e.resumeToken));break;default:On()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((o,u)=>{this.Zt(u)&&t(u)})}ee(e){var t;const o=e.targetId,u=e.bt.count,m=this.ne(o);if(m){const v=m.target;if(lu(v))if(0===u){const R=new gn(v.path);this.Jt(o,R,ms.newNoDocument(R,Rn.min()))}else Mn(1===u);else{const R=this.se(o);if(R!==u){const Y=this.ie(e,R);0!==Y&&(this.te(o),this.zt=this.zt.insert(o,2===Y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Hu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(re,Ee,qe){var Ot,Qt,In,Vn,pi,yr;const cs={localCacheCount:Ee,existenceFilterCount:qe.count},Er=qe.unchangedNames;return Er&&(cs.bloomFilter={applied:0===re,hashCount:null!==(Ot=Er?.hashCount)&&void 0!==Ot?Ot:0,bitmapLength:null!==(Vn=null===(In=null===(Qt=Er?.bits)||void 0===Qt?void 0:Qt.bitmap)||void 0===In?void 0:In.length)&&void 0!==Vn?Vn:0,padding:null!==(yr=null===(pi=Er?.bits)||void 0===pi?void 0:pi.padding)&&void 0!==yr?yr:0}),cs}(Y,R,e.bt))}}}}ie(e,t){const{unchangedNames:o,count:u}=e.bt;if(!o||!o.bits)return 1;const{bits:{bitmap:m="",padding:v=0},hashCount:R=0}=o;let Y,re;try{Y=fl(m).toUint8Array()}catch(Ee){if(Ee instanceof Vc)return _r("Decoding the base64 bloom filter in existence filter failed ("+Ee.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ee}try{re=new Im(Y,v,R)}catch(Ee){return _r(Ee instanceof ch?"BloomFilter error: ":"Applying bloom filter failed: ",Ee),1}return 0===re.yt?1:u!==t-this.re(e.targetId,re)?2:0}re(e,t){const o=this.Kt.getRemoteKeysForTarget(e);let u=0;return o.forEach(m=>{const v=this.Kt.oe(),R=`projects/${v.projectId}/databases/${v.database}/documents/${m.path.canonicalString()}`;t.At(R)||(this.Jt(e,m,null),u++)}),u}ue(e){const t=new Map;this.Gt.forEach((m,v)=>{const R=this.ne(v);if(R){if(m.current&&lu(R.target)){const Y=new gn(R.target.path);null!==this.Qt.get(Y)||this.ce(v,Y)||this.Jt(v,Y,ms.newNoDocument(Y,e))}m.kt&&(t.set(v,m.Ot()),m.$t())}});let o=or();this.jt.forEach((m,v)=>{let R=!0;v.forEachWhile(Y=>{const re=this.ne(Y);return!re||"TargetPurposeLimboResolution"===re.purpose||(R=!1,!1)}),R&&(o=o.add(m))}),this.Qt.forEach((m,v)=>v.setReadTime(e));const u=new Xh(e,t,this.zt,this.Qt,o);return this.Qt=Ga(),this.jt=dh(),this.zt=new Ir(Si),u}Ht(e,t){if(!this.Zt(e))return;const o=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,o),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,o){if(!this.Zt(e))return;const u=this.Xt(e);this.ce(e,t)?u.Ft(t,1):u.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),o&&(this.Qt=this.Qt.insert(t,o))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new ef,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new gs(Si),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||sn("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new ef),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function dh(){return new Ir(gn.comparator)}function bg(){return new Ir(gn.comparator)}const Am={asc:"ASCENDING",desc:"DESCENDING"},wg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tf={and:"AND",or:"OR"};class Eg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hh(i,e){return i.useProto3Json||To(e)?e:{value:e}}function Wl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oo(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Om(i,e){return Wl(i,e.toTimestamp())}function Wo(i){return Mn(!!i),Rn.fromTimestamp(function(e){const t=Nl(e);return new zr(t.seconds,t.nanos)}(i))}function Sd(i,e){return(t=i,new li(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function yo(i){const e=li.fromString(i);return Mn(rf(e)),e}function Nc(i,e){return Sd(i.databaseId,e.path)}function mc(i,e){const t=yo(e);if(t.get(1)!==i.databaseId.projectId)throw new on(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new on(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new gn(qf(t))}function Yf(i,e){return Sd(i.databaseId,e)}function Tg(i){const e=yo(i);return 4===e.length?li.emptyPath():qf(e)}function zc(i){return new li(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qf(i){return Mn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Mm(i,e,t){return{name:Nc(i,e),fields:t.value.mapValue.fields}}function Id(i,e,t){const o=mc(i,e.name),u=Wo(e.updateTime),m=e.createTime?Wo(e.createTime):Rn.min(),v=new Co({mapValue:{fields:e.fields}}),R=ms.newFoundDocument(o,u,m,v);return t&&R.setHasCommittedMutations(),t?R.setHasCommittedMutations():R}function Ad(i,e){let t;if(e instanceof gc)t={update:Mm(i,e.key,e.value)};else if(e instanceof Dd)t={delete:Nc(i,e.key)};else if(e instanceof jc)t={update:Mm(i,e.key,e.data),updateMask:Rm(e.fieldMask)};else{if(!(e instanceof Wf))return On();t={verify:Nc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,m){const v=m.transform;if(v instanceof Bu)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Oc)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof $l)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Ed)return{fieldPath:m.field.canonicalString(),increment:v.wt};throw On()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Om(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:On()),t;var u}function nf(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Qi.updateTime(Wo(u.updateTime)):void 0!==u.exists?Qi.exists(u.exists):Qi.none():Qi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(m,v){let R=null;"setToServerValue"in v?(Mn("REQUEST_TIME"===v.setToServerValue),R=new Bu):"appendMissingElements"in v?R=new Oc(v.appendMissingElements.values||[]):"removeAllFromArray"in v?R=new $l(v.removeAllFromArray.values||[]):"increment"in v?R=new Ed(m,v.increment):On();const Y=hr.fromServerFormat(v.fieldPath);return new cu(Y,R)}(i,u)):[];var u;if(e.update){const u=mc(i,e.update.name),m=new Co({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new va((e.updateMask.fieldPaths||[]).map(re=>hr.fromServerFormat(re)));return new jc(u,m,v,t,o)}return new gc(u,m,t,o)}if(e.delete){const u=mc(i,e.delete);return new Dd(u,t)}if(e.verify){const u=mc(i,e.verify);return new Wf(u,t)}return On()}function Jf(i,e){return{documents:[Yf(i,e.path)]}}function ju(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Yf(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Yf(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(Y){if(0!==Y.length)return fu(cn.create(Y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const m=function(Y){if(0!==Y.length)return Y.map(re=>{return{field:_c((Ee=re).field),direction:ep(Ee.dir)};var Ee})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const v=hh(i,e.limit);var R,Y;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Y=e.endAt).inclusive,values:Y.position}),t}function Xf(i){let e=Tg(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){Mn(1===o);const Ee=t.from[0];Ee.allDescendants?u=Ee.collectionId:e=e.child(Ee.collectionId)}let m=[];t.where&&(m=function(Ee){const qe=xm(Ee);return qe instanceof cn&&Li(qe)?qe.getFilters():[qe]}(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(Ee=>{return new xe(Kl((qe=Ee).field),function(Ot){switch(Ot){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qe.direction));var qe}));let R=null;t.limit&&(R=function(Ee){let qe;return qe="object"==typeof Ee?Ee.value:Ee,To(qe)?null:qe}(t.limit));let Y=null;var Ee;t.startAt&&(Y=new N((Ee=t.startAt).values||[],!!Ee.before));let re=null;return t.endAt&&(re=function(Ee){return new N(Ee.values||[],!Ee.before)}(t.endAt)),Wh(e,u,v,m,R,"F",Y,re)}function xm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kl(e.unaryFilter.field);return yt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Kl(e.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Kl(e.unaryFilter.field);return yt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Kl(e.unaryFilter.field);return yt.create(m,"!=",{nullValue:"NULL_VALUE"});default:return On()}}(i):void 0!==i.fieldFilter?yt.create(Kl((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return On()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return cn.create(e.compositeFilter.filters.map(t=>xm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return On()}}(e.compositeFilter.op))}(i):On();var e}function ep(i){return Am[i]}function zu(i){return wg[i]}function tp(i){return tf[i]}function _c(i){return{fieldPath:i.canonicalString()}}function Kl(i){return hr.fromServerFormat(i.fieldPath)}function fu(i){return i instanceof yt?function(e){if("=="===e.op){if(su(e.value))return{unaryFilter:{field:_c(e.field),op:"IS_NAN"}};if(ru(e.value))return{unaryFilter:{field:_c(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(su(e.value))return{unaryFilter:{field:_c(e.field),op:"IS_NOT_NAN"}};if(ru(e.value))return{unaryFilter:{field:_c(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(e.field),op:zu(e.op),value:e.value}}}(i):i instanceof cn?function(e){const t=e.getFilters().map(o=>fu(o));return 1===t.length?t[0]:{compositeFilter:{op:tp(e.op),filters:t}}}(i):On()}function Rm(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ar{constructor(e,t,o,u,m=Rn.min(),v=Rn.min(),R=so.EMPTY_BYTE_STRING,Y=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=R,this.expectedCount=Y}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cg{constructor(e){this.le=e}}function ph(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Zl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Nc(u=i.le,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Wl(u,m.version.toTimestamp()),createTime:Wl(u,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:pu(e.version)};else{if(!e.isUnknownDocument())return On();o.unknownDocument={path:t.path.toArray(),version:pu(e.version)}}var u,m;return o}function Zl(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function pu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xc(i){const e=new zr(i.seconds,i.nanoseconds);return Rn.fromTimestamp(e)}function $c(i,e){const t=(e.baseMutations||[]).map(m=>nf(i.le,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const o=e.mutations.map(m=>nf(i.le,m)),u=zr.fromMillis(e.localWriteTimeMs);return new Uu(e.batchId,u,t,o)}function gu(i){const e=xc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?xc(i.lastLimboFreeSnapshotVersion):Rn.min();let o;var u;return void 0!==i.query.documents?(Mn(1===(u=i.query).documents.length),o=we(ku(Tg(u.documents[0])))):o=we(Xf(i.query)),new ar(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,so.fromBase64String(i.resumeToken))}function Md(i,e){const t=pu(e.snapshotVersion),o=pu(e.lastLimboFreeSnapshotVersion);let u;u=lu(e.target)?Jf(i.le,e.target):ju(i.le,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:uc(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Wc(i){const e=Xf({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ut(e,e.limit,"L"):e}function np(i,e){return new Kf(e.largestBatchId,nf(i.le,e.overlayMutation))}function Sg(i,e){const t=e.path.lastSegment();return[i,os(e.path.popLast()),t]}function ip(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:pu(o.readTime),documentKey:os(o.documentKey.path),largestBatchId:o.largestBatchId}}class sf{getBundleMetadata(e,t){return rp(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:xc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return rp(e).put({bundleId:(o=t).id,createTime:pu(Wo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return af(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Wc(u.bundledQuery),readTime:xc(u.readTime)};var u})}saveNamedQuery(e,t){return af(e).put({name:(o=t).name,readTime:pu(Wo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function rp(i){return Fs(i,"bundles")}function af(i){return Fs(i,"namedQueries")}class lf{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new lf(e,t.uid||"")}getOverlay(e,t){return Nd(e).get(Sg(this.userId,t)).next(o=>o?np(this.serializer,o):null)}getOverlays(e,t){const o=gl();return _t.forEach(t,u=>this.getOverlay(e,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((m,v)=>{const R=new Kf(t,v);u.push(this.de(e,R))}),_t.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(v=>u.add(os(v.getCollectionPath())));const m=[];return u.forEach(v=>{const R=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);m.push(Nd(e).J("collectionPathOverlayIndex",R))}),_t.waitFor(m)}getOverlaysForCollection(e,t,o){const u=gl(),m=os(t),v=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Nd(e).j("collectionPathOverlayIndex",v).next(R=>{for(const Y of R){const re=np(this.serializer,Y);u.set(re.getKey(),re)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const m=gl();let v;const R=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Nd(e).X({index:"collectionGroupOverlayIndex",range:R},(Y,re,Ee)=>{const qe=np(this.serializer,re);m.size()<u||qe.largestBatchId===v?(m.set(qe.getKey(),qe),v=qe.largestBatchId):Ee.done()}).next(()=>m)}de(e,t){return Nd(e).put(function(o,u,m){const[v,R,Y]=Sg(u,m.mutation.key);return{userId:u,collectionPath:R,documentId:Y,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Ad(o.le,m.mutation)}}(this.serializer,this.userId,t))}}function Nd(i){return Fs(i,"documentOverlays")}class xd{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Ls(e.integerValue));else if("doubleValue"in e){const o=Ls(e.doubleValue);isNaN(o)?this.ge(t,13):(this.ge(t,15),Ua(o)?t.ye(0):t.ye(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ge(t,20),"string"==typeof o?t.pe(o):(t.pe(`${o.seconds||""}`),t.ye(o.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(fl(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ge(t,45),t.ye(o.latitude||0),t.ye(o.longitude||0)}else"mapValue"in e?fd(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):On()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const o=e.fields||{};this.ge(t,55);for(const u of Object.keys(o))this.Ie(u,t),this.we(o[u],t)}ve(e,t){const o=e.values||[];this.ge(t,50);for(const u of o)this.we(u,t)}Ae(e,t){this.ge(t,37),gn.fromName(e).path.forEach(o=>{this.ge(t,60),this.Pe(o,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Pm(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Rd(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const m=Pm(255&t[u]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}xd.be=new xd;class km{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Se(o.value),o=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.xe(o.value),o=t.next();this.Ne()}ke(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Se(o);else if(o<2048)this.Se(960|o>>>6),this.Se(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Se(480|o>>>12),this.Se(128|63&o>>>6),this.Se(128|63&o);else{const u=t.codePointAt(0);this.Se(240|u>>>18),this.Se(128|63&u>>>12),this.Se(128|63&u>>>6),this.Se(128|63&u)}}this.De()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.xe(o);else if(o<2048)this.xe(960|o>>>6),this.xe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.xe(480|o>>>12),this.xe(128|63&o>>>6),this.xe(128|63&o);else{const u=t.codePointAt(0);this.xe(240|u>>>18),this.xe(128|63&u>>>12),this.xe(128|63&u>>>6),this.xe(128|63&u)}}this.Ne()}Oe(e){const t=this.$e(e),o=Rd(t);this.Fe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Be(e){const t=this.$e(e),o=Rd(t);this.Fe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(u){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,u,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Pd{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class gh{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class mh{constructor(){this.Qe=new km,this.je=new Pd(this.Qe),this.ze=new gh(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class mu{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new mu(this.indexId,this.documentKey,this.arrayValue,o)}}function Kc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=sp(i.arrayValue,e.arrayValue),0!==t?t:(t=sp(i.directionalValue,e.directionalValue),0!==t?t:gn.comparator(i.documentKey,e.documentKey)))}function sp(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Ig{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const o=t;o.isInequality()?this.Xe=o:this.Ye.push(o)}}Ze(e){Mn(e.collectionGroup===this.collectionId);const t=ma(e);if(void 0!==t&&!this.tn(t))return!1;const o=Zs(e);let u=0,m=0;for(;u<o.length&&this.tn(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Xe){const v=o[u];if(!this.en(this.Xe,v)||!this.nn(this.Je[m++],v))return!1;++u}for(;u<o.length;++u)if(m>=this.Je.length||!this.nn(this.Je[m++],o[u]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function cf(i){var e,t;if(Mn(i instanceof yt||i instanceof cn),i instanceof yt){if(i instanceof Ru){const u=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>yt.create(i.field,"==",m)))||[];return cn.create(u,"or")}return i}const o=i.filters.map(u=>cf(u));return cn.create(o,i.op)}function op(i){if(0===i.getFilters().length)return[];const e=yh(cf(i));return Mn(Ag(e)),_h(e)||kd(e)?[e]:e.getFilters()}function _h(i){return i instanceof yt}function kd(i){return i instanceof cn&&Li(i)}function Ag(i){return _h(i)||kd(i)||function(e){if(e instanceof cn&&ni(e)){for(const t of e.getFilters())if(!_h(t)&&!kd(t))return!1;return!0}return!1}(i)}function yh(i){if(Mn(i instanceof yt||i instanceof cn),i instanceof yt)return i;if(1===i.filters.length)return yh(i.filters[0]);const e=i.filters.map(o=>yh(o));let t=cn.create(e,i.op);return t=ap(t),Ag(t)?t:(Mn(t instanceof cn),Mn(Cn(t)),Mn(t.filters.length>1),t.filters.reduce((o,u)=>Fd(o,u)))}function Fd(i,e){let t;return Mn(i instanceof yt||i instanceof cn),Mn(e instanceof yt||e instanceof cn),t=i instanceof yt?e instanceof yt?cn.create([i,e],"and"):Fm(i,e):e instanceof yt?Fm(e,i):function(o,u){if(Mn(o.filters.length>0&&u.filters.length>0),Cn(o)&&Cn(u))return Hc(o,u.getFilters());const m=ni(o)?o:u,v=ni(o)?u:o,R=m.filters.map(Y=>Fd(Y,v));return cn.create(R,"or")}(i,e),ap(t)}function Fm(i,e){if(Cn(e))return Hc(e,i.getFilters());{const t=e.filters.map(o=>Fd(i,o));return cn.create(t,"or")}}function ap(i){if(Mn(i instanceof yt||i instanceof cn),i instanceof yt)return i;const e=i.getFilters();if(1===e.length)return ap(e[0]);if(Ui(i))return i;const t=e.map(u=>ap(u)),o=[];return t.forEach(u=>{u instanceof yt?o.push(u):u instanceof cn&&(u.op===i.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:cn.create(o,i.op)}class N_{constructor(){this.sn=new Og}addToCollectionParentIndex(e,t){return this.sn.add(t),_t.resolve()}getCollectionParents(e,t){return _t.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return _t.resolve()}deleteFieldIndex(e,t){return _t.resolve()}getDocumentsMatchingTarget(e,t){return _t.resolve(null)}getIndexType(e,t){return _t.resolve(0)}getFieldIndexes(e,t){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}getMinOffset(e,t){return _t.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,t){return _t.resolve(ws.min())}updateCollectionGroup(e,t,o){return _t.resolve()}updateIndexEntries(e,t){return _t.resolve()}}class Og{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new gs(li.comparator),m=!u.has(o);return this.index[t]=u.add(o),m}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new gs(li.comparator)).toArray()}}const lp=new Uint8Array(0);class x_{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new Og,this.on=new dc(o=>uc(o),(o,u)=>Gl(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const m={collectionId:o,parent:os(u)};return Lm(e).put(m)}return _t.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[ec(t),""],!1,!0);return Lm(e).j(u).next(m=>{for(const v of m){if(v.collectionId!==t)break;o.push(E(v.parent))}return o})}addFieldIndex(e,t){const o=yc(e),u={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var v;delete u.indexId;const m=o.add(u);if(t.indexState){const v=uf(e);return m.next(R=>{v.put(ip(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const o=yc(e),u=uf(e),m=Zc(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Zc(e);let u=!0;const m=new Map;return _t.forEach(this.un(t),v=>this.cn(e,v).next(R=>{u&&(u=!!R),m.set(v,R)})).next(()=>{if(u){let v=or();const R=[];return _t.forEach(m,(Y,re)=>{var Ee;sn("IndexedDbIndexManager",`Using index ${Ee=Y,`id=${Ee.indexId}|cg=${Ee.collectionGroup}|f=${Ee.fields.map(Er=>`${Er.fieldPath}:${Er.kind}`).join(",")}`} to execute ${uc(t)}`);const qe=function(Er,Xl){const Ao=ma(Xl);if(void 0===Ao)return null;for(const co of Pu(Er,Ao.fieldPath))switch(co.op){case"array-contains-any":return co.value.arrayValue.values||[];case"array-contains":return[co.value]}return null}(re,Y),Ot=function(Er,Xl){const Ao=new Map;for(const co of Zs(Xl))for(const wc of Pu(Er,co.fieldPath))switch(wc.op){case"==":case"in":Ao.set(co.fieldPath.canonicalString(),wc.value);break;case"not-in":case"!=":return Ao.set(co.fieldPath.canonicalString(),wc.value),Array.from(Ao.values())}return null}(re,Y),Qt=function(Er,Xl){const Ao=[];let co=!0;for(const wc of Zs(Xl)){const eh=0===wc.kind?$h(Er,wc.fieldPath,Er.startAt):gd(Er,wc.fieldPath,Er.startAt);Ao.push(eh.value),co&&(co=eh.inclusive)}return new N(Ao,co)}(re,Y),In=function(Er,Xl){const Ao=[];let co=!0;for(const wc of Zs(Xl)){const eh=0===wc.kind?gd(Er,wc.fieldPath,Er.endAt):$h(Er,wc.fieldPath,Er.endAt);Ao.push(eh.value),co&&(co=eh.inclusive)}return new N(Ao,co)}(re,Y),Vn=this.an(Y,re,Qt),pi=this.an(Y,re,In),yr=this.hn(Y,re,Ot),cs=this.ln(Y.indexId,qe,Vn,Qt.inclusive,pi,In.inclusive,yr);return _t.forEach(cs,Er=>o.H(Er,t.limit).next(Xl=>{Xl.forEach(Ao=>{const co=gn.fromSegments(Ao.documentKey);v.has(co)||(v=v.add(co),R.push(co))})}))}).next(()=>R)}return _t.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:op(cn.create(e.filters,"and")).map(o=>au(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,o,u,m,v,R){const Y=(null!=t?t.length:1)*Math.max(o.length,m.length),re=Y/(null!=t?t.length:1),Ee=[];for(let qe=0;qe<Y;++qe){const Ot=t?this.fn(t[qe/re]):lp,Qt=this.dn(e,Ot,o[qe%re],u),In=this._n(e,Ot,m[qe%re],v),Vn=R.map(pi=>this.dn(e,Ot,pi,!0));Ee.push(...this.createRange(Qt,In,Vn))}return Ee}dn(e,t,o,u){const m=new mu(e,gn.empty(),t,o);return u?m:m.He()}_n(e,t,o,u){const m=new mu(e,gn.empty(),t,o);return u?m.He():m}cn(e,t){const o=new Ig(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(m=>{let v=null;for(const R of m)o.Ze(R)&&(!v||R.fields.length>v.fields.length)&&(v=R);return v})}getIndexType(e,t){let o=2;const u=this.un(t);return _t.forEach(u,m=>this.cn(e,m).next(v=>{v?0!==o&&v.fields.length<function(R){let Y=new gs(hr.comparator),re=!1;for(const Ee of R.filters)for(const qe of Ee.getFlattenedFilters())qe.field.isKeyField()||("array-contains"===qe.op||"array-contains-any"===qe.op?re=!0:Y=Y.add(qe.field));for(const Ee of R.orderBy)Ee.field.isKeyField()||(Y=Y.add(Ee.field));return Y.size+(re?1:0)}(m)&&(o=1):o=0})).next(()=>null!==t.limit&&u.length>1&&2===o?1:o)}wn(e,t){const o=new mh;for(const u of Zs(e)){const m=t.data.field(u.fieldPath);if(null==m)return null;const v=o.We(u.kind);xd.be._e(m,v)}return o.Ge()}fn(e){const t=new mh;return xd.be._e(e,t.We(0)),t.Ge()}mn(e,t){const o=new mh;return xd.be._e(Hl(this.databaseId,t),o.We(function(u){const m=Zs(u);return 0===m.length?0:m[m.length-1].kind}(e))),o.Ge()}hn(e,t,o){if(null===o)return[];let u=[];u.push(new mh);let m=0;for(const v of Zs(e)){const R=o[m++];for(const Y of u)if(this.gn(t,v.fieldPath)&&pl(R))u=this.yn(u,v,R);else{const re=Y.We(v.kind);xd.be._e(R,re)}}return this.pn(u)}an(e,t,o){return this.hn(e,t,o.position)}pn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Ge();return t}yn(e,t,o){const u=[...e],m=[];for(const v of o.arrayValue.values||[])for(const R of u){const Y=new mh;Y.seed(R.Ge()),xd.be._e(v,Y.We(t.kind)),m.push(Y)}return m}gn(e,t){return!!e.filters.find(o=>o instanceof yt&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=yc(e),u=uf(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(m=>{const v=[];return _t.forEach(m,R=>u.get([R.indexId,this.uid]).next(Y=>{v.push(function(re,Ee){const qe=Ee?new tl(Ee.sequenceNumber,new ws(xc(Ee.readTime),new gn(E(Ee.documentKey)),Ee.largestBatchId)):tl.empty(),Ot=re.fields.map(([Qt,In])=>new _a(hr.fromServerFormat(Qt),In));return new to(re.indexId,re.collectionGroup,Ot,qe)}(R,Y))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const m=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==m?m:Si(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=yc(e),m=uf(e);return this.In(e).next(v=>u.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>_t.forEach(R,Y=>m.put(ip(Y.indexId,this.user,v,o)))))}updateIndexEntries(e,t){const o=new Map;return _t.forEach(t,(u,m)=>{const v=o.get(u.collectionGroup);return(v?_t.resolve(v):this.getFieldIndexes(e,u.collectionGroup)).next(R=>(o.set(u.collectionGroup,R),_t.forEach(R,Y=>this.Tn(e,u,Y).next(re=>{const Ee=this.En(m,Y);return re.isEqual(Ee)?_t.resolve():this.An(e,m,Y,re,Ee)}))))})}Rn(e,t,o,u){return Zc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(o,t.key),documentKey:t.key.path.toArray()})}vn(e,t,o,u){return Zc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(o,t.key),t.key.path.toArray()])}Tn(e,t,o){const u=Zc(e);let m=new gs(Kc);return u.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,t)])},(v,R)=>{m=m.add(new mu(o.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>m)}En(e,t){let o=new gs(Kc);const u=this.wn(t,e);if(null==u)return o;const m=ma(t);if(null!=m){const v=e.data.field(m.fieldPath);if(pl(v))for(const R of v.arrayValue.values||[])o=o.add(new mu(t.indexId,e.key,this.fn(R),u))}else o=o.add(new mu(t.indexId,e.key,lp,u));return o}An(e,t,o,u,m){sn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(R,Y,re,Ee,qe){const Ot=R.getIterator(),Qt=Y.getIterator();let In=ic(Ot),Vn=ic(Qt);for(;In||Vn;){let pi=!1,yr=!1;if(In&&Vn){const cs=re(In,Vn);cs<0?yr=!0:cs>0&&(pi=!0)}else null!=In?yr=!0:pi=!0;pi?(Ee(Vn),Vn=ic(Qt)):yr?(qe(In),In=ic(Ot)):(In=ic(Ot),Vn=ic(Qt))}}(u,m,Kc,R=>{v.push(this.Rn(e,t,o,R))},R=>{v.push(this.vn(e,t,o,R))}),_t.waitFor(v)}In(e){let t=1;return uf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,m)=>{m.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((v,R)=>Kc(v,R)).filter((v,R,Y)=>!R||0!==Kc(v,Y[R-1]));const u=[];u.push(e);for(const v of o){const R=Kc(v,e),Y=Kc(v,t);if(0===R)u[0]=e.He();else if(R>0&&Y<0)u.push(v),u.push(v.He());else if(Y>0)break}u.push(t);const m=[];for(let v=0;v<u.length;v+=2){if(this.Pn(u[v],u[v+1]))return[];m.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,lp,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,lp,[]]))}return m}Pn(e,t){return Kc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bm)}getMinOffset(e,t){return _t.mapArray(this.un(t),o=>this.cn(e,o).next(u=>u||On())).next(Bm)}}function Lm(i){return Fs(i,"collectionParents")}function Zc(i){return Fs(i,"indexEntries")}function yc(i){return Fs(i,"indexConfiguration")}function uf(i){return Fs(i,"indexState")}function Bm(i){Mn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;nl(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new ws(e.readTime,e.documentKey,t)}const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ml{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ml(e,ml.DEFAULT_COLLECTION_PERCENTILE,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mg(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),m=[],v=IDBKeyRange.only(t.batchId);let R=0;const Y=o.X({range:v},(Ee,qe,Ot)=>(R++,Ot.delete()));m.push(Y.next(()=>{Mn(1===R)}));const re=[];for(const Ee of t.mutations){const qe=he(e,Ee.key.path,t.batchId);m.push(u.delete(qe)),re.push(Ee.key)}return _t.waitFor(m).next(()=>re)}function Ng(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw On();e=i.noDocument}return JSON.stringify(e).length}ml.DEFAULT_COLLECTION_PERCENTILE=10,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ml.DEFAULT=new ml(41943040,ml.DEFAULT_COLLECTION_PERCENTILE,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ml.DISABLED=new ml(-1,0,0);class df{constructor(e,t,o,u){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=u,this.bn={}}static fe(e,t,o,u){Mn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new df(m,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).X({index:"userMutationsIndex",range:o},(u,m,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const m=Ld(e),v=$u(e);return v.add({}).next(R=>{Mn("number"==typeof R);const Y=new Uu(R,t,o,u),re=function(Ot,Qt,In){const Vn=In.baseMutations.map(yr=>Ad(Ot.le,yr)),pi=In.mutations.map(yr=>Ad(Ot.le,yr));return{userId:Qt,batchId:In.batchId,localWriteTimeMs:In.localWriteTime.toMillis(),baseMutations:Vn,mutations:pi}}(this.serializer,this.userId,Y),Ee=[];let qe=new gs((Ot,Qt)=>Si(Ot.canonicalString(),Qt.canonicalString()));for(const Ot of u){const Qt=he(this.userId,Ot.key.path,R);qe=qe.add(Ot.key.path.popLast()),Ee.push(v.put(re)),Ee.push(m.put(Qt,P))}return qe.forEach(Ot=>{Ee.push(this.indexManager.addToCollectionParentIndex(e,Ot))}),e.addOnCommittedListener(()=>{this.bn[R]=Y.keys()}),_t.waitFor(Ee).next(()=>Y)})}lookupMutationBatch(e,t){return $u(e).get(t).next(o=>o?(Mn(o.userId===this.userId),$c(this.serializer,o)):null)}Vn(e,t){return this.bn[t]?_t.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.bn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return $u(e).X({index:"userMutationsIndex",range:u},(v,R,Y)=>{R.userId===this.userId&&(Mn(R.batchId>=o),m=$c(this.serializer,R)),Y.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return $u(e).X({index:"userMutationsIndex",range:t,reverse:!0},(u,m,v)=>{o=m.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).j("userMutationsIndex",t).next(o=>o.map(u=>$c(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=q(this.userId,t.path),u=IDBKeyRange.lowerBound(o),m=[];return Ld(e).X({range:u},(v,R,Y)=>{const[re,Ee,qe]=v,Ot=E(Ee);if(re===this.userId&&t.path.isEqual(Ot))return $u(e).get(qe).next(Qt=>{if(!Qt)throw On();Mn(Qt.userId===this.userId),m.push($c(this.serializer,Qt))});Y.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new gs(Si);const u=[];return t.forEach(m=>{const v=q(this.userId,m.path),R=IDBKeyRange.lowerBound(v),Y=Ld(e).X({range:R},(re,Ee,qe)=>{const[Ot,Qt,In]=re,Vn=E(Qt);Ot===this.userId&&m.path.isEqual(Vn)?o=o.add(In):qe.done()});u.push(Y)}),_t.waitFor(u).next(()=>this.Sn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,m=q(this.userId,o),v=IDBKeyRange.lowerBound(m);let R=new gs(Si);return Ld(e).X({range:v},(Y,re,Ee)=>{const[qe,Ot,Qt]=Y,In=E(Ot);qe===this.userId&&o.isPrefixOf(In)?In.length===u&&(R=R.add(Qt)):Ee.done()}).next(()=>this.Sn(e,R))}Sn(e,t){const o=[],u=[];return t.forEach(m=>{u.push($u(e).get(m).next(v=>{if(null===v)throw On();Mn(v.userId===this.userId),o.push($c(this.serializer,v))}))}),_t.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Mg(e.at,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),_t.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _t.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ld(e).X({range:o},(m,v,R)=>{if(m[0]===this.userId){const Y=E(m[1]);u.push(Y)}else R.done()}).next(()=>{Mn(0===u.length)})})}containsKey(e,t){return xg(e,this.userId,t)}Cn(e){return cp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xg(i,e,t){const o=q(e,t.path),u=o[1],m=IDBKeyRange.lowerBound(o);let v=!1;return Ld(i).X({range:m,Y:!0},(R,Y,re)=>{const[Ee,qe,Ot]=R;Ee===e&&qe===u&&(v=!0),re.done()}).next(()=>v)}function $u(i){return Fs(i,"mutations")}function Ld(i){return Fs(i,"documentMutations")}function cp(i){return Fs(i,"mutationQueues")}class Bd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Bd(0)}static kn(){return new Bd(-1)}}class So{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const o=new Bd(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Rn.fromTimestamp(new zr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Mn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.On(e,u)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(o=>(o.targetCount+=1,this.Fn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_s(e).delete(t.targetId)).next(()=>this.Mn(e)).next(o=>(Mn(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let u=0;const m=[];return _s(e).X((v,R)=>{const Y=gu(R);Y.sequenceNumber<=t&&null===o.get(Y.targetId)&&(u++,m.push(this.removeTargetData(e,Y)))}).next(()=>_t.waitFor(m)).next(()=>u)}forEachTarget(e,t){return _s(e).X((o,u)=>{const m=gu(u);t(m)})}Mn(e){return vh(e).get("targetGlobalKey").next(t=>(Mn(null!==t),t))}On(e,t){return vh(e).put("targetGlobalKey",t)}$n(e,t){return _s(e).put(Md(this.serializer,t))}Fn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=uc(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return _s(e).X({range:u,index:"queryTargetsIndex"},(v,R,Y)=>{const re=gu(R);Gl(t,re.target)&&(m=re,Y.done())}).next(()=>m)}addMatchingKeys(e,t,o){const u=[],m=Yc(e);return t.forEach(v=>{const R=os(v.path);u.push(m.put({targetId:o,path:R})),u.push(this.referenceDelegate.addReference(e,o,v))}),_t.waitFor(u)}removeMatchingKeys(e,t,o){const u=Yc(e);return _t.forEach(t,m=>{const v=os(m.path);return _t.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,t){const o=Yc(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Yc(e);let m=or();return u.X({range:o,Y:!0},(v,R,Y)=>{const re=E(v[1]),Ee=new gn(re);m=m.add(Ee)}).next(()=>m)}containsKey(e,t){const o=os(t.path),u=IDBKeyRange.bound([o],[ec(o)],!1,!0);let m=0;return Yc(e).X({index:"documentTargetsIndex",Y:!0,range:u},([v,R],Y,re)=>{0!==v&&(m++,re.done())}).next(()=>m>0)}he(e,t){return _s(e).get(t).next(o=>o?gu(o):null)}}function _s(i){return Fs(i,"targets")}function vh(i){return Fs(i,"targetGlobal")}function Yc(i){return Fs(i,"targetDocuments")}function hf([i,e],[t,o]){const u=Si(i,t);return 0===u?Si(e,o):u}class Vm{constructor(e){this.Bn=e,this.buffer=new gs(hf),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();hf(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;sn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ya(o)?sn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield hs(o)}yield t.Gn(3e5)}))}}class ff{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return _t.resolve(ks.ct);const o=new Vm(t);return this.Qn.forEachTarget(e,u=>o.Un(u.sequenceNumber)).next(()=>this.Qn.zn(e,u=>o.Un(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Qn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(R_)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let o,u,m,v,R,Y,re;const Ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(qe=>(qe>this.params.maximumSequenceNumbersToCollect?(sn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${qe}`),u=this.params.maximumSequenceNumbersToCollect):u=qe,v=Date.now(),this.nthSequenceNumber(e,u))).next(qe=>(o=qe,R=Date.now(),this.removeTargets(e,o,t))).next(qe=>(m=qe,Y=Date.now(),this.removeOrphanedDocuments(e,o))).next(qe=>(re=Date.now(),Nr()<=Te.in.DEBUG&&sn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-Ee}ms\n\tDetermined least recently used ${u} in `+(R-v)+`ms\n\tRemoved ${m} targets in `+(Y-R)+`ms\n\tRemoved ${qe} documents in `+(re-Y)+`ms\nTotal Duration: ${re-Ee}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:m,documentsRemoved:qe})))}}class bh{constructor(e,t){this.db=e,this.garbageCollector=function Um(i,e){return new ff(i,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}Hn(e){let t=0;return this.zn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(o,u)=>t(u))}addReference(e,t,o){return Wu(e,o)}removeReference(e,t,o){return Wu(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Wu(e,t)}Yn(e,t){return function(o,u){let m=!1;return cp(o).Z(v=>xg(o,v,u).next(R=>(R&&(m=!0),_t.resolve(!R)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let m=0;return this.Jn(e,(v,R)=>{if(R<=t){const Y=this.Yn(e,v).next(re=>{if(!re)return m++,o.getEntry(e,v).next(()=>(o.removeEntry(v,Rn.min()),Yc(e).delete([0,os(v.path)])))});u.push(Y)}}).next(()=>_t.waitFor(u)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Wu(e,t)}Jn(e,t){const o=Yc(e);let u,m=ks.ct;return o.X({index:"documentTargetsIndex"},([v,R],{path:Y,sequenceNumber:re})=>{0===v?(m!==ks.ct&&t(new gn(E(u)),m),m=re,u=Y):m=ks.ct}).next(()=>{m!==ks.ct&&t(new gn(E(u)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wu(i,e){return Yc(i).put((o=i.currentSequenceNumber,{targetId:0,path:os(e.path),sequenceNumber:o}));var o}class lr{constructor(){this.changes=new dc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ms.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?_t.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Yl(e).put(o)}removeEntry(e,t,o){return Yl(e).delete(function(u,m){const v=u.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Zl(m),v[v.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Xn(e,o)))}getEntry(e,t){let o=ms.newInvalidDocument(t);return Yl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ql(t))},(u,m)=>{o=this.Zn(t,m)}).next(()=>o)}ts(e,t){let o={size:0,document:ms.newInvalidDocument(t)};return Yl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ql(t))},(u,m)=>{o={document:this.Zn(t,m),size:Ng(m)}}).next(()=>o)}getEntries(e,t){let o=Ga();return this.es(e,t,(u,m)=>{const v=this.Zn(u,m);o=o.insert(u,v)}).next(()=>o)}ns(e,t){let o=Ga(),u=new Ir(gn.comparator);return this.es(e,t,(m,v)=>{const R=this.Zn(m,v);o=o.insert(m,R),u=u.insert(m,Ng(v))}).next(()=>({documents:o,ss:u}))}es(e,t,o){if(t.isEmpty())return _t.resolve();let u=new gs(Ud);t.forEach(Y=>u=u.add(Y));const m=IDBKeyRange.bound(ql(u.first()),ql(u.last())),v=u.getIterator();let R=v.getNext();return Yl(e).X({index:"documentKeyIndex",range:m},(Y,re,Ee)=>{const qe=gn.fromSegments([...re.prefixPath,re.collectionGroup,re.documentId]);for(;R&&Ud(R,qe)<0;)o(R,null),R=v.getNext();R&&R.isEqual(qe)&&(o(R,re),R=v.hasNext()?v.getNext():null),R?Ee.G(ql(R)):Ee.done()}).next(()=>{for(;R;)o(R,null),R=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,t,o,u){const m=t.path,v=[m.popLast().toArray(),m.lastSegment(),Zl(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],R=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yl(e).j(IDBKeyRange.bound(v,R,!0)).next(Y=>{let re=Ga();for(const Ee of Y){const qe=this.Zn(gn.fromSegments(Ee.prefixPath.concat(Ee.collectionGroup,Ee.documentId)),Ee);qe.isFoundDocument()&&(Ki(t,qe)||u.has(qe.key))&&(re=re.insert(qe.key,qe))}return re})}getAllFromCollectionGroup(e,t,o,u){let m=Ga();const v=Vd(t,o),R=Vd(t,ws.max());return Yl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,R,!0)},(Y,re,Ee)=>{const qe=this.Zn(gn.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);m=m.insert(qe.key,qe),m.size===u&&Ee.done()}).next(()=>m)}newChangeBuffer(e){return new kg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fg(e).get("remoteDocumentGlobalKey").next(t=>(Mn(!!t),t))}Xn(e,t){return Fg(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const o=function fh(i,e){let t;if(e.document)t=Id(i.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=gn.fromSegments(e.noDocument.path),u=xc(e.noDocument.readTime);t=ms.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return On();{const o=gn.fromSegments(e.unknownDocument.path),u=xc(e.unknownDocument.version);t=ms.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new zr(o[0],o[1]);return Rn.fromTimestamp(u)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Rn.min()))return o}return ms.newInvalidDocument(e)}}function up(i){return new Pg(i)}class kg extends lr{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new dc(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new gs((m,v)=>Si(m.canonicalString(),v.canonicalString()));return this.changes.forEach((m,v)=>{const R=this.os.get(m);if(t.push(this.rs.removeEntry(e,m,R.readTime)),v.isValidDocument()){const Y=ph(this.rs.serializer,v);u=u.add(m.path.popLast());const re=Ng(Y);o+=re-R.size,t.push(this.rs.addEntry(e,m,Y))}else if(o-=R.size,this.trackRemovals){const Y=ph(this.rs.serializer,v.convertToNoDocument(Rn.min()));t.push(this.rs.addEntry(e,m,Y))}}),u.forEach(m=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.rs.updateMetadata(e,o)),_t.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(o=>(this.os.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:o,ss:u})=>(u.forEach((m,v)=>{this.os.set(m,{size:v,readTime:o.get(m).readTime})}),o))}}function Fg(i){return Fs(i,"remoteDocumentGlobal")}function Yl(i){return Fs(i,"remoteDocumentsV14")}function ql(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vd(i,e){const t=e.documentKey.path.toArray();return[i,Zl(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ud(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let m=0;m<t.length-2&&m<o.length-2;++m)if(u=Si(t[m],o[m]),u)return u;return u=Si(t.length,o.length),u||(u=Si(t[t.length-2],o[o.length-2]),u||Si(t[t.length-1],o[o.length-1]))}class Lg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wh{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&pc(o.mutation,u,va.empty(),zr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,or()).next(()=>o))}getLocalViewOfDocuments(e,t,o=or()){const u=gl();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(m=>{let v=Ac();return m.forEach((R,Y)=>{v=v.insert(R,Y.overlayedDocument)}),v}))}getOverlayedDocuments(e,t){const o=gl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,or()))}populateOverlays(e,t,o){const u=[];return o.forEach(m=>{t.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(e,u).next(m=>{m.forEach((v,R)=>{t.set(v,R)})})}computeViews(e,t,o,u){let m=Ga();const v=hc(),R=hc();return t.forEach((Y,re)=>{const Ee=o.get(re.key);u.has(re.key)&&(void 0===Ee||Ee.mutation instanceof jc)?m=m.insert(re.key,re):void 0!==Ee?(v.set(re.key,Ee.mutation.getFieldMask()),pc(Ee.mutation,re,Ee.mutation.getFieldMask(),zr.now())):v.set(re.key,va.empty())}),this.recalculateAndSaveOverlays(e,m).next(Y=>(Y.forEach((re,Ee)=>v.set(re,Ee)),t.forEach((re,Ee)=>{var qe;return R.set(re,new Lg(Ee,null!==(qe=v.get(re))&&void 0!==qe?qe:null))}),R))}recalculateAndSaveOverlays(e,t){const o=hc();let u=new Ir((v,R)=>v-R),m=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(v=>{for(const R of v)R.keys().forEach(Y=>{const re=t.get(Y);if(null===re)return;let Ee=o.get(Y)||va.empty();Ee=R.applyToLocalView(re,Ee),o.set(Y,Ee);const qe=(u.get(R.batchId)||or()).add(Y);u=u.insert(R.batchId,qe)})}).next(()=>{const v=[],R=u.getReverseIterator();for(;R.hasNext();){const Y=R.getNext(),re=Y.key,Ee=Y.value,qe=Lu();Ee.forEach(Ot=>{if(!m.has(Ot)){const Qt=qh(t.get(Ot),o.get(Ot));null!==Qt&&qe.set(Ot,Qt),m=m.add(Ot)}}),v.push(this.documentOverlayCache.saveOverlays(e,re,qe))}return _t.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return gn.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):x(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(m=>{const v=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-m.size):_t.resolve(gl());let R=-1,Y=m;return v.next(re=>_t.forEach(re,(Ee,qe)=>(R<qe.largestBatchId&&(R=qe.largestBatchId),m.get(Ee)?_t.resolve():this.remoteDocumentCache.getEntry(e,Ee).next(Ot=>{Y=Y.insert(Ee,Ot)}))).next(()=>this.populateOverlays(e,re,m)).next(()=>this.computeViews(e,Y,re,or())).next(Ee=>({batchId:R,changes:yd(Ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gn(t)).next(o=>{let u=Ac();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let m=Ac();return this.indexManager.getCollectionParents(e,u).next(v=>_t.forEach(v,R=>{const Y=(re=t,Ee=R.child(u),new jl(Ee,null,re.explicitOrderBy.slice(),re.filters.slice(),re.limit,re.limitType,re.startAt,re.endAt));var re,Ee;return this.getDocumentsMatchingCollectionQuery(e,Y,o).next(re=>{re.forEach((Ee,qe)=>{m=m.insert(Ee,qe)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u))).next(m=>{u.forEach((R,Y)=>{const re=Y.getKey();null===m.get(re)&&(m=m.insert(re,ms.newInvalidDocument(re)))});let v=Ac();return m.forEach((R,Y)=>{const re=u.get(R);void 0!==re&&pc(re.mutation,Y,va.empty(),zr.now()),Ki(t,Y)&&(v=v.insert(R,Y))}),v})}}class Hd{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return _t.resolve(this.us.get(t))}saveBundleMetadata(e,t){var o;return this.us.set(t.id,{id:(o=t).id,version:o.version,createTime:Wo(o.createTime)}),_t.resolve()}getNamedQuery(e,t){return _t.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(o=t).name,query:Wc(o.bundledQuery),readTime:Wo(o.readTime)}),_t.resolve();var o}}class dp{constructor(){this.overlays=new Ir(gn.comparator),this.hs=new Map}getOverlay(e,t){return _t.resolve(this.overlays.get(t))}getOverlays(e,t){const o=gl();return _t.forEach(t,u=>this.getOverlay(e,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,m)=>{this.de(e,t,m)}),_t.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.hs.get(o);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.hs.delete(o)),_t.resolve()}getOverlaysForCollection(e,t,o){const u=gl(),m=t.length+1,v=new gn(t.child("")),R=this.overlays.getIteratorFrom(v);for(;R.hasNext();){const Y=R.getNext().value,re=Y.getKey();if(!t.isPrefixOf(re.path))break;re.path.length===m&&Y.largestBatchId>o&&u.set(Y.getKey(),Y)}return _t.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let m=new Ir((re,Ee)=>re-Ee);const v=this.overlays.getIterator();for(;v.hasNext();){const re=v.getNext().value;if(re.getKey().getCollectionGroup()===t&&re.largestBatchId>o){let Ee=m.get(re.largestBatchId);null===Ee&&(Ee=gl(),m=m.insert(re.largestBatchId,Ee)),Ee.set(re.getKey(),re)}}const R=gl(),Y=m.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((re,Ee)=>R.set(re,Ee)),!(R.size()>=u)););return _t.resolve(R)}de(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const v=this.hs.get(u.largestBatchId).delete(o.key);this.hs.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new Kf(t,o));let m=this.hs.get(t);void 0===m&&(m=or(),this.hs.set(t,m)),this.hs.set(t,m.add(o.key))}}class hp{constructor(){this.ls=new gs(ao.fs),this.ds=new gs(ao._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const o=new ao(e,t);this.ls=this.ls.add(o),this.ds=this.ds.add(o)}ws(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.gs(new ao(e,t))}ys(e,t){e.forEach(o=>this.removeReference(o,t))}ps(e){const t=new gn(new li([])),o=new ao(t,e),u=new ao(t,e+1),m=[];return this.ds.forEachInRange([o,u],v=>{this.gs(v),m.push(v.key)}),m}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new gn(new li([])),o=new ao(t,e),u=new ao(t,e+1);let m=or();return this.ds.forEachInRange([o,u],v=>{m=m.add(v.key)}),m}containsKey(e){const t=new ao(e,0),o=this.ls.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ao{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return gn.comparator(e.key,t.key)||Si(e.Es,t.Es)}static _s(e,t){return Si(e.Es,t.Es)||gn.comparator(e.key,t.key)}}class P_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new gs(ao.fs)}checkEmpty(e){return _t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const m=this.As;this.As++;const v=new Uu(m,t,o,u);this.mutationQueue.push(v);for(const R of u)this.Rs=this.Rs.add(new ao(R.key,m)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return _t.resolve(v)}lookupMutationBatch(e,t){return _t.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.Ps(t+1),m=u<0?0:u;return _t.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ao(t,0),u=new ao(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([o,u],v=>{const R=this.vs(v.Es);m.push(R)}),_t.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new gs(Si);return t.forEach(u=>{const m=new ao(u,0),v=new ao(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,v],R=>{o=o.add(R.Es)})}),_t.resolve(this.bs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let m=o;gn.isDocumentKey(m)||(m=m.child(""));const v=new ao(new gn(m),0);let R=new gs(Si);return this.Rs.forEachWhile(Y=>{const re=Y.key.path;return!!o.isPrefixOf(re)&&(re.length===u&&(R=R.add(Y.Es)),!0)},v),_t.resolve(this.bs(R))}bs(e){const t=[];return e.forEach(o=>{const u=this.vs(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Mn(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return _t.forEach(t.mutations,u=>{const m=new ao(u.key,t.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Dn(e){}containsKey(e,t){const o=new ao(t,0),u=this.Rs.firstAfterOrEqual(o);return _t.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return _t.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bg{constructor(e){this.Ss=e,this.docs=new Ir(gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),m=u?u.size:0,v=this.Ss(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:v}),this.size+=v-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return _t.resolve(o?o.document.mutableCopy():ms.newInvalidDocument(t))}getEntries(e,t){let o=Ga();return t.forEach(u=>{const m=this.docs.get(u);o=o.insert(u,m?m.document.mutableCopy():ms.newInvalidDocument(u))}),_t.resolve(o)}getDocumentsMatchingQuery(e,t,o,u){let m=Ga();const v=t.path,R=new gn(v.child("")),Y=this.docs.getIteratorFrom(R);for(;Y.hasNext();){const{key:re,value:{document:Ee}}=Y.getNext();if(!v.isPrefixOf(re.path))break;re.path.length>v.length+1||nl(sa(Ee),o)<=0||(u.has(Ee.key)||Ki(t,Ee))&&(m=m.insert(Ee.key,Ee.mutableCopy()))}return _t.resolve(m)}getAllFromCollectionGroup(e,t,o,u){On()}Ds(e,t){return _t.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Vg(this)}getSize(e){return _t.resolve(this.size)}}class Vg extends lr{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.rs.addEntry(e,u)):this.rs.removeEntry(o)}),_t.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class k_{constructor(e){this.persistence=e,this.Cs=new dc(t=>uc(t),Gl),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new hp,this.targetCount=0,this.ks=Bd.Nn()}forEachTarget(e,t){return this.Cs.forEach((o,u)=>t(u)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.xs&&(this.xs=t),_t.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Bd(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,_t.resolve()}updateTargetData(e,t){return this.$n(t),_t.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,t,o){let u=0;const m=[];return this.Cs.forEach((v,R)=>{R.sequenceNumber<=t&&null===o.get(R.targetId)&&(this.Cs.delete(v),m.push(this.removeMatchingKeysForTargetId(e,R.targetId)),u++)}),_t.waitFor(m).next(()=>u)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,t){const o=this.Cs.get(t)||null;return _t.resolve(o)}addMatchingKeys(e,t,o){return this.Ns.ws(t,o),_t.resolve()}removeMatchingKeys(e,t,o){this.Ns.ys(t,o);const u=this.persistence.referenceDelegate,m=[];return u&&t.forEach(v=>{m.push(u.markPotentiallyOrphaned(e,v))}),_t.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),_t.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ns.Ts(t);return _t.resolve(o)}containsKey(e,t){return _t.resolve(this.Ns.containsKey(t))}}class Hm{constructor(e,t){this.Ms={},this.overlays={},this.Os=new ks(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new k_(this),this.indexManager=new N_,this.remoteDocumentCache=new Bg(o=>this.referenceDelegate.Bs(o)),this.serializer=new Cg(t),this.Ls=new Hd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ms[e.toKey()];return o||(o=new P_(t,this.referenceDelegate),this.Ms[e.toKey()]=o),o}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,o){sn("MemoryPersistence","Starting transaction:",e);const u=new Py(this.Os.next());return this.referenceDelegate.qs(),o(u).next(m=>this.referenceDelegate.Us(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Ks(e,t){return _t.or(Object.values(this.Ms).map(o=>()=>o.containsKey(e,t)))}}class Py extends il{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Gs=new hp,this.Qs=null}static js(e){return new Ug(e)}get zs(){if(this.Qs)return this.Qs;throw On()}addReference(e,t,o){return this.Gs.addReference(o,t),this.zs.delete(o.toString()),_t.resolve()}removeReference(e,t,o){return this.Gs.removeReference(o,t),this.zs.add(o.toString()),_t.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),_t.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(u=>this.zs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(m=>this.zs.add(m.toString()))}).next(()=>o.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.zs,o=>{const u=gn.fromPath(o);return this.Ws(e,u).next(m=>{m||t.removeEntry(u,Rn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(o=>{o?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return _t.or([()=>_t.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Gm{constructor(e){this.serializer=e}$(e,t,o,u){const m=new Ml("createOrUpgrade",t);var R;o<1&&u>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",H,{unique:!0}),R.createObjectStore("documentMutations"),F_(e),function(R){R.createObjectStore("remoteDocuments")}(e));let v=_t.resolve();return o<3&&u>=3&&(0!==o&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),F_(e)),v=v.next(()=>function(R){const Y=R.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rn.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",re)}(m))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(R,Y){return Y.store("mutations").j().next(re=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",H,{unique:!0});const Ee=Y.store("mutations"),qe=re.map(Ot=>Ee.put(Ot));return _t.waitFor(qe)})}(e,m))),v=v.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.Js(m))),o<6&&u>=6&&(v=v.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(m)))),o<7&&u>=7&&(v=v.next(()=>this.Xs(m))),o<8&&u>=8&&(v=v.next(()=>this.Zs(e,m))),o<9&&u>=9&&(v=v.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(v=v.next(()=>this.ti(m))),o<11&&u>=11&&(v=v.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(v=v.next(()=>{!function(R){const Y=R.createObjectStore("documentOverlays",{keyPath:fs});Y.createIndex("collectionPathOverlayIndex",ps,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",jo,{unique:!1})}(e)})),o<13&&u>=13&&(v=v.next(()=>function(R){const Y=R.createObjectStore("remoteDocumentsV14",{keyPath:T});Y.createIndex("documentKeyIndex",O),Y.createIndex("collectionGroupIndex",Q)}(e)).next(()=>this.ei(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(v=v.next(()=>this.ni(e,m))),o<15&&u>=15&&(v=v.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Wn}).createIndex("sequenceNumberIndex",ri,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:di}).createIndex("documentKeyIndex",Vr,{unique:!1})}(e))),v}Ys(e){let t=0;return e.store("remoteDocuments").X((o,u)=>{t+=Ng(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Js(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(u=>_t.forEach(u,m=>{const v=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",v).next(R=>_t.forEach(R,Y=>{Mn(Y.userId===m.userId);const re=$c(this.serializer,Y);return Mg(e,m.userId,re).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const m=[];return o.X((v,R)=>{const Y=new li(v),re=[0,os(Y)];m.push(t.get(re).next(Ee=>Ee?_t.resolve():t.put({targetId:0,path:os(Y),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>_t.waitFor(m))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:vn});const o=t.store("collectionParents"),u=new Og,m=v=>{if(u.add(v)){const R=v.lastSegment(),Y=v.popLast();return o.put({collectionId:R,parent:os(Y)})}};return t.store("remoteDocuments").X({Y:!0},(v,R)=>{const Y=new li(v);return m(Y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([v,R,Y],re)=>{const Ee=E(R);return m(Ee.popLast())}))}ti(e){const t=e.store("targets");return t.X((o,u)=>{const m=gu(u),v=Md(this.serializer,m);return t.put(v)})}ei(e,t){const o=t.store("remoteDocuments"),u=[];return o.X((m,v)=>{const R=t.store("remoteDocumentsV14"),Y=(re=v,re.document?new gn(li.fromString(re.document.name).popFirst(5)):re.noDocument?gn.fromSegments(re.noDocument.path):re.unknownDocument?gn.fromSegments(re.unknownDocument.path):On()).path.toArray();var re;const Ee={prefixPath:Y.slice(0,Y.length-2),collectionGroup:Y[Y.length-2],documentId:Y[Y.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};u.push(R.put(Ee))}).next(()=>_t.waitFor(u))}ni(e,t){const o=t.store("mutations"),u=up(this.serializer),m=new Hm(Ug.js,this.serializer.le);return o.j().next(v=>{const R=new Map;return v.forEach(Y=>{var re;let Ee=null!==(re=R.get(Y.userId))&&void 0!==re?re:or();$c(this.serializer,Y).keys().forEach(qe=>Ee=Ee.add(qe)),R.set(Y.userId,Ee)}),_t.forEach(R,(Y,re)=>{const Ee=new fi(re),qe=lf.fe(this.serializer,Ee),Ot=m.getIndexManager(Ee),Qt=df.fe(Ee,this.serializer,Ot,m.referenceDelegate);return new wh(u,Qt,qe,Ot).recalculateAndSaveOverlaysForDocumentKeys(new ol(t,ks.ct),Y).next()})})}}function F_(i){i.createObjectStore("targetDocuments",{keyPath:Ve}).createIndex("documentTargetsIndex",Ct,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ue,{unique:!0}),i.createObjectStore("targetGlobal")}const Hg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ku{constructor(e,t,o,u,m,v,R,Y,re,Ee,qe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.si=m,this.window=v,this.document=R,this.ii=re,this.ri=Ee,this.oi=qe,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=Ot=>Promise.resolve(),!Ku.D())throw new on(Mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bh(this,u),this.fi=t+"main",this.serializer=new Cg(Y),this.di=new _o(this.fi,this.oi,new Gm(this.serializer)),this.Fs=new So(this.referenceDelegate,this.serializer),this.remoteDocumentCache=up(this.serializer),this.Ls=new sf,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Ee&&qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new on(Mt.FAILED_PRECONDITION,Hg);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ks(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var o=(0,p.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,p.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(ya(e))return sn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return sn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return pf(e).get("owner").next(t=>_t.resolve(this.Ri(t)))}vi(e){return gf(e).delete(this.clientId)}Pi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Fs(o,"clientMetadata");return u.j().next(m=>{const v=e.Vi(m,18e5),R=m.filter(Y=>-1===v.indexOf(Y));return _t.forEach(R,Y=>u.delete(Y.clientId)).next(()=>R)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Si(o.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?_t.resolve(!0):pf(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new on(Mt.FAILED_PRECONDITION,Hg);return!1}}return!(!this.networkEnabled||!this.inForeground)||gf(e).j().next(o=>void 0===this.Vi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(t=>(this.isPrimary!==t&&sn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new ol(t,ks.ct);return e.Ei(o).next(()=>e.vi(o))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(o=>this.bi(o.updateTimeMs,t)&&!this.Di(o.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>gf(e).j().next(t=>this.Vi(t,18e5).map(o=>o.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return df.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new x_(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return lf.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,o){sn("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",m=15===(v=this.oi)?nh:14===v?nu:13===v?tc:12===v?Bc:11===v?ro:void On();var v;let R;return this.di.runTransaction(e,u,m,Y=>(R=new ol(Y,this.Os?this.Os.next():ks.ct),"readwrite-primary"===t?this.Ii(R).next(re=>!!re||this.Ti(R)).next(re=>{if(!re)throw qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new on(Mt.FAILED_PRECONDITION,Go);return o(R)}).next(re=>this.Ai(R).next(()=>re)):this.Oi(R).next(()=>o(R)))).then(Y=>(R.raiseOnCommittedEvent(),Y))}Oi(e){return pf(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new on(Mt.FAILED_PRECONDITION,Hg)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pf(e).put("owner",t)}static D(){return _o.D()}Ei(e){const t=pf(e);return t.get("owner").next(o=>this.Ri(o)?(sn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_t.resolve())}bi(e,t){const o=Date.now();return!(e<o-t||e>o&&(qi(`Detected an update time that is in the future: ${e} > ${o}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,L.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return sn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return qi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){qi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pf(i){return Fs(i,"owner")}function gf(i){return Fs(i,"clientMetadata")}function Zu(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class pp{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.$i=o,this.Fi=u}static Bi(e,t){let o=or(),u=or();for(const m of t.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new pp(e,t.fromCache,o,u)}}class mf{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Ui(e,t).next(m=>m||this.Ki(e,t,u,o)).next(m=>m||this.Gi(e,t))}Ui(e,t){if(I(t))return _t.resolve(null);let o=we(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Ut(t,null,"F"),o=we(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const v=or(...m);return this.qi.getDocuments(e,v).next(R=>this.indexManager.getMinOffset(e,o).next(Y=>{const re=this.Qi(t,R);return this.ji(t,re,v,Y.readTime)?this.Ui(e,Ut(t,null,"F")):this.zi(e,re,t,Y)}))})))}Ki(e,t,o,u){return I(t)||u.isEqual(Rn.min())?this.Gi(e,t):this.qi.getDocuments(e,o).next(m=>{const v=this.Qi(t,m);return this.ji(t,v,o,u)?this.Gi(e,t):(Nr()<=Te.in.DEBUG&&sn("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),hi(t)),this.zi(e,v,t,ra(u,-1)))})}Qi(e,t){let o=new gs(zl(e));return t.forEach((u,m)=>{Ki(e,m)&&(o=o.add(m))}),o}ji(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Gi(e,t){return Nr()<=Te.in.DEBUG&&sn("QueryEngine","Using full collection scan to execute query:",hi(t)),this.qi.getDocumentsMatchingQuery(e,t,ws.min())}zi(e,t,o,u){return this.qi.getDocumentsMatchingQuery(e,o,u).next(m=>(t.forEach(v=>{m=m.insert(v.key,v)}),m))}}class Gg{constructor(e,t,o,u){this.persistence=e,this.Wi=t,this.serializer=u,this.Hi=new Ir(Si),this.Ji=new dc(m=>uc(m),Gl),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(o)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wh(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function gp(i,e,t,o){return new Gg(i,e,t,o)}function Eh(i,e){return mp.apply(this,arguments)}function mp(){return mp=(0,p.Z)(function*(i,e){const t=yn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(m=>(u=m,t.Zi(e),t.mutationQueue.getAllMutationBatches(o))).next(m=>{const v=[],R=[];let Y=or();for(const re of u){v.push(re.batchId);for(const Ee of re.mutations)Y=Y.add(Ee.key)}for(const re of m){R.push(re.batchId);for(const Ee of re.mutations)Y=Y.add(Ee.key)}return t.localDocuments.getDocuments(o,Y).next(re=>({tr:re,removedBatchIds:v,addedBatchIds:R}))})})}),mp.apply(this,arguments)}function _f(i,e){const t=yn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),m=t.Xi.newChangeBuffer({trackRemovals:!0});return function(v,R,Y,re){const Ee=Y.batch,qe=Ee.keys();let Ot=_t.resolve();return qe.forEach(Qt=>{Ot=Ot.next(()=>re.getEntry(R,Qt)).next(In=>{const Vn=Y.docVersions.get(Qt);Mn(null!==Vn),In.version.compareTo(Vn)<0&&(Ee.applyToRemoteDocument(In,Y),In.isValidDocument()&&(In.setReadTime(Y.commitVersion),re.addEntry(In)))})}),Ot.next(()=>v.mutationQueue.removeMutationBatch(R,Ee))}(t,o,e,m).next(()=>m.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let R=or();for(let Y=0;Y<v.mutationResults.length;++Y)v.mutationResults[Y].transformResults.length>0&&(R=R.add(v.batch.mutations[Y].key));return R}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function jg(i){const e=yn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function zg(i,e){const t=yn(i),o=e.snapshotVersion;let u=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const v=t.Xi.newChangeBuffer({trackRemovals:!0});u=t.Hi;const R=[];e.targetChanges.forEach((Ee,qe)=>{const Ot=u.get(qe);if(!Ot)return;R.push(t.Fs.removeMatchingKeys(m,Ee.removedDocuments,qe).next(()=>t.Fs.addMatchingKeys(m,Ee.addedDocuments,qe)));let Qt=Ot.withSequenceNumber(m.currentSequenceNumber);var In,Vn,pi;null!==e.targetMismatches.get(qe)?Qt=Qt.withResumeToken(so.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):Ee.resumeToken.approximateByteSize()>0&&(Qt=Qt.withResumeToken(Ee.resumeToken,o)),u=u.insert(qe,Qt),Vn=Qt,pi=Ee,(0===(In=Ot).resumeToken.approximateByteSize()||Vn.snapshotVersion.toMicroseconds()-In.snapshotVersion.toMicroseconds()>=3e8||pi.addedDocuments.size+pi.modifiedDocuments.size+pi.removedDocuments.size>0)&&R.push(t.Fs.updateTargetData(m,Qt))});let Y=Ga(),re=or();if(e.documentUpdates.forEach(Ee=>{e.resolvedLimboDocuments.has(Ee)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(m,Ee))}),R.push(qc(m,v,e.documentUpdates).next(Ee=>{Y=Ee.er,re=Ee.nr})),!o.isEqual(Rn.min())){const Ee=t.Fs.getLastRemoteSnapshotVersion(m).next(qe=>t.Fs.setTargetsMetadata(m,m.currentSequenceNumber,o));R.push(Ee)}return _t.waitFor(R).next(()=>v.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,Y,re)).next(()=>Y)}).then(m=>(t.Hi=u,m))}function qc(i,e,t){let o=or(),u=or();return t.forEach(m=>o=o.add(m)),e.getEntries(i,o).next(m=>{let v=Ga();return t.forEach((R,Y)=>{const re=m.get(R);Y.isFoundDocument()!==re.isFoundDocument()&&(u=u.add(R)),Y.isNoDocument()&&Y.version.isEqual(Rn.min())?(e.removeEntry(R,Y.readTime),v=v.insert(R,Y)):!re.isValidDocument()||Y.version.compareTo(re.version)>0||0===Y.version.compareTo(re.version)&&re.hasPendingWrites?(e.addEntry(Y),v=v.insert(R,Y)):sn("LocalStore","Ignoring outdated watch update for ",R,". Current version:",re.version," Watch version:",Y.version)}),{er:v,nr:u}})}function jm(i,e){const t=yn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function _u(i,e){const t=yn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Fs.getTargetData(o,e).next(m=>m?(u=m,_t.resolve(u)):t.Fs.allocateTargetId(o).next(v=>(u=new ar(e,v,"TargetPurposeListen",o.currentSequenceNumber),t.Fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Hi.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(o.targetId,o),t.Ji.set(e,o.targetId)),o})}function Gd(i,e,t){return Th.apply(this,arguments)}function Th(){return Th=(0,p.Z)(function*(i,e,t){const o=yn(i),u=o.Hi.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",m,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!ya(v))throw v;sn("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.Hi=o.Hi.remove(e),o.Ji.delete(u.target)}),Th.apply(this,arguments)}function yu(i,e,t){const o=yn(i);let u=Rn.min(),m=or();return o.persistence.runTransaction("Execute query","readonly",v=>function(R,Y,re){const Ee=yn(R),qe=Ee.Ji.get(re);return void 0!==qe?_t.resolve(Ee.Hi.get(qe)):Ee.Fs.getTargetData(Y,re)}(o,v,we(e)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,o.Fs.getMatchingKeysForTargetId(v,R.targetId).next(Y=>{m=Y})}).next(()=>o.Wi.getDocumentsMatchingQuery(v,e,t?u:Rn.min(),t?m:or())).next(R=>(_p(o,Ea(e),R),{documents:R,sr:m})))}function zm(i,e){const t=yn(i),o=yn(t.Fs),u=t.Hi.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",m=>o.he(m,e).next(v=>v?v.target:null))}function Yu(i,e){const t=yn(i),o=t.Yi.get(e)||Rn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Xi.getAllFromCollectionGroup(u,e,ra(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(_p(t,e,u),u))}function _p(i,e,t){let o=i.Yi.get(e)||Rn.min();t.forEach((u,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.Yi.set(e,o)}function yf(){return yf=(0,p.Z)(function*(i,e,t,o){const u=yn(i);let m=or(),v=Ga();for(const re of t){const Ee=e.ir(re.metadata.name);re.document&&(m=m.add(Ee));const qe=e.rr(re);qe.setReadTime(e.ur(re.metadata.readTime)),v=v.insert(Ee,qe)}const R=u.Xi.newChangeBuffer({trackRemovals:!0}),Y=yield _u(u,(re=o,we(ku(li.fromString(`__bundle__/docs/${re}`)))));var re;return u.persistence.runTransaction("Apply bundle documents","readwrite",re=>qc(re,R,v).next(Ee=>(R.apply(re),Ee)).next(Ee=>u.Fs.removeMatchingKeysForTargetId(re,Y.targetId).next(()=>u.Fs.addMatchingKeys(re,m,Y.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(re,Ee.er,Ee.nr)).next(()=>Ee.er)))}),yf.apply(this,arguments)}function $g(i,e){return yp.apply(this,arguments)}function yp(){return yp=(0,p.Z)(function*(i,e,t=or()){const o=yield _u(i,we(Wc(e.bundledQuery))),u=yn(i);return u.persistence.runTransaction("Save named query","readwrite",m=>{const v=Wo(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u.Ls.saveNamedQuery(m,e);const R=o.withResumeToken(so.EMPTY_BYTE_STRING,v);return u.Hi=u.Hi.insert(R.targetId,R),u.Fs.updateTargetData(m,R).next(()=>u.Fs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>u.Fs.addMatchingKeys(m,t,o.targetId)).next(()=>u.Ls.saveNamedQuery(m,e))})}),yp.apply(this,arguments)}function jd(i,e){return`firestore_clients_${i}_${e}`}function qu(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function zd(i,e){return`firestore_targets_${i}_${e}`}class Rc{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static cr(e,t,o){const u=JSON.parse(o);let m,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(m=new on(u.error.code,u.error.message))),v?new Rc(e,t,u.state,m):(qi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static cr(e,t){const o=JSON.parse(t);let u,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(u=new on(o.error.code,o.error.message))),m?new Qc(e,o.state,u):(qi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,m=ah();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=io(o.activeTargetIds[v]),m=m.add(o.activeTargetIds[v]);return u?new vu(e,m):(qi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vf{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vf(t.clientId,t.onlineState):(qi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Dh{constructor(){this.activeTargetIds=ah()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qu{constructor(e,t,o,u,m){this.window=e,this.si=t,this.persistenceKey=o,this.dr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Ir(Si),this.started=!1,this.gr=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.yr=jd(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new Dh),this.Ir=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.Mi();for(const u of t){if(u===e.dr)continue;const m=e.getItem(jd(e.persistenceKey,u));if(m){const v=vu.cr(u,m);v&&(e.mr=e.mr.insert(v.clientId,v))}}e.vr();const o=e.storage.getItem(e.Ar);if(o){const u=e.Pr(o);u&&e.br(u)}for(const u of e.gr)e.wr(u);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,o){this.Sr(e,t,o),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(zd(this.persistenceKey,e));if(o){const u=Qc.cr(e,o);u&&(t=u.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zd(this.persistenceKey,e))}updateQueryState(e,t,o){this.Nr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Dr(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return sn("SharedClientState","READ",e,t),t}setItem(e,t){sn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){sn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(sn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.yr)return void qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==o.key)if(t.Ir.test(o.key)){if(null==o.newValue){const u=t.Or(o.key);return t.$r(u,null)}{const u=t.Fr(o.key,o.newValue);if(u)return t.$r(u.clientId,u)}}else if(t.Tr.test(o.key)){if(null!==o.newValue){const u=t.Br(o.key,o.newValue);if(u)return t.Lr(u)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const u=t.qr(o.key,o.newValue);if(u)return t.Ur(u)}}else if(o.key===t.Ar){if(null!==o.newValue){const u=t.Pr(o.newValue);if(u)return t.br(u)}}else if(o.key===t.pr){const u=function(m){let v=ks.ct;if(null!=m)try{const R=JSON.parse(m);Mn("number"==typeof R),v=R}catch(R){qi("SharedClientState","Failed to read sequence number from WebStorage",R)}return v}(o.newValue);u!==ks.ct&&t.sequenceNumberHandler(u)}else if(o.key===t.Rr){const u=t.Kr(o.newValue);yield Promise.all(u.map(m=>t.syncEngine.Gr(m)))}}else t.gr.push(o)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,o){const u=new Rc(this.currentUser,e,t,o),m=qu(this.persistenceKey,this.currentUser,e);this.setItem(m,u.ar())}Dr(e){const t=qu(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,o){const u=zd(this.persistenceKey,e),m=new Qc(e,t,o);this.setItem(u,m.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const o=this.Or(e);return vu.cr(o,t)}Br(e,t){const o=this.Tr.exec(e),u=Number(o[1]);return Rc.cr(new fi(void 0!==o[2]?o[2]:null),u,t)}qr(e,t){const o=this.Er.exec(e),u=Number(o[1]);return Qc.cr(u,t)}Pr(e){return vf.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);sn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const o=t?this.mr.insert(e,t):this.mr.remove(e),u=this.Vr(this.mr),m=this.Vr(o),v=[],R=[];return m.forEach(Y=>{u.has(Y)||v.push(Y)}),u.forEach(Y=>{m.has(Y)||R.push(Y)}),this.syncEngine.zr(v,R).then(()=>{this.mr=o})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=ah();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Ch{constructor(){this.Wr=new Dh,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,o){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Dh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wm{Jr(e){}shutdown(){}}class Sh{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bf=null;function wf(){return null===bf?bf=268435456+Math.round(2147483648*Math.random()):bf++,"0x"+bf.toString(16)}const vp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wg{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Da="WebChannelConnection";class bp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,o,u,m){const v=wf(),R=this.Io(e,t);sn("RestConnection",`Sending RPC '${e}' ${v}:`,R,o);const Y={};return this.To(Y,u,m),this.Eo(e,R,Y,o).then(re=>(sn("RestConnection",`Received RPC '${e}' ${v}: `,re),re),re=>{throw _r("RestConnection",`RPC '${e}' ${v} failed with error: `,re,"url: ",R,"request:",o),re})}Ao(e,t,o,u,m,v){return this.po(e,t,o,u,m)}To(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ri,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,m)=>e[m]=u),o&&o.headers.forEach((u,m)=>e[m]=u)}Io(e,t){return`${this.wo}/v1/${t}:${vp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,o,u){const m=wf();return new Promise((v,R)=>{const Y=new Jt;Y.setWithCredentials(!0),Y.listenOnce(te.COMPLETE,()=>{try{switch(Y.getLastErrorCode()){case U.NO_ERROR:const Ee=Y.getResponseJson();sn(Da,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Ee)),v(Ee);break;case U.TIMEOUT:sn(Da,`RPC '${e}' ${m} timed out`),R(new on(Mt.DEADLINE_EXCEEDED,"Request time out"));break;case U.HTTP_ERROR:const qe=Y.getStatus();if(sn(Da,`RPC '${e}' ${m} failed with status:`,qe,"response text:",Y.getResponseText()),qe>0){let Ot=Y.getResponseJson();Array.isArray(Ot)&&(Ot=Ot[0]);const Qt=Ot?.error;if(Qt&&Qt.status&&Qt.message){const In=function(Vn){const pi=Vn.toLowerCase().replace(/_/g,"-");return Object.values(Mt).indexOf(pi)>=0?pi:Mt.UNKNOWN}(Qt.status);R(new on(In,Qt.message))}else R(new on(Mt.UNKNOWN,"Server responded with status "+Y.getStatus()))}else R(new on(Mt.UNAVAILABLE,"Connection failed."));break;default:On()}}finally{sn(Da,`RPC '${e}' ${m} completed.`)}});const re=JSON.stringify(u);sn(Da,`RPC '${e}' ${m} sending request:`,u),Y.send(t,"POST",re,o,15)})}Ro(e,t,o){const u=wf(),m=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=bs(),R=na(),Y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(Y.xmlHttpFactory=new We({})),this.To(Y.initMessageHeaders,t,o),Y.encodeInitMessageHeaders=!0;const re=m.join("");sn(Da,`Creating RPC '${e}' stream ${u}: ${re}`,Y);const Ee=v.createWebChannel(re,Y);let qe=!1,Ot=!1;const Qt=new Wg({io:Vn=>{Ot?sn(Da,`Not sending because RPC '${e}' stream ${u} is closed:`,Vn):(qe||(sn(Da,`Opening RPC '${e}' stream ${u} transport.`),Ee.open(),qe=!0),sn(Da,`RPC '${e}' stream ${u} sending:`,Vn),Ee.send(Vn))},ro:()=>Ee.close()}),In=(Vn,pi,yr)=>{Vn.listen(pi,cs=>{try{yr(cs)}catch(Er){setTimeout(()=>{throw Er},0)}})};return In(Ee,kt.EventType.OPEN,()=>{Ot||sn(Da,`RPC '${e}' stream ${u} transport opened.`)}),In(Ee,kt.EventType.CLOSE,()=>{Ot||(Ot=!0,sn(Da,`RPC '${e}' stream ${u} transport closed`),Qt.fo())}),In(Ee,kt.EventType.ERROR,Vn=>{Ot||(Ot=!0,_r(Da,`RPC '${e}' stream ${u} transport errored:`,Vn),Qt.fo(new on(Mt.UNAVAILABLE,"The operation could not be completed")))}),In(Ee,kt.EventType.MESSAGE,Vn=>{var pi;if(!Ot){const yr=Vn.data[0];Mn(!!yr);const Er=yr.error||(null===(pi=yr[0])||void 0===pi?void 0:pi.error);if(Er){sn(Da,`RPC '${e}' stream ${u} received error:`,Er);const Xl=Er.status;let Ao=function(wc){const eh=Vs[wc];if(void 0!==eh)return Qh(eh)}(Xl),co=Er.message;void 0===Ao&&(Ao=Mt.INTERNAL,co="Unknown error status: "+Xl+" with message "+Er.message),Ot=!0,Qt.fo(new on(Ao,co)),Ee.close()}else sn(Da,`RPC '${e}' stream ${u} received:`,yr),Qt._o(yr)}}),In(R,K.STAT_EVENT,Vn=>{Vn.stat===pe.PROXY?sn(Da,`RPC '${e}' stream ${u} detected buffering proxy`):Vn.stat===pe.NOPROXY&&sn(Da,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Qt.lo()},0),Qt}}function wp(){return typeof window<"u"?window:null}function Ih(){return typeof document<"u"?document:null}function Ca(i){return new Eg(i,!0)}class Ep{constructor(e,t,o=1e3,u=1.5,m=6e4){this.si=e,this.timerId=t,this.vo=o,this.Po=u,this.bo=m,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),o=Math.max(0,Date.now()-this.Do),u=Math.max(0,t-o);u>0&&sn("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class Tp{constructor(e,t,o,u,m,v,R,Y){this.si=e,this.Mo=o,this.Oo=u,this.connection=m,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=R,this.listener=Y,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Ep(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,p.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,p.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var o=this;return(0,p.Z)(function*(){o.Wo(),o.Ho(),o.Lo.cancel(),o.$o++,4!==e?o.Lo.reset():t&&t.code===Mt.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),o.Lo.Co()):t&&t.code===Mt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Jo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.$o===t&&this.Xo(o,u)},o=>{e(()=>{const u=new on(Mt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Zo(u)})})}Xo(e,t){const o=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{o(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(u=>{o(()=>this.Zo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,p.Z)(function*(){e.state=0,e.start()}))}Zo(e){return sn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L_ extends Tp{constructor(e,t,o,u,m,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,v),this.serializer=m}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Dg(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:On(),u=e.targetChange.targetIds||[],m=function(Y,re){return Y.useProto3Json?(Mn(void 0===re||"string"==typeof re),so.fromBase64String(re||"")):(Mn(void 0===re||re instanceof Uint8Array),so.fromUint8Array(re||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,R=v&&function(Y){const re=void 0===Y.code?Mt.UNKNOWN:Qh(Y.code);return new on(re,Y.message||"")}(v);t=new hu(o,u,m,R||null)}else if("documentChange"in e){const o=e.documentChange,u=mc(i,o.document.name),m=Wo(o.document.updateTime),v=o.document.createTime?Wo(o.document.createTime):Rn.min(),R=new Co({mapValue:{fields:o.document.fields}}),Y=ms.newFoundDocument(u,m,v,R);t=new Cd(o.targetIds||[],o.removedTargetIds||[],Y.key,Y)}else if("documentDelete"in e){const o=e.documentDelete,u=mc(i,o.document),m=o.readTime?Wo(o.readTime):Rn.min(),v=ms.newNoDocument(u,m);t=new Cd([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=mc(i,o.document);t=new Cd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return On();{const o=e.filter,{count:u=0,unchangedNames:m}=o,v=new Zf(u,m);t=new vg(o.targetId,v)}}var Y;return t}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Rn.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?Rn.min():m.readTime?Wo(m.readTime):Rn.min()}(e);return this.listener.eu(t,o)}nu(e){const t={};t.database=zc(this.serializer),t.addTarget=function(u,m){let v;const R=m.target;if(v=lu(R)?{documents:Jf(u,R)}:{query:ju(u,R)},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=oo(u,m.resumeToken);const Y=hh(u,m.expectedCount);null!==Y&&(v.expectedCount=Y)}else if(m.snapshotVersion.compareTo(Rn.min())>0){v.readTime=Wl(u,m.snapshotVersion.toTimestamp());const Y=hh(u,m.expectedCount);null!==Y&&(v.expectedCount=Y)}return v}(this.serializer,e);const o=function Od(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return On()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.zo(t)}su(e){const t={};t.database=zc(this.serializer),t.removeTarget=e,this.zo(t)}}class Dp extends Tp{constructor(e,t,o,u,m,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,v),this.serializer=m,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function Nm(i,e){return i&&i.length>0?(Mn(void 0!==e),i.map(t=>function(o,u){let m=Wo(o.updateTime?o.updateTime:u);return m.isEqual(Rn.min())&&(m=Wo(u)),new Td(m,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Wo(e.commitTime);return this.listener.uu(o,t)}return Mn(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=zc(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Ad(this.serializer,o))};this.zo(t)}}class Kg extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=u,this.hu=!1}lu(){if(this.hu)throw new on(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,o){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.po(e,t,o,u,m)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new on(Mt.UNKNOWN,u.toString())})}Ao(e,t,o,u){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.connection.Ao(e,t,o,m,v,u)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new on(Mt.UNKNOWN,m.toString())})}terminate(){this.hu=!0}}class Zm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(qi(t),this.wu=!1):sn("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ym{constructor(e,t,o,u,m){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=m,this.vu.Jr(R=>{o.enqueueAndForget((0,p.Z)(function*(){var Y;Jc(v)&&(sn("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,p.Z)(function*(re){const Ee=yn(re);Ee.Au.add(4),yield Ju(Ee),Ee.Pu.set("Unknown"),Ee.Au.delete(4),yield Tf(Ee)}),function(re){return Y.apply(this,arguments)})(v))}))}),this.Pu=new Zm(o,u)}}function Tf(i){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,p.Z)(function*(i){if(Jc(i))for(const e of i.Ru)yield e(!0)}),Zg.apply(this,arguments)}function Ju(i){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,p.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Yg.apply(this,arguments)}function Ah(i,e){const t=yn(i);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Mh(t)?Ql(t):Xc(t).Uo()&&Cp(t,e))}function Oh(i,e){const t=yn(i),o=Xc(t);t.Eu.delete(e),o.Uo()&&Sp(t,e),0===t.Eu.size&&(o.Uo()?o.Qo():Jc(t)&&t.Pu.set("Unknown"))}function Cp(i,e){if(i.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rn.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xc(i).nu(e)}function Sp(i,e){i.bu.Lt(e),Xc(i).su(e)}function Ql(i){i.bu=new uh({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),he:e=>i.Eu.get(e)||null,oe:()=>i.datastore.serializer.databaseId}),Xc(i).start(),i.Pu.mu()}function Mh(i){return Jc(i)&&!Xc(i).qo()&&i.Eu.size>0}function Jc(i){return 0===yn(i).Au.size}function Ip(i){i.bu=void 0}function qg(i){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,p.Z)(function*(i){i.Eu.forEach((e,t)=>{Cp(i,e)})}),Ap.apply(this,arguments)}function Qg(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,p.Z)(function*(i,e){Ip(i),Mh(i)?(i.Pu.pu(e),Ql(i)):i.Pu.set("Unknown")}),Op.apply(this,arguments)}function Mp(i,e,t){return Df.apply(this,arguments)}function Df(){return Df=(0,p.Z)(function*(i,e,t){if(i.Pu.set("Online"),e instanceof hu&&2===e.state&&e.cause)try{yield(o=(0,p.Z)(function*(u,m){const v=m.cause;for(const R of m.targetIds)u.Eu.has(R)&&(yield u.remoteSyncer.rejectListen(R,v),u.Eu.delete(R),u.bu.removeTarget(R))}),function(u,m){return o.apply(this,arguments)})(i,e)}catch(o){sn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Cf(i,o)}else if(e instanceof Cd?i.bu.Wt(e):e instanceof vg?i.bu.ee(e):i.bu.Yt(e),!t.isEqual(Rn.min()))try{const o=yield jg(i.localStore);t.compareTo(o)>=0&&(yield function(u,m){const v=u.bu.ue(m);return v.targetChanges.forEach((R,Y)=>{if(R.resumeToken.approximateByteSize()>0){const re=u.Eu.get(Y);re&&u.Eu.set(Y,re.withResumeToken(R.resumeToken,m))}}),v.targetMismatches.forEach((R,Y)=>{const re=u.Eu.get(R);if(!re)return;u.Eu.set(R,re.withResumeToken(so.EMPTY_BYTE_STRING,re.snapshotVersion)),Sp(u,R);const Ee=new ar(re.target,R,Y,re.sequenceNumber);Cp(u,Ee)}),u.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(o){sn("RemoteStore","Failed to raise snapshot:",o),yield Cf(i,o)}var o}),Df.apply(this,arguments)}function Cf(i,e,t){return $d.apply(this,arguments)}function $d(){return $d=(0,p.Z)(function*(i,e,t){if(!ya(e))throw e;i.Au.add(1),yield Ju(i),i.Pu.set("Offline"),t||(t=()=>jg(i.localStore)),i.asyncQueue.enqueueRetryable((0,p.Z)(function*(){sn("RemoteStore","Retrying IndexedDB access"),yield t(),i.Au.delete(1),yield Tf(i)}))}),$d.apply(this,arguments)}function Sf(i,e){return e().catch(t=>Cf(i,t,e))}function Pc(i){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,p.Z)(function*(i){const e=yn(i),t=ed(e);let o=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;Np(e);)try{const u=yield jm(e.localStore,o);if(null===u){0===e.Tu.length&&t.Qo();break}o=u.batchId,B_(e,u)}catch(u){yield Cf(e,u)}xp(e)&&Rp(e)}),Jg.apply(this,arguments)}function Np(i){return Jc(i)&&i.Tu.length<10}function B_(i,e){i.Tu.push(e);const t=ed(i);t.Uo()&&t.ru&&t.ou(e.mutations)}function xp(i){return Jc(i)&&!ed(i).qo()&&i.Tu.length>0}function Rp(i){ed(i).start()}function Pp(i){return kp.apply(this,arguments)}function kp(){return kp=(0,p.Z)(function*(i){ed(i).au()}),kp.apply(this,arguments)}function Xg(i){return kc.apply(this,arguments)}function kc(){return kc=(0,p.Z)(function*(i){const e=ed(i);for(const t of i.Tu)e.ou(t.mutations)}),kc.apply(this,arguments)}function Fp(i,e,t){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,p.Z)(function*(i,e,t){const o=i.Tu.shift(),u=$o.from(o,e,t);yield Sf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Pc(i)}),Xu.apply(this,arguments)}function Nh(i,e){return em.apply(this,arguments)}function em(){return em=(0,p.Z)(function*(i,e){var t;e&&ed(i).ru&&(yield(t=(0,p.Z)(function*(o,u){if(_g(m=u.code)&&m!==Mt.ABORTED){const v=o.Tu.shift();ed(o).Go(),yield Sf(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield Pc(o)}var m}),function(o,u){return t.apply(this,arguments)})(i,e)),xp(i)&&Rp(i)}),em.apply(this,arguments)}function tm(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,p.Z)(function*(i,e){const t=yn(i);t.asyncQueue.verifyOperationInProgress(),sn("RemoteStore","RemoteStore received new credentials");const o=Jc(t);t.Au.add(3),yield Ju(t),o&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Tf(t)}),Lp.apply(this,arguments)}function Bp(i,e){return nm.apply(this,arguments)}function nm(){return nm=(0,p.Z)(function*(i,e){const t=yn(i);e?(t.Au.delete(2),yield Tf(t)):e||(t.Au.add(2),yield Ju(t),t.Pu.set("Unknown"))}),nm.apply(this,arguments)}function Xc(i){return i.Vu||(i.Vu=function(e,t,o){const u=yn(e);return u.lu(),new L_(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{oo:qg.bind(null,i),co:Qg.bind(null,i),eu:Mp.bind(null,i)}),i.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(i.Vu.Go(),Mh(i)?Ql(i):i.Pu.set("Unknown")):(yield i.Vu.stop(),Ip(i))});return function(t){return e.apply(this,arguments)}}())),i.Vu}function ed(i){return i.Su||(i.Su=function(e,t,o){const u=yn(e);return u.lu(),new Dp(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{oo:Pp.bind(null,i),co:Nh.bind(null,i),cu:Xg.bind(null,i),uu:Fp.bind(null,i)}),i.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(i.Su.Go(),yield Pc(i)):(yield i.Su.stop(),i.Tu.length>0&&(sn("RemoteStore",`Stopping write stream with ${i.Tu.length} pending writes`),i.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Su}class qm{constructor(e,t,o,u,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=m,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,o,u,m){const v=Date.now()+o,R=new qm(e,t,v,u,m);return R.start(o),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new on(Mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function td(i,e){if(qi("AsyncQueue",`${e}: ${i}`),ya(i))return new on(Mt.UNAVAILABLE,`${e}: ${i}`);throw i}class xh{constructor(e){this.comparator=e?(t,o)=>e(t,o)||gn.comparator(t.key,o.key):(t,o)=>gn.comparator(t.key,o.key),this.keyedMap=Ac(),this.sortedSet=new Ir(this.comparator)}static emptySet(e){return new xh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,m=o.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new xh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Qm{constructor(){this.Du=new Ir(gn.comparator)}track(e){const t=e.doc.key,o=this.Du.get(t);o?0!==e.type&&3===o.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==o.type?this.Du=this.Du.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Du=this.Du.remove(t):1===e.type&&2===o.type?this.Du=this.Du.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):On():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,o)=>{e.push(o)}),e}}class Rh{constructor(e,t,o,u,m,v,R,Y,re){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=m,this.fromCache=v,this.syncStateChanged=R,this.excludesMetadataChanges=Y,this.hasCachedResults=re}static fromInitialDocuments(e,t,o,u,m){const v=[];return t.forEach(R=>{v.push({type:0,doc:R})}),new Rh(e,t,xh.emptySet(t),v,o,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class V_{constructor(){this.xu=void 0,this.listeners=[]}}class U_{constructor(){this.queries=new dc(e=>jn(e),Tn),this.onlineState="Unknown",this.Nu=new Set}}function im(i,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,p.Z)(function*(i,e){const t=yn(i),o=e.query;let u=!1,m=t.queries.get(o);if(m||(u=!0,m=new V_),u)try{m.xu=yield t.onListen(o)}catch(v){const R=td(v,`Initialization of query '${hi(e.query)}' failed`);return void e.onError(R)}t.queries.set(o,m),m.listeners.push(e),e.ku(t.onlineState),m.xu&&e.Mu(m.xu)&&Of(t)}),Vp.apply(this,arguments)}function If(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,p.Z)(function*(i,e){const t=yn(i),o=e.query;let u=!1;const m=t.queries.get(o);if(m){const v=m.listeners.indexOf(e);v>=0&&(m.listeners.splice(v,1),u=0===m.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Af.apply(this,arguments)}function Up(i,e){const t=yn(i);let o=!1;for(const u of e){const v=t.queries.get(u.query);if(v){for(const R of v.listeners)R.Mu(u)&&(o=!0);v.xu=u}}o&&Of(t)}function Jm(i,e,t){const o=yn(i),u=o.queries.get(e);if(u)for(const m of u.listeners)m.onError(t);o.queries.delete(e)}function Of(i){i.Nu.forEach(e=>{e.next()})}class Hp{constructor(e,t,o){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=o||{}}Mu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Rh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Xm{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class rm{constructor(e){this.serializer=e}ir(e){return mc(this.serializer,e)}rr(e){return e.metadata.exists?Id(this.serializer,e.document,!1):ms.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Wo(e)}}class e_{constructor(e,t,o){this.Qu=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nd(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const o=li.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,o=new rm(this.serializer);for(const u of e)if(u.metadata.queries){const m=o.ir(u.metadata.name);for(const v of u.metadata.queries){const R=(t.get(v)||or()).add(m);t.set(v,R)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function $m(i,e,t,o){return yf.apply(this,arguments)}(e.localStore,new rm(e.serializer),e.documents,e.Qu.id),o=e.zu(e.documents);for(const u of e.queries)yield $g(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function nd(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Gp{constructor(e){this.key=e}}class Wd{constructor(e){this.key=e}}class id{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=or(),this.mutatedKeys=or(),this.Zu=zl(e),this.tc=new xh(this.Zu)}get ec(){return this.Ju}nc(e,t){const o=t?t.sc:new Qm,u=t?t.tc:this.tc;let m=t?t.mutatedKeys:this.mutatedKeys,v=u,R=!1;const Y="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,re="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Ee,qe)=>{const Ot=u.get(Ee),Qt=Ki(this.query,qe)?qe:null,In=!!Ot&&this.mutatedKeys.has(Ot.key),Vn=!!Qt&&(Qt.hasLocalMutations||this.mutatedKeys.has(Qt.key)&&Qt.hasCommittedMutations);let pi=!1;Ot&&Qt?Ot.data.isEqual(Qt.data)?In!==Vn&&(o.track({type:3,doc:Qt}),pi=!0):this.ic(Ot,Qt)||(o.track({type:2,doc:Qt}),pi=!0,(Y&&this.Zu(Qt,Y)>0||re&&this.Zu(Qt,re)<0)&&(R=!0)):!Ot&&Qt?(o.track({type:0,doc:Qt}),pi=!0):Ot&&!Qt&&(o.track({type:1,doc:Ot}),pi=!0,(Y||re)&&(R=!0)),pi&&(Qt?(v=v.add(Qt),m=Vn?m.add(Ee):m.delete(Ee)):(v=v.delete(Ee),m=m.delete(Ee)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const Ee="F"===this.query.limitType?v.last():v.first();v=v.delete(Ee.key),m=m.delete(Ee.key),o.track({type:1,doc:Ee})}return{tc:v,sc:o,ji:R,mutatedKeys:m}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const m=e.sc.Cu();m.sort((re,Ee)=>function(qe,Ot){const Qt=In=>{switch(In){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return On()}};return Qt(qe)-Qt(Ot)}(re.type,Ee.type)||this.Zu(re.doc,Ee.doc)),this.rc(o);const v=t?this.oc():[],R=0===this.Xu.size&&this.current?1:0,Y=R!==this.Yu;return this.Yu=R,0!==m.length||Y?{snapshot:new Rh(this.query,e.tc,u,m,e.mutatedKeys,0===R,Y,!1,!!o&&o.resumeToken.approximateByteSize()>0),uc:v}:{uc:v}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new Qm,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=or(),this.tc.forEach(o=>{this.cc(o.key)&&(this.Xu=this.Xu.add(o.key))});const t=[];return e.forEach(o=>{this.Xu.has(o)||t.push(new Wd(o))}),this.Xu.forEach(o=>{e.has(o)||t.push(new Gp(o))}),t}ac(e){this.Ju=e.sr,this.Xu=or();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Rh.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class c{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class d{constructor(e){this.key=e,this.lc=!1}}class s{constructor(e,t,o,u,m,v){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=v,this.fc={},this.dc=new dc(R=>jn(R),Tn),this._c=new Map,this.wc=new Set,this.mc=new Ir(gn.comparator),this.gc=new Map,this.yc=new hp,this.Ic={},this.Tc=new Map,this.Ec=Bd.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function f(i,e){return b.apply(this,arguments)}function b(){return b=(0,p.Z)(function*(i,e){const t=Nf(i);let o,u;const m=t.dc.get(e);if(m)o=m.targetId,t.sharedClientState.addLocalQueryTarget(o),u=m.view.hc();else{const v=yield _u(t.localStore,we(e)),R=t.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield C(t,e,o,"current"===R,v.resumeToken),t.isPrimaryClient&&Ah(t.remoteStore,v)}return u}),b.apply(this,arguments)}function C(i,e,t,o,u){return J.apply(this,arguments)}function J(){return J=(0,p.Z)(function*(i,e,t,o,u){i.Rc=(qe,Ot,Qt)=>{return(In=(0,p.Z)(function*(Vn,pi,yr,cs){let Er=pi.view.nc(yr);Er.ji&&(Er=yield yu(Vn.localStore,pi.query,!1).then(({documents:co})=>pi.view.nc(co,Er)));const Xl=cs&&cs.targetChanges.get(pi.targetId),Ao=pi.view.applyChanges(Er,Vn.isPrimaryClient,Xl);return is(Vn,pi.targetId,Ao.uc),Ao.snapshot}),function(Vn,pi,yr,cs){return In.apply(this,arguments)})(i,qe,Ot,Qt);var In};const m=yield yu(i.localStore,e,!0),v=new id(e,m.sr),R=v.nc(m.documents),Y=Gu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),re=v.applyChanges(R,i.isPrimaryClient,Y);is(i,t,re.uc);const Ee=new c(e,t,v);return i.dc.set(e,Ee),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),re.snapshot}),J.apply(this,arguments)}function ae(i,e){return _e.apply(this,arguments)}function _e(){return _e=(0,p.Z)(function*(i,e){const t=yn(i),o=t.dc.get(e),u=t._c.get(o.targetId);if(u.length>1)return t._c.set(o.targetId,u.filter(m=>!Tn(m,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Oh(t.remoteStore,o.targetId),Xi(t,o.targetId)}).catch(hs))):(Xi(t,o.targetId),yield Gd(t.localStore,o.targetId,!0))}),_e.apply(this,arguments)}function Qe(){return Qe=(0,p.Z)(function*(i,e,t){const o=Ph(i);try{const u=yield function(m,v){const R=yn(m),Y=zr.now(),re=v.reduce((Ot,Qt)=>Ot.add(Qt.key),or());let Ee,qe;return R.persistence.runTransaction("Locally write mutations","readwrite",Ot=>{let Qt=Ga(),In=or();return R.Xi.getEntries(Ot,re).next(Vn=>{Qt=Vn,Qt.forEach((pi,yr)=>{yr.isValidDocument()||(In=In.add(pi))})}).next(()=>R.localDocuments.getOverlayedDocuments(Ot,Qt)).next(Vn=>{Ee=Vn;const pi=[];for(const yr of v){const cs=gg(yr,Ee.get(yr.key).overlayedDocument);null!=cs&&pi.push(new jc(yr.key,cs,pd(cs.value.mapValue),Qi.exists(!0)))}return R.mutationQueue.addMutationBatch(Ot,Y,pi,v)}).next(Vn=>{qe=Vn;const pi=Vn.applyToLocalDocumentSet(Ee,In);return R.documentOverlayCache.saveOverlays(Ot,Vn.batchId,pi)})}).then(()=>({batchId:qe.batchId,changes:yd(Ee)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(m,v,R){let Y=m.Ic[m.currentUser.toKey()];Y||(Y=new Ir(Si)),Y=Y.insert(v,R),m.Ic[m.currentUser.toKey()]=Y}(o,u.batchId,t),yield as(o,u.changes),yield Pc(o.remoteStore)}catch(u){const m=td(u,"Failed to persist write");t.reject(m)}}),Qe.apply(this,arguments)}function jt(i,e){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,p.Z)(function*(i,e){const t=yn(i);try{const o=yield zg(t.localStore,e);e.targetChanges.forEach((u,m)=>{const v=t.gc.get(m);v&&(Mn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.lc=!0:u.modifiedDocuments.size>0?Mn(v.lc):u.removedDocuments.size>0&&(Mn(v.lc),v.lc=!1))}),yield as(t,o,e)}catch(o){yield hs(o)}}),Wt.apply(this,arguments)}function en(i,e,t){const o=yn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.dc.forEach((m,v)=>{const R=v.view.ku(e);R.snapshot&&u.push(R.snapshot)}),function(m,v){const R=yn(m);R.onlineState=v;let Y=!1;R.queries.forEach((re,Ee)=>{for(const qe of Ee.listeners)qe.ku(v)&&(Y=!0)}),Y&&Of(R)}(o.eventManager,e),u.length&&o.fc.eu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Sn(i,e,t){return un.apply(this,arguments)}function un(){return un=(0,p.Z)(function*(i,e,t){const o=yn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.gc.get(e),m=u&&u.key;if(m){let v=new Ir(gn.comparator);v=v.insert(m,ms.newNoDocument(m,Rn.min()));const R=or().add(m),Y=new Xh(Rn.min(),new Map,new Ir(Si),v,R);yield jt(o,Y),o.mc=o.mc.remove(m),o.gc.delete(e),Ko(o)}else yield Gd(o.localStore,e,!1).then(()=>Xi(o,e,t)).catch(hs)}),un.apply(this,arguments)}function Kn(i,e){return ti.apply(this,arguments)}function ti(){return ti=(0,p.Z)(function*(i,e){const t=yn(i),o=e.batch.batchId;try{const u=yield _f(t.localStore,e);Yi(t,o,null),Hi(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield as(t,u)}catch(u){yield hs(u)}}),ti.apply(this,arguments)}function yi(i,e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,p.Z)(function*(i,e,t){const o=yn(i);try{const u=yield function(m,v){const R=yn(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let re;return R.mutationQueue.lookupMutationBatch(Y,v).next(Ee=>(Mn(null!==Ee),re=Ee.keys(),R.mutationQueue.removeMutationBatch(Y,Ee))).next(()=>R.mutationQueue.performConsistencyCheck(Y)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(Y,re,v)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,re)).next(()=>R.localDocuments.getDocuments(Y,re))})}(o.localStore,e);Yi(o,e,t),Hi(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield as(o,u)}catch(u){yield hs(u)}}),Ji.apply(this,arguments)}function Zi(){return Zi=(0,p.Z)(function*(i,e){const t=yn(i);Jc(t.remoteStore)||sn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const v=yn(m);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>v.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===o)return void e.resolve();const u=t.Tc.get(o)||[];u.push(e),t.Tc.set(o,u)}catch(o){const u=td(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Zi.apply(this,arguments)}function Hi(i,e){(i.Tc.get(e)||[]).forEach(t=>{t.resolve()}),i.Tc.delete(e)}function Yi(i,e,t){const o=yn(i);let u=o.Ic[o.currentUser.toKey()];if(u){const m=u.get(e);m&&(t?m.reject(t):m.resolve(),u=u.remove(e)),o.Ic[o.currentUser.toKey()]=u}}function Xi(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.dc.delete(o),t&&i.fc.vc(o,t);i._c.delete(e),i.isPrimaryClient&&i.yc.ps(e).forEach(o=>{i.yc.containsKey(o)||$r(i,o)})}function $r(i,e){i.wc.delete(e.path.canonicalString());const t=i.mc.get(e);null!==t&&(Oh(i.remoteStore,t),i.mc=i.mc.remove(e),i.gc.delete(t),Ko(i))}function is(i,e,t){for(const o of t)o instanceof Gp?(i.yc.addReference(o.key,e),Us(i,o)):o instanceof Wd?(sn("SyncEngine","Document no longer in limbo: "+o.key),i.yc.removeReference(o.key,e),i.yc.containsKey(o.key)||$r(i,o.key)):On()}function Us(i,e){const t=e.key,o=t.path.canonicalString();i.mc.get(t)||i.wc.has(o)||(sn("SyncEngine","New document in limbo: "+t),i.wc.add(o),Ko(i))}function Ko(i){for(;i.wc.size>0&&i.mc.size<i.maxConcurrentLimboResolutions;){const e=i.wc.values().next().value;i.wc.delete(e);const t=new gn(li.fromString(e)),o=i.Ec.next();i.gc.set(o,new d(t)),i.mc=i.mc.insert(t,o),Ah(i.remoteStore,new ar(we(ku(t.path)),o,"TargetPurposeLimboResolution",ks.ct))}}function as(i,e,t){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,p.Z)(function*(i,e,t){const o=yn(i),u=[],m=[],v=[];var R;o.dc.isEmpty()||(o.dc.forEach((R,Y)=>{v.push(o.Rc(Y,e,t).then(re=>{if((re||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(Y.targetId,re?.fromCache?"not-current":"current"),re){u.push(re);const Ee=pp.Bi(Y.targetId,re);m.push(Ee)}}))}),yield Promise.all(v),o.fc.eu(u),yield(R=(0,p.Z)(function*(Y,re){const Ee=yn(Y);try{yield Ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",qe=>_t.forEach(re,Ot=>_t.forEach(Ot.$i,Qt=>Ee.persistence.referenceDelegate.addReference(qe,Ot.targetId,Qt)).next(()=>_t.forEach(Ot.Fi,Qt=>Ee.persistence.referenceDelegate.removeReference(qe,Ot.targetId,Qt)))))}catch(qe){if(!ya(qe))throw qe;sn("LocalStore","Failed to update sequence numbers: "+qe)}for(const qe of re){const Ot=qe.targetId;if(!qe.fromCache){const Qt=Ee.Hi.get(Ot),Vn=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);Ee.Hi=Ee.Hi.insert(Ot,Vn)}}}),function(Y,re){return R.apply(this,arguments)})(o.localStore,m))}),Fl.apply(this,arguments)}function vc(i,e){return zn.apply(this,arguments)}function zn(){return zn=(0,p.Z)(function*(i,e){const t=yn(i);if(!t.currentUser.isEqual(e)){sn("SyncEngine","User change. New user:",e.toKey());const o=yield Eh(t.localStore,e);t.currentUser=e,(u=t).Tc.forEach(v=>{v.forEach(R=>{R.reject(new on(Mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Tc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield as(t,o.tr)}var u}),zn.apply(this,arguments)}function oi(i,e){const t=yn(i),o=t.gc.get(e);if(o&&o.lc)return or().add(o.key);{let u=or();const m=t._c.get(e);if(!m)return u;for(const v of m){const R=t.dc.get(v);u=u.unionWith(R.view.ec)}return u}}function Ai(i,e){return fr.apply(this,arguments)}function fr(){return fr=(0,p.Z)(function*(i,e){const t=yn(i),o=yield yu(t.localStore,e.query,!0),u=e.view.ac(o);return t.isPrimaryClient&&is(t,e.targetId,u.uc),u}),fr.apply(this,arguments)}function lo(i,e){return ja.apply(this,arguments)}function ja(){return ja=(0,p.Z)(function*(i,e){const t=yn(i);return Yu(t.localStore,e).then(o=>as(t,o))}),ja.apply(this,arguments)}function aa(i,e,t,o){return cl.apply(this,arguments)}function cl(){return cl=(0,p.Z)(function*(i,e,t,o){const u=yn(i),m=yield function(v,R){const Y=yn(v),re=yn(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Ee=>re.Vn(Ee,R).next(qe=>qe?Y.localDocuments.getDocuments(Ee,qe):_t.resolve(null)))}(u.localStore,e);var R;null!==m?("pending"===t?yield Pc(u.remoteStore):"acknowledged"===t||"rejected"===t?(Yi(u,e,o||null),Hi(u,e),R=e,yn(yn(u.localStore).mutationQueue).Dn(R)):On(),yield as(u,m)):sn("SyncEngine","Cannot apply mutation batch with id: "+e)}),cl.apply(this,arguments)}function _l(){return _l=(0,p.Z)(function*(i,e){const t=yn(i);if(Nf(t),Ph(t),!0===e&&!0!==t.Ac){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield bu(t,o.toArray());t.Ac=!0,yield Bp(t.remoteStore,!0);for(const m of u)Ah(t.remoteStore,m)}else if(!1===e&&!1!==t.Ac){const o=[];let u=Promise.resolve();t._c.forEach((m,v)=>{t.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(Xi(t,v),Gd(t.localStore,v,!0))),Oh(t.remoteStore,v)}),yield u,yield bu(t,o),function(m){const v=yn(m);v.gc.forEach((R,Y)=>{Oh(v.remoteStore,Y)}),v.yc.Is(),v.gc=new Map,v.mc=new Ir(gn.comparator)}(t),t.Ac=!1,yield Bp(t.remoteStore,!1)}}),_l.apply(this,arguments)}function bu(i,e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,p.Z)(function*(i,e,t){const o=yn(i),u=[],m=[];for(const v of e){let R;const Y=o._c.get(v);if(Y&&0!==Y.length){R=yield _u(o.localStore,we(Y[0]));for(const re of Y){const Ee=o.dc.get(re),qe=yield Ai(o,Ee);qe.snapshot&&m.push(qe.snapshot)}}else{const re=yield zm(o.localStore,v);R=yield _u(o.localStore,re),yield C(o,la(re),v,!1,R.resumeToken)}u.push(R)}return o.fc.eu(m),u}),Ns.apply(this,arguments)}function la(i){return Wh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Sa(i){const e=yn(i);return yn(yn(e.localStore).persistence).Mi()}function Kd(i,e,t,o){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,p.Z)(function*(i,e,t,o){const u=yn(i);if(u.Ac)return void sn("SyncEngine","Ignoring unexpected query state notification.");const m=u._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const v=yield Yu(u.localStore,Ea(m[0])),R=Xh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,so.EMPTY_BYTE_STRING);yield as(u,v,R);break}case"rejected":yield Gd(u.localStore,e,!0),Xi(u,e,o);break;default:On()}}),Jl.apply(this,arguments)}function Mf(i,e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,p.Z)(function*(i,e,t){const o=Nf(i);if(o.Ac){for(const u of e){if(o._c.has(u)){sn("SyncEngine","Adding an already active target "+u);continue}const m=yield zm(o.localStore,u),v=yield _u(o.localStore,m);yield C(o,la(m),v.targetId,!1,v.resumeToken),Ah(o.remoteStore,v)}for(const u of t)o._c.has(u)&&(yield Gd(o.localStore,u,!1).then(()=>{Oh(o.remoteStore,u),Xi(o,u)}).catch(hs))}}),Zd.apply(this,arguments)}function Nf(i){const e=yn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jt.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oi.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sn.bind(null,e),e.fc.eu=Up.bind(null,e.eventManager),e.fc.vc=Jm.bind(null,e.eventManager),e}function Ph(i){const e=yn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kn.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yi.bind(null,e),e}class rd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=Ca(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gp(this.persistence,new mf,e.initialUser,this.serializer)}createPersistence(e){return new Hm(Ug.js,this.serializer)}createSharedClientState(e){return new Ch}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xf extends rd{constructor(e,t,o){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,p.Z)(function*(){yield t().call(o,e),yield o.bc.initialize(o,e),yield Ph(o.bc.syncEngine),yield Pc(o.bc.remoteStore),yield o.persistence.pi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return gp(this.persistence,new mf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Rg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Ss(t,this.persistence);return new Cc(e.asyncQueue,o)}createPersistence(e){const t=Zu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ml.withCacheSize(this.cacheSizeBytes):ml.DEFAULT;return new Ku(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,wp(),Ih(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ch}}class wu extends xf{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,p.Z)(function*(){yield t().call(o,e);const u=o.bc.syncEngine;o.sharedClientState instanceof Qu&&(o.sharedClientState.syncEngine={Qr:aa.bind(null,u),jr:Kd.bind(null,u),zr:Mf.bind(null,u),Mi:Sa.bind(null,u),Gr:lo.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.pi(function(){var m=(0,p.Z)(function*(v){yield function ls(i,e){return _l.apply(this,arguments)}(o.bc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start():v||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(v&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():v||o.indexBackfillerScheduler.stop())});return function(v){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=wp();if(!Qu.D(t))throw new on(Mt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Zu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qu(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Fc{initialize(e,t){var o=this;return(0,p.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>en(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=vc.bind(null,o.syncEngine),yield Bp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new U_}createDatastore(e){const t=Ca(e.databaseInfo.databaseId),o=new bp(e.databaseInfo);return new Kg(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,m=R=>en(this.syncEngine,R,0),v=Sh.D()?new Sh:new Wm,new Ym(t,o,u,m,v);var t,o,u,m,v}createSyncEngine(e,t){return function(o,u,m,v,R,Y,re){const Ee=new s(o,u,m,v,R,Y);return re&&(Ee.Ac=!0),Ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const o=yn(t);sn("RemoteStore","RemoteStore shutting down."),o.Au.add(5),yield Ju(o),o.vu.shutdown(),o.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rf(i,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Yd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Pf{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new ds,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(o=>{o&&o.Gu()?this.metadata.resolve(o.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Ku)}`))},o=>this.metadata.reject(o))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const o=e.Cc.decode(t),u=Number(o);isNaN(u)&&e.kc(`length string (${o}) is not valid number`);const m=yield e.Mc(u);return new Xm(JSON.parse(m),t.length+u)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,p.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Mc(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const o=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,p.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class sm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new on(Mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,p.Z)(function*(m,v){const R=yn(m),Y=zc(R.serializer)+"/documents",re={documents:v.map(Qt=>Nc(R.serializer,Qt))},Ee=yield R.Ao("BatchGetDocuments",Y,re,v.length),qe=new Map;Ee.forEach(Qt=>{const In=function Qf(i,e){return"found"in e?function(t,o){Mn(!!o.found);const u=mc(t,o.found.name),m=Wo(o.found.updateTime),v=o.found.createTime?Wo(o.found.createTime):Rn.min(),R=new Co({mapValue:{fields:o.found.fields}});return ms.newFoundDocument(u,m,v,R)}(i,e):"missing"in e?function(t,o){Mn(!!o.missing),Mn(!!o.readTime);const u=mc(t,o.missing),m=Wo(o.readTime);return ms.newNoDocument(u,m)}(i,e):On()}(R.serializer,Qt);qe.set(In.key.toString(),In)});const Ot=[];return v.forEach(Qt=>{const In=qe.get(Qt.toString());Mn(!!In),Ot.push(In)}),Ot}),function(m,v){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const m=gn.fromPath(u);e.mutations.push(new Wf(m,e.precondition(m)))}),yield(o=(0,p.Z)(function*(u,m){const v=yn(u),R=zc(v.serializer)+"/documents",Y={writes:m.map(re=>Ad(v.serializer,re))};yield v.po("Commit",R,Y)}),function(u,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw On();t=Rn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new on(Mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rn.min())?Qi.exists(!1):Qi.updateTime(t):Qi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rn.min()))throw new on(Mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qi.updateTime(t)}return Qi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $p{constructor(e,t,o,u,m){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=m,this.Fc=o.maxAttempts,this.Lo=new Ep(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,p.Z)(function*(){const t=new sm(e.datastore),o=e.Lc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(m=>{e.qc(m)}))}).catch(u=>{e.qc(u)})}))}Lc(e){try{const t=this.updateFunction(e);return!To(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_g(t)}return!1}}class Wp{constructor(e,t,o,u){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=fi.UNAUTHENTICATED,this.clientId=Ps.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,p.Z)(function*(R){sn("FirestoreClient","Received user=",R.uid),yield m.authCredentialListener(R),m.user=R});return function(R){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(sn("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new on(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=td(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function sd(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),sn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,p.Z)(function*(m){o.isEqual(m)||(yield Eh(e.localStore,m),o=m)});return function(m){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),kf.apply(this,arguments)}function om(i,e){return am.apply(this,arguments)}function am(){return am=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield lm(i);sn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>tm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,m)=>tm(e.remoteStore,m)),i._onlineComponents=e}),am.apply(this,arguments)}function t_(i){return"FirebaseError"===i.name?i.code===Mt.FAILED_PRECONDITION||i.code===Mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function lm(i){return cm.apply(this,arguments)}function cm(){return cm=(0,p.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){sn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sd(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!t_(t))throw t;_r("Error using user provided cache. Falling back to memory cache: "+t),yield sd(i,new rd)}}else sn("FirestoreClient","Using default OfflineComponentProvider"),yield sd(i,new rd);return i._offlineComponents}),cm.apply(this,arguments)}function Kp(i){return um.apply(this,arguments)}function um(){return um=(0,p.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(sn("FirestoreClient","Using user provided OnlineComponentProvider"),yield om(i,i._uninitializedComponentsProvider._online)):(sn("FirestoreClient","Using default OnlineComponentProvider"),yield om(i,new Fc))),i._onlineComponents}),um.apply(this,arguments)}function n_(i){return lm(i).then(e=>e.persistence)}function kh(i){return lm(i).then(e=>e.localStore)}function od(i){return Kp(i).then(e=>e.remoteStore)}function i_(i){return Kp(i).then(e=>e.syncEngine)}function qd(i){return ad.apply(this,arguments)}function ad(){return ad=(0,p.Z)(function*(i){const e=yield Kp(i),t=e.eventManager;return t.onListen=f.bind(null,e.syncEngine),t.onUnlisten=ae.bind(null,e.syncEngine),t}),ad.apply(this,arguments)}function Fy(i,e,t={}){const o=new ds;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(u,m,v,R,Y){const re=new Yd({next:qe=>{m.enqueueAndForget(()=>If(u,Ee));const Ot=qe.docs.has(v);!Ot&&qe.fromCache?Y.reject(new on(Mt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ot&&qe.fromCache&&R&&"server"===R.source?Y.reject(new on(Mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(qe)},error:qe=>Y.reject(qe)}),Ee=new Hp(ku(v.path),re,{includeMetadataChanges:!0,Uu:!0});return im(u,Ee)}(yield qd(i),i.asyncQueue,e,t,o)})),o.promise}function G_(i,e,t={}){const o=new ds;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(u,m,v,R,Y){const re=new Yd({next:qe=>{m.enqueueAndForget(()=>If(u,Ee)),qe.fromCache&&"server"===R.source?Y.reject(new on(Mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(qe)},error:qe=>Y.reject(qe)}),Ee=new Hp(v,re,{includeMetadataChanges:!0,Uu:!0});return im(u,Ee)}(yield qd(i),i.asyncQueue,e,t,o)})),o.promise}const o_=new Map;function a_(i,e,t){if(!t)throw new on(Mt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function z_(i,e,t,o){if(!0===e&&!0===o)throw new on(Mt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function l_(i){if(!gn.isDocumentKey(i))throw new on(Mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $_(i){if(gn.isDocumentKey(i))throw new on(Mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Zp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":On()}function Wr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new on(Mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zp(i);throw new on(Mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Fh(i,e){if(e<=0)throw new on(Mt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class W_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new on(Mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new on(Mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new on(Mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new on(Mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wl;switch(t.type){case"firstParty":return new Vl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new on(Mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=o_.get(e);t&&(sn("ComponentProvider","Removing Datastore"),o_.delete(e),t.terminate())}(this),Promise.resolve()}}function c_(i,e,t,o={}){var u;const m=(i=Wr(i,Yp))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&_r("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let v,R;if("string"==typeof o.mockUserToken)v=o.mockUserToken,R=fi.MOCK_USER;else{v=(0,L.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const Y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Y)throw new on(Mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new fi(Y)}i._authCredentials=new Ll(new el(v,R))}}class Zo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ld(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}}class ul{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ul(this.firestore,e,this._query)}}class ld extends ul{constructor(e,t,o){super(e,t,ku(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new gn(e))}withConverter(e){return new ld(this.firestore,e,this._path)}}function u_(i,e,...t){if(i=(0,L.m9)(i),a_("collection","path",e),i instanceof Yp){const o=li.fromString(e,...t);return $_(o),new ld(i,null,o)}{if(!(i instanceof Zo||i instanceof ld))throw new on(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(li.fromString(e,...t));return $_(o),new ld(i.firestore,null,o)}}function d_(i,e){if(i=Wr(i,Yp),a_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new on(Mt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ul(i,null,(t=e,new jl(li.emptyPath(),t)));var t}function Lc(i,e,...t){if(i=(0,L.m9)(i),1===arguments.length&&(e=Ps.A()),a_("doc","path",e),i instanceof Yp){const o=li.fromString(e,...t);return l_(o),new Zo(i,null,new gn(o))}{if(!(i instanceof Zo||i instanceof ld))throw new on(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(li.fromString(e,...t));return l_(o),new Zo(i.firestore,i instanceof ld?i.converter:null,new gn(o))}}function Vy(i,e){return i=(0,L.m9)(i),e=(0,L.m9)(e),(i instanceof Zo||i instanceof ld)&&(e instanceof Zo||e instanceof ld)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function dm(i,e){return i=(0,L.m9)(i),e=(0,L.m9)(e),i instanceof ul&&e instanceof ul&&i.firestore===e.firestore&&Tn(i._query,e._query)&&i.converter===e.converter}class Eu{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Ep(this,"async_queue_retry"),this.Yc=()=>{const t=Ih();t&&sn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Ih();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Ih();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ds;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,p.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!ya(t))throw t;sn("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(o=>{throw this.zc=o,this.Wc=!1,qi("INTERNAL UNHANDLED ERROR: ",function(m){let v=m.message||"";return m.stack&&(v=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),v}(o)),o}).then(o=>(this.Wc=!1,o))));return this.Kc=t,t}enqueueAfterDelay(e,t,o){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const u=qm.createAndSchedule(this,e,t,o,m=>this.ea(m));return this.jc.push(u),u}Xc(){this.zc&&On()}verifyOperationInProgress(){}na(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function bc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class eu{constructor(){this._progressObserver={},this._taskCompletionResolver=new ds,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const K_=-1;class Ys extends Yp{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Eu,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z_(this),this._firestoreClient.terminate()}}function ca(i){return i._firestoreClient||Z_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Z_(i){var e,t,o;const u=i._freezeSettings(),m=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ou(i._databaseId,R,i._persistenceKey,(re=u).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,re.useFetchStreams));var R,re;i._firestoreClient=new Wp(i._authCredentials,i._appCheckCredentials,i._queue,m),null!==(t=u.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}function h_(i,e){p_(i=Wr(i,Ys));const t=ca(i);if(t._uninitializedComponentsProvider)throw new on(Mt.FAILED_PRECONDITION,"SDK cache is already specified.");_r("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),u=new Fc;return Y_(t,u,new xf(u,o.cacheSizeBytes,e?.forceOwnership))}function qp(i){p_(i=Wr(i,Ys));const e=ca(i);if(e._uninitializedComponentsProvider)throw new on(Mt.FAILED_PRECONDITION,"SDK cache is already specified.");_r("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),o=new Fc;return Y_(e,o,new wu(o,t.cacheSizeBytes))}function Y_(i,e,t){const o=new ds;return i.asyncQueue.enqueue((0,p.Z)(function*(){try{yield sd(i,t),yield om(i,e),o.resolve()}catch(u){const m=u;if(!t_(m))throw m;_r("Error enabling indexeddb cache. Falling back to memory cache: "+m),o.reject(m)}})).then(()=>o.promise)}function q_(i){if(i._initialized&&!i._terminated)throw new on(Mt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ds;return i._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(o){if(!_o.D())return Promise.resolve();const u=o+"main";yield _o.delete(u)}),function(o){return t.apply(this,arguments)})(Zu(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Uy(i){return function(e){const t=new ds;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Ci(i,e){return Zi.apply(this,arguments)}(yield i_(e),t)})),t.promise}(ca(i=Wr(i,Ys)))}function Q_(i){return function r_(i){return i.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield n_(i),t=yield od(i);return e.setNetworkEnabled(!0),function(o){const u=yn(o);return u.Au.delete(0),Tf(u)}(t)}))}(ca(i=Wr(i,Ys)))}function J_(i){return function ky(i){return i.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield n_(i),t=yield od(i);return e.setNetworkEnabled(!1),(o=(0,p.Z)(function*(u){const m=yn(u);m.Au.add(0),yield Ju(m),m.Pu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ca(i=Wr(i,Ys)))}function Hy(i,e){const t=ca(i=Wr(i,Ys)),o=new eu;return function j_(i,e,t,o){const u=function(m,v){let R;return R="string"==typeof m?du().encode(m):m,Y=function(Y,re){if(Y instanceof Uint8Array)return Rf(Y,void 0);if(Y instanceof ArrayBuffer)return Rf(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Pf(Y,v);var Y}(t,Ca(e));i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function jp(i,e,t){const o=yn(i);var u;(u=(0,p.Z)(function*(m,v,R){try{const Y=yield v.getMetadata();if(yield function(Ot,Qt){const In=yn(Ot),Vn=Wo(Qt.createTime);return In.persistence.runTransaction("hasNewerBundle","readonly",pi=>In.Ls.getBundleMetadata(pi,Qt.id)).then(pi=>!!pi&&pi.createTime.compareTo(Vn)>=0)}(m.localStore,Y))return yield v.close(),R._completeWith({taskState:"Success",documentsLoaded:(Ot=Y).totalDocuments,bytesLoaded:Ot.totalBytes,totalDocuments:Ot.totalDocuments,totalBytes:Ot.totalBytes}),Promise.resolve(new Set);R._updateProgress(nd(Y));const re=new e_(Y,m.localStore,v.serializer);let Ee=yield v.Pc();for(;Ee;){const Ot=yield re.ju(Ee);Ot&&R._updateProgress(Ot),Ee=yield v.Pc()}const qe=yield re.complete();return yield as(m,qe.Hu,void 0),yield function(Ot,Qt){const In=yn(Ot);return In.persistence.runTransaction("Save bundle","readwrite",Vn=>In.Ls.saveBundleMetadata(Vn,Qt))}(m.localStore,Y),R._completeWith(qe.progress),Promise.resolve(qe.Wu)}catch(Y){return _r("SyncEngine",`Loading bundle failed with ${Y}`),R._failWith(Y),Promise.resolve(new Set)}var Ot}),function(m,v,R){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield i_(i),u,o)}))}(t,i._databaseId,e,o),o}function X_(i,e){return function By(i,e){return i.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,o){const u=yn(t);return u.persistence.runTransaction("Get named query","readonly",m=>u.Ls.getNamedQuery(m,o))}(yield kh(i),e)}))}(ca(i=Wr(i,Ys)),e).then(t=>t?new ul(i,null,t.query):null)}function p_(i){if(i._initialized||i._terminated)throw new on(Mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tu(so.fromBase64String(e))}catch(t){throw new on(Mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tu(so.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new on(Mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qd{constructor(e){this._methodName=e}}class Qp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new on(Mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new on(Mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Si(this._lat,e._lat)||Si(this._long,e._long)}}const ey=/^__.*__$/;class ty{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new gc(e,this.data,t,this.fieldTransforms)}}class g_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function m_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw On()}}class Jp{constructor(e,t,o,u,m,v){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===m&&this.oa(),this.fieldTransforms=m||[],this.fieldMask=v||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ca({path:o,ha:!1});return u.la(e),u}fa(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ca({path:o,ha:!1});return u.oa(),u}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return tg(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(m_(this.ua)&&ey.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class jy{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Ca(e)}ga(e,t,o,u=!1){return new Jp({ua:e,methodName:t,ma:o,path:hr.emptyPath(),ha:!1,wa:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bh(i){const e=i._freezeSettings(),t=Ca(i._databaseId);return new jy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function fm(i,e,t,o,u,m={}){const v=i.ga(m.merge||m.mergeFields?2:0,e,t,u);b_("Data must be an object, but it was:",v,o);const R=ry(o,v);let Y,re;if(m.merge)Y=new va(v.fieldMask),re=v.fieldTransforms;else if(m.mergeFields){const Ee=[];for(const qe of m.mergeFields){const Ot=Ff(e,qe,t);if(!v.contains(Ot))throw new on(Mt.INVALID_ARGUMENT,`Field '${Ot}' is specified in your field mask but missing from your input data.`);w_(Ee,Ot)||Ee.push(Ot)}Y=new va(Ee),re=v.fieldTransforms.filter(qe=>Y.covers(qe.field))}else Y=null,re=v.fieldTransforms;return new ty(new Co(R),Y,re)}class Xp extends Qd{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xp}}function ny(i,e,t){return new Jp({ua:3,ma:e.settings.ma,methodName:i._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class __ extends Qd{_toFieldTransform(e){return new cu(e.path,new Bu)}isEqual(e){return e instanceof __}}class zy extends Qd{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=ny(this,e,!0),o=this.ya.map(m=>Vh(m,t)),u=new Oc(o);return new cu(e.path,u)}isEqual(e){return this===e}}class $y extends Qd{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=ny(this,e,!0),o=this.ya.map(m=>Vh(m,t)),u=new $l(o);return new cu(e.path,u)}isEqual(e){return this===e}}class Wy extends Qd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Ed(e.serializer,jf(e.serializer,this.pa));return new cu(e.path,t)}isEqual(e){return this===e}}function y_(i,e,t,o){const u=i.ga(1,e,t);b_("Data must be an object, but it was:",u,o);const m=[],v=Co.empty();al(o,(Y,re)=>{const Ee=eg(e,Y,t);re=(0,L.m9)(re);const qe=u.fa(Ee);if(re instanceof Xp)m.push(Ee);else{const Ot=Vh(re,qe);null!=Ot&&(m.push(Ee),v.set(Ee,Ot))}});const R=new va(m);return new g_(v,R,u.fieldTransforms)}function v_(i,e,t,o,u,m){const v=i.ga(1,e,t),R=[Ff(e,o,t)],Y=[u];if(m.length%2!=0)throw new on(Mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ot=0;Ot<m.length;Ot+=2)R.push(Ff(e,m[Ot])),Y.push(m[Ot+1]);const re=[],Ee=Co.empty();for(let Ot=R.length-1;Ot>=0;--Ot)if(!w_(re,R[Ot])){const Qt=R[Ot];let In=Y[Ot];In=(0,L.m9)(In);const Vn=v.fa(Qt);if(In instanceof Xp)re.push(Qt);else{const pi=Vh(In,Vn);null!=pi&&(re.push(Qt),Ee.set(Qt,pi))}}const qe=new va(re);return new g_(Ee,qe,v.fieldTransforms)}function iy(i,e,t,o=!1){return Vh(t,i.ga(o?4:3,e))}function Vh(i,e){if(sy(i=(0,L.m9)(i)))return b_("Unsupported field value:",e,i),ry(i,e);if(i instanceof Qd)return function(t,o){if(!m_(o.ua))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,o){const u=[];let m=0;for(const v of t){let R=Vh(v,o.da(m));null==R&&(R={nullValue:"NULL_VALUE"}),u.push(R),m++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,L.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jf(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=zr.fromDate(t);return{timestampValue:Wl(o.serializer,u)}}if(t instanceof zr){const u=new zr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wl(o.serializer,u)}}if(t instanceof Qp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tu)return{bytesValue:oo(o.serializer,t._byteString)};if(t instanceof Zo){const u=o.databaseId,m=t.firestore._databaseId;if(!m.isEqual(u))throw o._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Zp(t)}`)}(i,e)}function ry(i,e){const t={};return hd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(i,(o,u)=>{const m=Vh(u,e.aa(o));null!=m&&(t[o]=m)}),{mapValue:{fields:t}}}function sy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof zr||i instanceof Qp||i instanceof Tu||i instanceof Zo||i instanceof Qd)}function b_(i,e,t){if(!sy(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Zp(t);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Ff(i,e,t){if((e=(0,L.m9)(e))instanceof cd)return e._internalPath;if("string"==typeof e)return eg(i,e);throw tg("Field path arguments must be of type string or ",i,!1,void 0,t)}const oy=new RegExp("[~\\*/\\[\\]]");function eg(i,e,t){if(e.search(oy)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new cd(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function tg(i,e,t,o,u){const m=o&&!o.isEmpty(),v=void 0!==u;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let Y="";return(m||v)&&(Y+=" (found",m&&(Y+=` in field ${o}`),v&&(Y+=` in document ${u}`),Y+=")"),new on(Mt.INVALID_ARGUMENT,R+i+Y)}function w_(i,e){return i.some(t=>t.isEqual(e))}class Lf{constructor(e,t,o,u,m){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ng("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ay extends Lf{data(){return super.data()}}function ng(i,e){return"string"==typeof e?eg(i,e):e instanceof cd?e._internalPath:e._delegate._internalPath}function E_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new on(Mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class Bf extends ig{}function Uh(i,e,...t){let o=[];e instanceof ig&&o.push(e),o=o.concat(t),function(u){const m=u.filter(R=>R instanceof tu).length,v=u.filter(R=>R instanceof rg).length;if(m>1||m>0&&v>0)throw new on(Mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class rg extends Bf{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new rg(e,t,o)}_apply(e){const t=this._parse(e);return T_(e._query,t),new ul(e.firestore,e.converter,gt(e._query,t))}_parse(e){const t=Bh(e.firestore);return function(u,m,v,R,Y,re,Ee){let qe;if(Y.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new on(Mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){Qy(Ee,re);const Ot=[];for(const Qt of Ee)Ot.push(Io(R,u,Qt));qe={arrayValue:{values:Ot}}}else qe=Io(R,u,Ee)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||Qy(Ee,re),qe=iy(v,"where",Ee,"in"===re||"not-in"===re);return yt.create(Y,re,qe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ky(i,e,t){const o=e,u=ng("where",i);return rg._create(u,o,t)}class tu extends ig{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tu(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:cn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,u){let m=o;const v=u.getFlattenedFilters();for(const R of v)T_(m,R),m=gt(m,R)}(e._query,t),new ul(e.firestore,e.converter,gt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cy extends Bf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cy(e,t)}_apply(e){const t=function(o,u,m){if(null!==o.startAt)throw new on(Mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new on(Mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new xe(u,m);return function(R,Y){if(null===_(R)){const re=w(R);null!==re&&D_(0,re,Y.field)}}(o,v),v}(e._query,this._field,this._direction);return new ul(e.firestore,e.converter,function(o,u){const m=o.explicitOrderBy.concat([u]);return new jl(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function uy(i,e="asc"){const t=e,o=ng("orderBy",i);return cy._create(o,t)}class sg extends Bf{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new sg(e,t,o)}_apply(e){return new ul(e.firestore,e.converter,Ut(e._query,this._limit,this._limitType))}}function Qv(i){return Fh("limit",i),sg._create("limit",i,"F")}function zi(i){return Fh("limitToLast",i),sg._create("limitToLast",i,"L")}class pm extends Bf{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new pm(e,t,o)}_apply(e){const t=og(e,this.type,this._docOrFields,this._inclusive);return new ul(e.firestore,e.converter,(u=t,new jl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function Zy(...i){return pm._create("startAt",i,!0)}function Yy(...i){return pm._create("startAfter",i,!1)}class ud extends Bf{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new ud(e,t,o)}_apply(e){const t=og(e,this.type,this._docOrFields,this._inclusive);return new ul(e.firestore,e.converter,(u=t,new jl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function qy(...i){return ud._create("endBefore",i,!1)}function gm(...i){return ud._create("endAt",i,!0)}function og(i,e,t,o){if(t[0]=(0,L.m9)(t[0]),t[0]instanceof Lf)return function(u,m,v,R,Y){if(!R)throw new on(Mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const re=[];for(const Ee of se(u))if(Ee.field.isKeyField())re.push(Hl(m,R.key));else{const qe=R.data.field(Ee.field);if(Au(qe))throw new on(Mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===qe){const Ot=Ee.field.canonicalString();throw new on(Mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ot}' (used as the orderBy) does not exist.`)}re.push(qe)}return new N(re,Y)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=Bh(i.firestore);return function(m,v,R,Y,re,Ee){const qe=m.explicitOrderBy;if(re.length>qe.length)throw new on(Mt.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ot=[];for(let Qt=0;Qt<re.length;Qt++){const In=re[Qt];if(qe[Qt].field.isKeyField()){if("string"!=typeof In)throw new on(Mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof In}`);if(!x(m)&&-1!==In.indexOf("/"))throw new on(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${In}' contains a slash.`);const Vn=m.path.child(li.fromString(In));if(!gn.isDocumentKey(Vn))throw new on(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Vn}' is not because it contains an odd number of segments.`);const pi=new gn(Vn);Ot.push(Hl(v,pi))}else{const Vn=iy(R,Y,In);Ot.push(Vn)}}return new N(Ot,Ee)}(i._query,i.firestore._databaseId,u,e,t,o)}}function Io(i,e,t){if("string"==typeof(t=(0,L.m9)(t))){if(""===t)throw new on(Mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x(e)&&-1!==t.indexOf("/"))throw new on(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(li.fromString(t));if(!gn.isDocumentKey(o))throw new on(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Hl(i,new gn(o))}if(t instanceof Zo)return Hl(i,t._key);throw new on(Mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zp(t)}.`)}function Qy(i,e){if(!Array.isArray(i)||0===i.length)throw new on(Mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T_(i,e){if(e.isInequality()){const o=w(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new on(Mt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const m=_(i);null!==m&&D_(0,u,m)}const t=function(o,u){for(const m of o)for(const v of m.getFlattenedFilters())if(u.indexOf(v.op)>=0)return v.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new on(Mt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function D_(i,e,t){if(!t.isEqual(e))throw new on(Mt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class mm{convertValue(e,t="none"){switch(Dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ls(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw On()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return al(e,(u,m)=>{o[u]=this.convertValue(m,t)}),o}convertGeoPoint(e){return new Qp(Ls(e.latitude),Ls(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=rc(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const t=Nl(e);return new zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=li.fromString(e);Mn(rf(o));const u=new xl(o.get(1),o.get(3)),m=new gn(o.popFirst(5));return u.isEqual(t)||qi(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function ag(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class hy extends mm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}class Hh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gh extends Lf{constructor(e,t,o,u,m,v){super(e,t,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(ng("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class lg extends Gh{data(e={}){return super.data(e)}}class Du{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Hh(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new lg(this._firestore,this._userDataWriter,o.key,o,new Hh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new on(Mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new lg(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Hh(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const R=new lg(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Hh(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let Y=-1,re=-1;return 0!==v.type&&(Y=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),1!==v.type&&(m=m.add(v.doc),re=m.indexOf(v.doc.key)),{type:fy(v.type),doc:R,oldIndex:Y,newIndex:re}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return On()}}function py(i,e){return i instanceof Gh&&e instanceof Gh?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Du&&e instanceof Du&&i._firestore===e._firestore&&dm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function gy(i){i=Wr(i,Zo);const e=Wr(i.firestore,Ys);return Fy(ca(e),i._key).then(t=>by(e,i,t))}class Jd extends mm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}function cg(i){i=Wr(i,Zo);const e=Wr(i.firestore,Ys),t=ca(e),o=new Jd(e);return function s_(i,e){const t=new ds;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(o=(0,p.Z)(function*(u,m,v){try{const R=yield function(Y,re){const Ee=yn(Y);return Ee.persistence.runTransaction("read document","readonly",qe=>Ee.localDocuments.getDocument(qe,re))}(u,m);R.isFoundDocument()?v.resolve(R):R.isNoDocument()?v.resolve(null):v.reject(new on(Mt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const Y=td(R,`Failed to get document '${m} from cache`);v.reject(Y)}}),function(u,m,v){return o.apply(this,arguments)})(yield kh(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Gh(e,o,i._key,u,new Hh(null!==u&&u.hasLocalMutations,!0),i.converter))}function ug(i){i=Wr(i,Zo);const e=Wr(i.firestore,Ys);return Fy(ca(e),i._key,{source:"server"}).then(t=>by(e,i,t))}function ev(i){i=Wr(i,ul);const e=Wr(i.firestore,Ys),t=ca(e),o=new Jd(e);return E_(i._query),G_(t,i._query).then(u=>new Du(e,o,i,u))}function tv(i){i=Wr(i,ul);const e=Wr(i.firestore,Ys),t=ca(e),o=new Jd(e);return function Zv(i,e){const t=new ds;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(o=(0,p.Z)(function*(u,m,v){try{const R=yield yu(u,m,!0),Y=new id(m,R.sr),re=Y.nc(R.documents),Ee=Y.applyChanges(re,!1);v.resolve(Ee.snapshot)}catch(R){const Y=td(R,`Failed to execute query '${m} against cache`);v.reject(Y)}}),function(u,m,v){return o.apply(this,arguments)})(yield kh(i),e,t);var o})),t.promise}(t,i._query).then(u=>new Du(e,o,i,u))}function nv(i){i=Wr(i,ul);const e=Wr(i.firestore,Ys),t=ca(e),o=new Jd(e);return G_(t,i._query,{source:"server"}).then(u=>new Du(e,o,i,u))}function my(i,e,t){i=Wr(i,Zo);const o=Wr(i.firestore,Ys),u=ag(i.converter,e,t);return Vf(o,[fm(Bh(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Qi.none())])}function _y(i,e,t,...o){i=Wr(i,Zo);const u=Wr(i.firestore,Ys),m=Bh(u);let v;return v="string"==typeof(e=(0,L.m9)(e))||e instanceof cd?v_(m,"updateDoc",i._key,e,t,o):y_(m,"updateDoc",i._key,e),Vf(u,[v.toMutation(i._key,Qi.exists(!0))])}function yy(i){return Vf(Wr(i.firestore,Ys),[new Dd(i._key,Qi.none())])}function iv(i,e){const t=Wr(i.firestore,Ys),o=Lc(i),u=ag(i.converter,e);return Vf(t,[fm(Bh(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Qi.exists(!1))]).then(()=>o)}function vy(i,...e){var t,o,u;i=(0,L.m9)(i);let m={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||bc(e[v])||(m=e[v],v++);const R={includeMetadataChanges:m.includeMetadataChanges};if(bc(e[v])){const qe=e[v];e[v]=null===(t=qe.next)||void 0===t?void 0:t.bind(qe),e[v+1]=null===(o=qe.error)||void 0===o?void 0:o.bind(qe),e[v+2]=null===(u=qe.complete)||void 0===u?void 0:u.bind(qe)}let Y,re,Ee;if(i instanceof Zo)re=Wr(i.firestore,Ys),Ee=ku(i._key.path),Y={next:qe=>{e[v]&&e[v](by(re,i,qe))},error:e[v+1],complete:e[v+2]};else{const qe=Wr(i,ul);re=Wr(qe.firestore,Ys),Ee=qe._query;const Ot=new Jd(re);Y={next:Qt=>{e[v]&&e[v](new Du(re,Ot,qe,Qt))},error:e[v+1],complete:e[v+2]},E_(i._query)}return function(qe,Ot,Qt,In){const Vn=new Yd(In),pi=new Hp(Ot,Vn,Qt);return qe.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return im(yield qd(qe),pi)})),()=>{Vn.Sc(),qe.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return If(yield qd(qe),pi)}))}}(ca(re),Ee,R,Y)}function rv(i,e){return function Ly(i,e){const t=new Yd(e);return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return o=yield qd(i),u=t,yn(o).Nu.add(u),void u.next();var o,u})),()=>{t.Sc(),i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return o=yield qd(i),u=t,void yn(o).Nu.delete(u);var o,u}))}}(ca(i=Wr(i,Ys)),bc(e)?e:{next:e})}function Vf(i,e){return function(t,o){const u=new ds;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function ke(i,e,t){return Qe.apply(this,arguments)}(yield i_(t),o,u)})),u.promise}(ca(i),e)}function by(i,e,t){const o=t.docs.get(e._key),u=new Jd(i);return new Gh(i,u,e._key,o,new Hh(t.hasPendingWrites,t.fromCache),e.converter)}const uv={maxAttempts:5};class C_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bh(e)}set(e,t,o){this._verifyNotCommitted();const u=Xd(e,this._firestore),m=ag(u.converter,t,o),v=fm(this._dataReader,"WriteBatch.set",u._key,m,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,Qi.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const m=Xd(e,this._firestore);let v;return v="string"==typeof(t=(0,L.m9)(t))||t instanceof cd?v_(this._dataReader,"WriteBatch.update",m._key,t,o,u):y_(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(v.toMutation(m._key,Qi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xd(e,this._firestore);return this._mutations=this._mutations.concat(new Dd(t._key,Qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new on(Mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xd(i,e){if((i=(0,L.m9)(i)).firestore!==e)throw new on(Mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class dv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bh(e)}get(e){const t=Xd(e,this._firestore),o=new hy(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return On();const m=u[0];if(m.isFoundDocument())return new Lf(this._firestore,o,m.key,m,t.converter);if(m.isNoDocument())return new Lf(this._firestore,o,t._key,null,t.converter);throw On()})}set(e,t,o){const u=Xd(e,this._firestore),m=ag(u.converter,t,o),v=fm(this._dataReader,"Transaction.set",u._key,m,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,t,o,...u){const m=Xd(e,this._firestore);let v;return v="string"==typeof(t=(0,L.m9)(t))||t instanceof cd?v_(this._dataReader,"Transaction.update",m._key,t,o,u):y_(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,v),this}delete(e){const t=Xd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xd(e,this._firestore),o=new Jd(this._firestore);return super.get(e).then(u=>new Gh(this._firestore,o,t._key,u._document,new Hh(!1,!1),t.converter))}}function dg(i,e,t){i=Wr(i,Ys);const o=Object.assign(Object.assign({},uv),t);return function(u){if(u.maxAttempts<1)throw new on(Mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,m,v){const R=new ds;return u.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const Y=yield function H_(i){return Kp(i).then(e=>e.datastore)}(u);new $p(u.asyncQueue,Y,v,m,R).run()})),R.promise}(ca(i),u=>e(new dv(i,u)),o)}function hv(){return new Xp("deleteField")}function Ey(){return new __("serverTimestamp")}function fv(...i){return new zy("arrayUnion",i)}function Ty(...i){return new $y("arrayRemove",i)}function pv(i){return new Wy("increment",i)}!function(i,e=!0){Ri=l.SDK_VERSION,(0,l._registerComponent)(new V.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const m=t.getProvider("app").getImmediate(),v=new Ys(new wo(t.getProvider("auth-internal")),new Tc(t.getProvider("app-check-internal")),function(R,Y){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new on(Mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(R.options.projectId,Y)}(m,o),m);return u=Object.assign({useFetchStreams:e},u),v._setSettings(u),v},"PUBLIC").setMultipleInstances(!0)),(0,l.registerVersion)(wr,"3.11.0",i),(0,l.registerVersion)(wr,"3.11.0","esm2017")}()},2090:(dn,dt,k)=>{k.d(dt,{$s:()=>wt,BH:()=>Je,G6:()=>Nt,L:()=>Ce,LL:()=>Pt,Pz:()=>oe,Sg:()=>Le,UG:()=>Vt,US:()=>de,ZB:()=>Oe,ZR:()=>$t,aH:()=>Ae,b$:()=>Dn,eu:()=>rt,hl:()=>Zt,jU:()=>pn,m9:()=>Ni,ne:()=>En,pd:()=>Pn,r3:()=>er,ru:()=>Yt,tV:()=>X,uI:()=>Ye,vZ:()=>ft,w1:()=>It,xO:()=>An,xb:()=>ot,z$:()=>Ge,zI:()=>Bt,zd:()=>hn});const Te=function(ze){const Ue=[];let be=0;for(let De=0;De<ze.length;De++){let fe=ze.charCodeAt(De);fe<128?Ue[be++]=fe:fe<2048?(Ue[be++]=fe>>6|192,Ue[be++]=63&fe|128):55296==(64512&fe)&&De+1<ze.length&&56320==(64512&ze.charCodeAt(De+1))?(fe=65536+((1023&fe)<<10)+(1023&ze.charCodeAt(++De)),Ue[be++]=fe>>18|240,Ue[be++]=fe>>12&63|128,Ue[be++]=fe>>6&63|128,Ue[be++]=63&fe|128):(Ue[be++]=fe>>12|224,Ue[be++]=fe>>6&63|128,Ue[be++]=63&fe|128)}return Ue},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ze,Ue){if(!Array.isArray(ze))throw Error("encodeByteArray takes an array as a parameter");this.init_();const be=Ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let fe=0;fe<ze.length;fe+=3){const pt=ze[fe],Gt=fe+1<ze.length,bn=Gt?ze[fe+1]:0,$e=fe+2<ze.length,je=$e?ze[fe+2]:0;let Lt=(15&bn)<<2|je>>6,qt=63&je;$e||(qt=64,Gt||(Lt=64)),De.push(be[pt>>2],be[(3&pt)<<4|bn>>4],be[Lt],be[qt])}return De.join("")},encodeString(ze,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?btoa(ze):this.encodeByteArray(Te(ze),Ue)},decodeString(ze,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?atob(ze):function(ze){const Ue=[];let be=0,De=0;for(;be<ze.length;){const fe=ze[be++];if(fe<128)Ue[De++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const pt=ze[be++];Ue[De++]=String.fromCharCode((31&fe)<<6|63&pt)}else if(fe>239&&fe<365){const $e=((7&fe)<<18|(63&ze[be++])<<12|(63&ze[be++])<<6|63&ze[be++])-65536;Ue[De++]=String.fromCharCode(55296+($e>>10)),Ue[De++]=String.fromCharCode(56320+(1023&$e))}else{const pt=ze[be++],Gt=ze[be++];Ue[De++]=String.fromCharCode((15&fe)<<12|(63&pt)<<6|63&Gt)}}return Ue.join("")}(this.decodeStringToByteArray(ze,Ue))},decodeStringToByteArray(ze,Ue){this.init_();const be=Ue?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let fe=0;fe<ze.length;){const pt=be[ze.charAt(fe++)],bn=fe<ze.length?be[ze.charAt(fe)]:0;++fe;const je=fe<ze.length?be[ze.charAt(fe)]:64;++fe;const nt=fe<ze.length?be[ze.charAt(fe)]:64;if(++fe,null==pt||null==bn||null==je||null==nt)throw new le;De.push(pt<<2|bn>>4),64!==je&&(De.push(bn<<4&240|je>>2),64!==nt&&De.push(je<<6&192|nt))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ze=0;ze<this.ENCODED_VALS.length;ze++)this.byteToCharMap_[ze]=this.ENCODED_VALS.charAt(ze),this.charToByteMap_[this.byteToCharMap_[ze]]=ze,this.byteToCharMapWebSafe_[ze]=this.ENCODED_VALS_WEBSAFE.charAt(ze),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ze]]=ze,ze>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ze)]=ze,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ze)]=ze)}}};class le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(ze){return function(ze){const Ue=Te(ze);return de.encodeByteArray(Ue,!0)}(ze).replace(/\./g,"")},X=function(ze){try{return de.decodeString(ze,!0)}catch(Ue){console.error("base64Decode failed: ",Ue)}return null};function Oe(ze,Ue){if(!(Ue instanceof Object))return Ue;switch(Ue.constructor){case Date:return new Date(Ue.getTime());case Object:void 0===ze&&(ze={});break;case Array:ze=[];break;default:return Ue}for(const be in Ue)!Ue.hasOwnProperty(be)||!et(be)||(ze[be]=Oe(ze[be],Ue[be]));return ze}function et(ze){return"__proto__"!==ze}const it=()=>{try{return function ut(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ze=process.env.__FIREBASE_DEFAULTS__;return ze?JSON.parse(ze):void 0})()||(()=>{if(typeof document>"u")return;let ze;try{ze=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ue=ze&&X(ze[1]);return Ue&&JSON.parse(Ue)})()}catch(ze){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ze}`)}},Ae=()=>{var ze;return null===(ze=it())||void 0===ze?void 0:ze.config},oe=ze=>{var Ue;return null===(Ue=it())||void 0===Ue?void 0:Ue[`_${ze}`]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ue,be)=>{this.resolve=Ue,this.reject=be})}wrapCallback(Ue){return(be,De)=>{be?this.reject(be):this.resolve(De),"function"==typeof Ue&&(this.promise.catch(()=>{}),1===Ue.length?Ue(be):Ue(be,De))}}}function Le(ze,Ue){if(ze.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=Ue||"demo-project",fe=ze.iat||0,pt=ze.sub||ze.user_id;if(!pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:fe,exp:fe+3600,auth_time:fe,sub:pt,user_id:pt,firebase:{sign_in_provider:"custom",identities:{}}},ze);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Gt)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Vt(){var ze;const Ue=null===(ze=it())||void 0===ze?void 0:ze.forceEnvironment;if("node"===Ue)return!0;if("browser"===Ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pn(){return"object"==typeof self&&self.self===self}function Yt(){const ze="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ze&&void 0!==ze.id}function Dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function It(){const ze=Ge();return ze.indexOf("MSIE ")>=0||ze.indexOf("Trident/")>=0}function Nt(){return!Vt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zt(){try{return"object"==typeof indexedDB}catch{return!1}}function rt(){return new Promise((ze,Ue)=>{try{let be=!0;const De="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(De);fe.onsuccess=()=>{fe.result.close(),be||self.indexedDB.deleteDatabase(De),ze(!0)},fe.onupgradeneeded=()=>{be=!1},fe.onerror=()=>{var pt;Ue((null===(pt=fe.error)||void 0===pt?void 0:pt.message)||"")}}catch(be){Ue(be)}})}function Bt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $t extends Error{constructor(Ue,be,De){super(be),this.code=Ue,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(Ue,be,De){this.service=Ue,this.serviceName=be,this.errors=De}create(Ue,...be){const De=be[0]||{},fe=`${this.service}/${Ue}`,pt=this.errors[Ue],Gt=pt?function tn(ze,Ue){return ze.replace(Ht,(be,De)=>{const fe=Ue[De];return null!=fe?String(fe):`<${De}?>`})}(pt,De):"Error";return new $t(fe,`${this.serviceName}: ${Gt} (${fe}).`,De)}}const Ht=/\{\$([^}]+)}/g;function er(ze,Ue){return Object.prototype.hasOwnProperty.call(ze,Ue)}function ot(ze){for(const Ue in ze)if(Object.prototype.hasOwnProperty.call(ze,Ue))return!1;return!0}function ft(ze,Ue){if(ze===Ue)return!0;const be=Object.keys(ze),De=Object.keys(Ue);for(const fe of be){if(!De.includes(fe))return!1;const pt=ze[fe],Gt=Ue[fe];if(Ne(pt)&&Ne(Gt)){if(!ft(pt,Gt))return!1}else if(pt!==Gt)return!1}for(const fe of De)if(!be.includes(fe))return!1;return!0}function Ne(ze){return null!==ze&&"object"==typeof ze}function An(ze){const Ue=[];for(const[be,De]of Object.entries(ze))Array.isArray(De)?De.forEach(fe=>{Ue.push(encodeURIComponent(be)+"="+encodeURIComponent(fe))}):Ue.push(encodeURIComponent(be)+"="+encodeURIComponent(De));return Ue.length?"&"+Ue.join("&"):""}function hn(ze){const Ue={};return ze.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[fe,pt]=De.split("=");Ue[decodeURIComponent(fe)]=decodeURIComponent(pt)}}),Ue}function Pn(ze){const Ue=ze.indexOf("?");if(!Ue)return"";const be=ze.indexOf("#",Ue);return ze.substring(Ue,be>0?be:void 0)}function En(ze,Ue){const be=new wn(ze,Ue);return be.subscribe.bind(be)}class wn{constructor(Ue,be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=be,this.task.then(()=>{Ue(this)}).catch(De=>{this.error(De)})}next(Ue){this.forEachObserver(be=>{be.next(Ue)})}error(Ue){this.forEachObserver(be=>{be.error(Ue)}),this.close(Ue)}complete(){this.forEachObserver(Ue=>{Ue.complete()}),this.close()}subscribe(Ue,be,De){let fe;if(void 0===Ue&&void 0===be&&void 0===De)throw new Error("Missing Observer.");fe=function Oi(ze,Ue){if("object"!=typeof ze||null===ze)return!1;for(const be of Ue)if(be in ze&&"function"==typeof ze[be])return!0;return!1}(Ue,["next","error","complete"])?Ue:{next:Ue,error:be,complete:De},void 0===fe.next&&(fe.next=Yn),void 0===fe.error&&(fe.error=Yn),void 0===fe.complete&&(fe.complete=Yn);const pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),pt}unsubscribeOne(Ue){void 0===this.observers||void 0===this.observers[Ue]||(delete this.observers[Ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ue){if(!this.finalized)for(let be=0;be<this.observers.length;be++)this.sendOne(be,Ue)}sendOne(Ue,be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ue])try{be(this.observers[Ue])}catch(De){typeof console<"u"&&console.error&&console.error(De)}})}close(Ue){this.finalized||(this.finalized=!0,void 0!==Ue&&(this.finalError=Ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yn(){}function wt(ze,Ue=1e3,be=2){const De=Ue*Math.pow(be,ze),fe=Math.round(.5*De*(Math.random()-.5)*2);return Math.min(144e5,De+fe)}function Ni(ze){return ze&&ze._delegate?ze._delegate:ze}},3387:(dn,dt,k)=>{k.d(dt,{y:()=>it});var p=k(4629),l=k(6895),V=k(9300),Te=k(4004),L=k(4650),de=k(9379),le=k(1481),ie=k(6132),Ce=k(1205),X=k(3768),ce=k(1493),Oe=k(1236);const et=function(){return{width:"50vw"}};class ut{constructor(Xe){this.router=Xe,this._visible=!1,this._selectedPalette=0,this.activeIndex=0,this.items=[{label:"Aa",style:"",command:Ae=>this.IsIncresing(this.activeIndex)},{label:"Aa",styleClass:"size1Parahgraph",command:Ae=>this.IsIncresing(this.activeIndex)},{label:"Aa",styleClass:"size2Parahgraph",command:Ae=>this.IsIncresing(this.activeIndex)},{label:"Aa",styleClass:"size3Parahgraph",command:Ae=>this.IsIncresing(this.activeIndex)}],this.isClosed=new L.vpe,this.paletteSelecteed=new L.vpe,this.sizeSelected=new L.vpe}get visible(){return this._visible}set visible(Xe){this._visible=Xe}get selectedPalette(){return this._selectedPalette}set selectedPalette(Xe){this._selectedPalette=Xe}onActiveIndexChange(Xe){this.activeIndex=Xe}sendIsClosed(){this.isClosed.emit(!0)}sendPaletteSelected(Xe){this.paletteSelecteed.emit(Xe)}IsIncresing(Xe){this.sizeSelected.emit(Xe)}}function st(ge,Xe){if(1&ge){const Ae=L.EpF();L.TgZ(0,"button",32),L.NdJ("click",function(){L.CHM(Ae);const Je=L.oxw();return L.KtG(Je.redirectTo("/dashboard"))}),L._uU(1,"Log In"),L.qZA()}}function xt(ge,Xe){if(1&ge){const Ae=L.EpF();L.TgZ(0,"button",32),L.NdJ("click",function(){L.CHM(Ae);const Je=L.oxw();return L.KtG(Je.authService.SignOut())}),L._uU(1,"Log Out"),L.qZA()}}function Be(ge,Xe){if(1&ge){const Ae=L.EpF();L.TgZ(0,"button",6),L.NdJ("click",function(){L.CHM(Ae);const Je=L.oxw();return L.KtG(Je.redirectTo("/dashboard"))}),L._UZ(1,"i",33),L.qZA()}}ut.\u0275fac=function(Xe){return new(Xe||ut)(L.Y36(p.F0))},ut.\u0275cmp=L.Xpm({type:ut,selectors:[["app-settings"]],inputs:{visible:"visible",selectedPalette:"selectedPalette"},outputs:{isClosed:"isClosed",paletteSelecteed:"paletteSelecteed",sizeSelected:"sizeSelected"},decls:34,vars:13,consts:[[3,"modal","visible","draggable","resizable","visibleChange","onHide"],[1,"text-center"],[1,"p-4"],[1,"row","gap-2","p-4"],[1,"col-xl","col-md-12","card","p-3","settingCard",3,"ngClass","click"],[1,"card-title","text-center"],[1,"card-body","palette1","d-flex","align-items-center","justify-content-center"],[1,"square1"],[1,"square2"],[1,"square4"],[1,"card-body","palette3","d-flex","align-items-center","justify-content-center"],[1,"card-body","palette4","d-flex","align-items-center","justify-content-center"],[1,"d-none","d-md-block"],[1,"text-center","mt-2"],[3,"model","readonly","activeIndex","activeIndexChange"]],template:function(Xe,Ae){1&Xe&&(L.TgZ(0,"p-dialog",0),L.NdJ("visibleChange",function(Je){return Ae._visible=Je})("onHide",function(){return Ae.sendIsClosed()}),L.TgZ(1,"h5",1),L._uU(2,"Personaliza la paleta de la web acorde a tus necesidades"),L.qZA(),L.TgZ(3,"div",2)(4,"div",3)(5,"div",4),L.NdJ("click",function(){return Ae.sendPaletteSelected(2)}),L.TgZ(6,"div",5)(7,"p"),L._uU(8,"Protanopia, deuteranopia, tritanoppia"),L.qZA()(),L.TgZ(9,"div",6),L._UZ(10,"div",7)(11,"div",8)(12,"div",9),L.qZA()(),L.TgZ(13,"div",4),L.NdJ("click",function(){return Ae.sendPaletteSelected(1)}),L.TgZ(14,"div",5)(15,"p"),L._uU(16,"Achromatopsia"),L.qZA()(),L.TgZ(17,"div",10),L._UZ(18,"div",7)(19,"div",8)(20,"div",9),L.qZA()(),L.TgZ(21,"div",4),L.NdJ("click",function(){return Ae.sendPaletteSelected(0)}),L.TgZ(22,"div",5)(23,"p"),L._uU(24,"Por defecto"),L.qZA()(),L.TgZ(25,"div",11),L._UZ(26,"div",7)(27,"div",8)(28,"div",9),L.qZA()()()(),L.TgZ(29,"div",12)(30,"h5",13),L._uU(31,"Personaliza el tama\xf1o de la fuente"),L.qZA(),L.TgZ(32,"div",2)(33,"p-steps",14),L.NdJ("activeIndexChange",function(Je){return Ae.onActiveIndexChange(Je)}),L.qZA()()()()),2&Xe&&(L.Akn(L.DdM(12,et)),L.Q6J("modal",!0)("visible",Ae._visible)("draggable",!1)("resizable",!1),L.xp6(5),L.Q6J("ngClass",2===Ae._selectedPalette?"selected":""),L.xp6(8),L.Q6J("ngClass",1===Ae._selectedPalette?"selected":""),L.xp6(8),L.Q6J("ngClass",0===Ae._selectedPalette?"selected":""),L.xp6(12),L.Q6J("model",Ae.items)("readonly",!1)("activeIndex",Ae.activeIndex))},dependencies:[ce.V,l.mk,Oe.R],styles:['@import"https://fonts.googleapis.com/css2?family=Karla:wght@200;700&display=swap";@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200..900";h5[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;text-transform:uppercase;font-weight:700;letter-spacing:.2em;color:var(--app-primary-color)}.card[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d3d3d3}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:600;letter-spacing:.2em;color:#000}.selected[_ngcontent-%COMP%]{border:2px solid var(--app-primary-color)}.palette1[_ngcontent-%COMP%]{padding:1em}.palette1[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{height:30px;width:30px;border:1px solid black}.palette1[_ngcontent-%COMP%]   .square1[_ngcontent-%COMP%]{background-color:#500342}.palette1[_ngcontent-%COMP%]   .square2[_ngcontent-%COMP%]{background-color:#f3e2f1;margin-left:1em}.palette1[_ngcontent-%COMP%]   .square4[_ngcontent-%COMP%]{background-color:#efe4f3;margin-left:1em}.palette3[_ngcontent-%COMP%]{padding:1em}.palette3[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{height:30px;width:30px;border:1px solid black}.palette3[_ngcontent-%COMP%]   .square1[_ngcontent-%COMP%]{background-color:#262626}.palette3[_ngcontent-%COMP%]   .square2[_ngcontent-%COMP%]{background-color:#f3f3f3;margin-left:1em}.palette3[_ngcontent-%COMP%]   .square4[_ngcontent-%COMP%]{background-color:#e2e2e2;margin-left:1em}.palette4[_ngcontent-%COMP%]{padding:1em}.palette4[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{height:30px;width:30px;border:1px solid black}.palette4[_ngcontent-%COMP%]   .square1[_ngcontent-%COMP%]{background-color:#000036}.palette4[_ngcontent-%COMP%]   .square2[_ngcontent-%COMP%]{background-color:#e8e8e8;margin-left:1em}.palette4[_ngcontent-%COMP%]   .square4[_ngcontent-%COMP%]{background-color:#dae9f0;margin-left:1em}[_nghost-%COMP%]     div.p-element.p-dialog.p-component{top:2em}@media screen and (max-width: 1200px){[_nghost-%COMP%]     div.p-element.p-dialog.p-component{width:90vw!important}}[_nghost-%COMP%]     .p-steps .p-steps-item:before{top:40%!important}[_nghost-%COMP%]     .p-steps .p-steps-item:hover{cursor:pointer}[_nghost-%COMP%]     .p-steps .p-steps-item .p-steps-number{background-color:var(--app-secondary-color)!important;font-weight:700}[_nghost-%COMP%]     .p-steps .p-steps-item.p-highlight .p-steps-number{color:var(--app-primary-color)!important;border:2px solid var(--app-primary-color)}[_nghost-%COMP%]     .p-steps .p-steps-item .p-menuitem-link:not(.p-disabled):focus{box-shadow:none}']});class it{constructor(Xe,Ae,oe,Je,Le,Ge,Ye){this.modalService=Xe,this.router=Ae,this.titleService=oe,this.activatedRoute=Je,this.authService=Le,this.afAuth=Ge,this.document=Ye,this.title="Evaluaci\xf3n de un gr\xe1fico estad\xedstico",this.items=[],this.modalRef=null,this.visible=!1,this.paletteSelected=0,this.fontSize=16,this.size=null,this.isLogginIn=!0,this.isLoggedIn=this.authService.isLoggedInTest(),this.theme=this.document.documentElement.classList.contains(it.GRAY_THEME)?it.GRAY_THEME:this.document.documentElement.classList.contains(it.VIOLET_THEME)?it.VIOLET_THEME:it.DEFAULT_THEME}setDocTitle(Xe){this.titleService.setTitle(Xe)}ngOnInit(){this.items=[{icon:"pi pi-chart-bar",styleClass:"sizeParahgraph",command:()=>this.redirectTo("/home-page"),skipLocationChange:!1},{label:"Home",styleClass:"sizeParahgraph",command:()=>this.redirectTo("/home-page"),skipLocationChange:!1},{label:"Heur\xedsticas",styleClass:"sizeParahgraph",command:()=>this.redirectTo("/heuristics-list"),skipLocationChange:!1},{label:"Art\xedculos",styleClass:"sizeParahgraph",command:()=>this.redirectTo("/articles-list"),skipLocationChange:!1},{label:"Evalua",styleClass:"sizeParahgraph",command:()=>this.redirectTo("/evaluate"),skipLocationChange:!1}];const Xe=this.titleService.getTitle();this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.events.pipe((0,V.h)(Ae=>Ae instanceof p.m2),(0,Te.U)(()=>{const Ae=this.activatedRoute.firstChild;return Ae.snapshot.data.title?Ae.snapshot.data.title:Xe})).subscribe(Ae=>{this.titleService.setTitle(Ae)})}login(){this.isLogginIn=null,this.redirectTo("/dashboard")}logOut(){this.isLogginIn=!0,this.authService.SignOut()}openModal(){this.visible=!0}closeModal(){this.visible=!1}setPalete(Xe){this.paletteSelected=Xe,1===Xe?this.selectGrayTheme():2===Xe?this.selectVioletTheme():this.selectDefaultTheme(),this.refreshSite()}selectGrayTheme(){this.document.documentElement.classList.contains(it.VIOLET_THEME)?this.document.documentElement.classList.remove(it.VIOLET_THEME):this.document.documentElement.classList.remove(it.DEFAULT_THEME),this.document.documentElement.classList.add(it.GRAY_THEME),this.theme=it.GRAY_THEME}selectVioletTheme(){this.document.documentElement.classList.contains(it.GRAY_THEME)?this.document.documentElement.classList.remove(it.GRAY_THEME):this.document.documentElement.classList.remove(it.DEFAULT_THEME),this.document.documentElement.classList.add(it.VIOLET_THEME),this.theme=it.VIOLET_THEME}selectDefaultTheme(){this.document.documentElement.classList.contains(it.GRAY_THEME)?this.document.documentElement.classList.remove(it.GRAY_THEME):this.document.documentElement.classList.remove(it.VIOLET_THEME),this.document.documentElement.classList.add(it.DEFAULT_THEME),this.theme=it.DEFAULT_THEME}refreshSite(){var Xe=this.router.url.split("/"),Ae=Xe[Xe.length-1];"evaluate"!==Ae&&(event.preventDefault(),this.redirectTo("/"+Ae))}redirectTo(Xe){this.router.navigateByUrl("/",{skipLocationChange:!1}).then(()=>this.router.navigate([Xe]))}setSize(Xe){this.size=0===Xe?null:1===Xe?"size1":2===Xe?"size2":"size3"}}it.DEFAULT_THEME="default-theme",it.GRAY_THEME="gray-theme",it.VIOLET_THEME="violet-theme",it.\u0275fac=function(Xe){return new(Xe||it)(L.Y36(de.Bh),L.Y36(p.F0),L.Y36(le.Dx),L.Y36(p.gz),L.Y36(ie.e),L.Y36(Ce.zQ),L.Y36(l.K0))},it.\u0275cmp=L.Xpm({type:it,selectors:[["app-root"]],decls:60,vars:15,consts:[[3,"visible","selectedPalette","isClosed","sizeSelected","paletteSelecteed"],[1,"m-0","p-0"],[3,"model"],[1,"d-flex","justify-content-end","w-100"],["class","settings","btn","","btn-button","",3,"click",4,"ngIf"],["class","settings",3,"click",4,"ngIf"],[1,"settings",3,"click"],[1,"pi","pi-cog"],[1,"text-center","text-lg-start","text-muted"],[1,"border-top"],[1,"container","text-center","text-md-start","mt-3"],[1,"row","mt-3"],[1,"col-lg-4","col-12","mb-4"],["src","./assets/LOGO_ADAPTABIT-Quadrat1760x1760.png"],[1,"col-lg-8","col-12","d-flex","align-items-center","justify-content-between"],[1,"row","w-100"],[1,"col-md-6","col-sm-12"],[1,"text-uppercase","fw-bold","mb-4","titleLink"],["routerLink","/about",1,"text-reset"],["routerLink","/heuristics-list",1,"text-reset"],["routerLink","/articles-list",1,"text-reset"],["routerLink","/evaluate",1,"text-reset"],[1,"row"],[1,"col-1"],[1,"pi","pi-envelope",2,"font-size","1.5rem"],[1,"col","ms-2"],["href","mailto:adaptabit@ub.edu",1,"text-reset"],[1,"pi","pi-twitter",2,"font-size","1.5rem"],["href","https://twitter.com/GAdaptabit","target","_blank",1,"text-reset"],[1,"text-center","p-4","pb-1"],["target","_blank","href","https://www.ub.edu/adaptabit/",1,"text-reset","fw-bold"],[1,"text-center","pb-4","pt-2"],["btn","","btn-button","",1,"settings",3,"click"],[1,"pi","pi-user"]],template:function(Xe,Ae){1&Xe&&(L.TgZ(0,"div")(1,"app-settings",0),L.NdJ("isClosed",function(){return Ae.closeModal()})("sizeSelected",function(Je){return Ae.setSize(Je)})("paletteSelecteed",function(Je){return Ae.setPalete(Je)}),L.qZA(),L.TgZ(2,"div",1)(3,"p-menubar",2)(4,"div",3),L.YNc(5,st,2,0,"button",4),L.ALo(6,"async"),L.YNc(7,xt,2,0,"button",4),L.ALo(8,"async"),L.YNc(9,Be,2,0,"button",5),L.ALo(10,"async"),L.TgZ(11,"button",6),L.NdJ("click",function(){return Ae.openModal()}),L._UZ(12,"i",7),L.qZA()()(),L._UZ(13,"router-outlet"),L.TgZ(14,"footer",8)(15,"section",9)(16,"div",10)(17,"div",11)(18,"div",12),L._UZ(19,"img",13),L.qZA(),L.TgZ(20,"div",14)(21,"div",15)(22,"div",16)(23,"h6",17),L._uU(24,"Enlaces de inter\xe9s"),L.qZA(),L.TgZ(25,"p")(26,"a",18),L._uU(27,"Sobre la web"),L.qZA()(),L.TgZ(28,"p")(29,"a",19),L._uU(30,"Heur\xedsticas"),L.qZA()(),L.TgZ(31,"p")(32,"a",20),L._uU(33,"Art\xedculos"),L.qZA()(),L.TgZ(34,"p")(35,"a",21),L._uU(36,"Evalua"),L.qZA()()(),L.TgZ(37,"div",16)(38,"h6",17),L._uU(39,"Contacta con nosotros"),L.qZA(),L.TgZ(40,"div",22)(41,"div",23),L._UZ(42,"i",24),L.qZA(),L.TgZ(43,"div",25)(44,"p")(45,"a",26),L._uU(46,"adaptabit@ub.edu"),L.qZA()()()(),L.TgZ(47,"div",22)(48,"div",23),L._UZ(49,"i",27),L.qZA(),L.TgZ(50,"div",25)(51,"p")(52,"a",28),L._uU(53,"Grup Adaptabit"),L.qZA()()()()()()()()()(),L.TgZ(54,"div",29),L._uU(55," \xa9 2023 Copyright: "),L.TgZ(56,"a",30),L._uU(57,"Adaptabit"),L.qZA()(),L.TgZ(58,"div",31),L._uU(59," Desarrollo web realizado por: Nerea Cuba Aixal\xe0 "),L.qZA()()()()),2&Xe&&(L.Tol(Ae.size),L.xp6(1),L.Q6J("visible",Ae.visible)("selectedPalette",Ae.paletteSelected),L.xp6(2),L.Q6J("model",Ae.items),L.xp6(2),L.Q6J("ngIf",!L.lcZ(6,9,Ae.isLoggedIn)),L.xp6(2),L.Q6J("ngIf",L.lcZ(8,11,Ae.isLoggedIn)),L.xp6(2),L.Q6J("ngIf",L.lcZ(10,13,Ae.isLoggedIn)))},dependencies:[l.O5,p.lC,p.rH,X.nm,ut,l.Ov],styles:[".settings[_ngcontent-%COMP%]{background:none;border:none;display:flex;font-family:Karla,sans-serif;justify-content:center;line-height:23px;text-transform:uppercase;font-weight:700}footer[_ngcontent-%COMP%]{background-color:var(--app-secondary-color);margin-top:6em;position:relative;right:0;bottom:0;width:100%;z-index:2;font-family:Karla,sans-serif;line-height:23px;letter-spacing:.25em;color:var(--app-primary-color)!important}footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20em}[_nghost-%COMP%]     .p-menubar{position:sticky;position:-webkit-sticky;z-index:10000;top:0;width:100%}[_nghost-%COMP%]     div>p-menubar>div{font-family:Karla,sans-serif;background-color:var(--app-primary-color);font-style:normal;line-height:23px;border-radius:0;margin:0;padding:10;letter-spacing:.25em;text-transform:uppercase}@media screen and (max-width: 800px){[_nghost-%COMP%]     div>p-menubar>div .p-menubar-button{box-shadow:none!important}}[_nghost-%COMP%]     div>p-menubar>div p-menubarsub.p-element{width:100%}[_nghost-%COMP%]     div>p-menubar>div *{color:#e8e8e8!important}@media screen and (min-width: 961px){[_nghost-%COMP%]     div>p-menubar>div * .p-menubar-root-list{display:flex;font-weight:700;gap:3em}}@media screen and (max-width: 960px){[_nghost-%COMP%]     div>p-menubar>div * .p-menubar.p-element div.p-menubar.p-component a.p-menubar-button{box-shadow:none!important}[_nghost-%COMP%]     div>p-menubar>div * .p-menubar-root-list{color:var(--app-primary-color);background-color:var(--app-primary-color)!important;font-weight:700;border-bottom:1px solid white}[_nghost-%COMP%]     div>p-menubar>div * .p-menubar-root-list li:first-child{display:none}[_nghost-%COMP%]     div>p-menubar>div * .p-menubar-root-list:hover{background-color:var(--app-primary-color)!important}[_nghost-%COMP%]     div>p-menubar>div * .p-menubar-root-list li{border-top:1px solid white}}[_nghost-%COMP%]     div>p-menubar>div *:hover{background:none!important}[_nghost-%COMP%]     div>p-menubar>div * .pi{font-size:1.3em;font-weight:700}[_nghost-%COMP%]     div>p-menubar>div * .pi:last-child{margin:0 1em}@media screen and (max-width: 600px){[_nghost-%COMP%]     div>p-menubar>div * .pi:last-child{margin:0 1em}}[_nghost-%COMP%]     div.p-menubar-end{width:100%}[_nghost-%COMP%]     .modal-dialog{top:40%}"]})},6132:(dn,dt,k)=>{k.d(dt,{e:()=>et});var p=k(5861),l=k(8502),le=(k(2090),k(6881),k(1877),k(4859),k(1135)),ie=k(4650),Ce=k(1620),X=k(7977),ce=k(1205),Oe=k(4629);class et{constructor(st,xt,Be,it,ge){var Xe=this;this.fireStoresvc=st,this.afs=xt,this.afAuth=Be,this.router=it,this.ngZone=ge,this.isSigningUp=!1,this.isLoginSubject=new le.X(this.hasToken()),this.currentUserSubjectTest=new le.X(!localStorage.getItem("user")),this.currentUserSubject=new le.X(!localStorage.getItem("user")),this.afAuth.authState.subscribe(function(){var Ae=(0,p.Z)(function*(oe){oe&&(Xe.userData=oe,Xe.userInfo=yield Xe.getUserData(Xe.userData._delegate.email),localStorage.setItem("user",JSON.stringify(Xe.userData)),localStorage.getItem("signUp")||Xe.isLoginSubject.next(!0))});return function(oe){return Ae.apply(this,arguments)}}())}SignIn(st,xt){return localStorage.removeItem("signUp"),this.isLoginSubject.next(!0),this.afAuth.signInWithEmailAndPassword(st,xt).then(Be=>{this.SetUserData(Be.user),this.login(),this.isLoginSubject.next(!0),this.router.navigate([""]),this.afAuth.authState.subscribe(it=>{it&&this.router.navigate([""])}),this.router.navigate([""])}).catch(Be=>{window.alert(Be.message)})}hasToken(){return!!localStorage.getItem("token")}login(){localStorage.setItem("token","JWT"),this.isLoginSubject.next(!0)}logout(){this.router.navigate([""]),localStorage.removeItem("token"),this.isLoginSubject.next(!1)}SignUp(st,xt){return localStorage.setItem("signUp","0"),this.afAuth.createUserWithEmailAndPassword(st,xt).then(Be=>{this.SendVerificationMail(),this.SetUserData(Be.user)}).catch(Be=>{window.alert(Be.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(st=>st.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email"])})}ForgotPassword(st){return this.afAuth.sendPasswordResetEmail(st).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(xt=>{window.alert(xt)})}get isLoggedIn(){const st=JSON.parse(localStorage.getItem("user"));return null!==st&&!1!==st.emailVerified}isLoggedInTest(){return this.isLoginSubject.asObservable()}GoogleAuth(){return this.AuthLogin(new l.V).then(st=>{this.router.navigate([""])})}AuthLogin(st){return this.afAuth.signInWithPopup(st).then(xt=>{this.router.navigate([""]),this.SetUserData(xt.user)}).catch(xt=>{window.alert(xt)})}SetUserData(st){return this.afs.doc(`Users/${st.email}`).set({uid:st.uid,email:st.email,displayName:st.displayName,photoURL:st.photoURL,emailVerified:st.emailVerified},{merge:!0})}getUserData(st){return this.fireStoresvc.getUserByID(st)}SignOut(){return this.logout(),this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.isLoginSubject.next(!1),this.router.navigate(["sign-in"])})}redirectTo(st){this.router.navigateByUrl("/",{skipLocationChange:!1}).then(()=>this.router.navigate([st]))}}et.\u0275fac=function(st){return new(st||et)(ie.LFG(Ce.g),ie.LFG(X.ST),ie.LFG(ce.zQ),ie.LFG(Oe.F0),ie.LFG(ie.R0b))},et.\u0275prov=ie.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"})},1620:(dn,dt,k)=>{k.d(dt,{g:()=>L});var p=k(5861),l=k(2810),V=k(4650),Te=k(7977);class L{constructor(le){this.db=le}getAllUsers(){return new Promise(le=>{this.db.collection("Users").valueChanges({idField:"id"}).subscribe(ie=>le(ie))})}getUserByID(le){var ie=this;return(0,p.Z)(function*(){return(yield new Promise(X=>{ie.db.collection("Users").valueChanges({idField:"id"}).subscribe(ce=>X(ce))})).filter(X=>X.id===le)[0]})()}addNewUserIfExists(le){var ie=this;return(0,p.Z)(function*(){ie.db.collection("Users").valueChanges({idField:"id"}).subscribe(Ce=>{if(!Ce.charts)return ie.db.collection("Users").doc(le).set({charts:[]})})})()}updateUserCharts(le,ie,Ce,X){var ce=this;return(0,p.Z)(function*(){try{var Oe={formValue:ie,image:Ce,fechaCreacion:l.EK.now(),isIframe:X};return yield ce.db.collection("Users").doc(le).update({charts:(0,l.vr)(Oe)}),!1}catch{return!0}})()}deleteUserChart(le,ie){this.db.collection("Users").doc(le).update({charts:(0,l.Ab)(ie)})}}L.\u0275fac=function(le){return new(le||L)(V.LFG(Te.ST))},L.\u0275prov=V.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})},1586:(dn,dt,k)=>{var p=k(1481),l=k(4650),V=k(4629);class Te{handleError(d){/Loading chunk [\d]+ failed/.test(d.message)&&window.location.reload(),console.error(d)}}Te.\u0275fac=function(d){return new(d||Te)},Te.\u0275prov=l.Yz7({token:Te,factory:Te.\u0275fac});var L=k(6132);class de{constructor(d,s){this.authService=d,this.router=s}canActivate(d,s){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}de.\u0275fac=function(d){return new(d||de)(l.LFG(L.e),l.LFG(V.F0))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"});const le=[{path:"",redirectTo:"/home-page",pathMatch:"full",data:{title:"Evaluaci\xf3n de un gr\xe1fico estad\xedstico"}},{path:"home-page",data:{title:"Evaluaci\xf3n de un gr\xe1fico estad\xedstico"},loadChildren:()=>Promise.all([k.e(529),k.e(123),k.e(592),k.e(801)]).then(k.bind(k,4801)).then(c=>c.homeStatusModule)},{path:"articles-list",data:{title:"Art\xedculos | Evaluaci\xf3n de un gr\xe1fico estad\xedstico"},loadChildren:()=>Promise.all([k.e(529),k.e(123),k.e(592),k.e(701)]).then(k.bind(k,4701)).then(c=>c.articlesStatusModule)},{path:"heuristics-list",data:{title:"Heur\xedsticas | Evaluaci\xf3n de un gr\xe1fico estad\xedstico"},loadChildren:()=>Promise.all([k.e(529),k.e(123),k.e(372),k.e(259)]).then(k.bind(k,923)).then(c=>c.heuristicsStatusModule)},{path:"evaluate",data:{title:"Eval\xfaa | Evaluaci\xf3n de un gr\xe1fico estad\xedstico"},loadChildren:()=>Promise.all([k.e(529),k.e(123),k.e(372),k.e(218),k.e(440),k.e(592),k.e(7)]).then(k.bind(k,8007)).then(c=>c.evaluateStatusModule)},{path:"about",data:{title:"Contexto | Evaluaci\xf3n de un gr\xe1fico estad\xedstico"},loadChildren:()=>Promise.all([k.e(529),k.e(592),k.e(275)]).then(k.bind(k,8275)).then(c=>c.aboutStatusModule)},{path:"heuristic-detail",data:{title:"Evaluaci\xf3n de un gr\xe1fico estad\xedstico"},loadChildren:()=>Promise.all([k.e(529),k.e(123),k.e(372),k.e(592),k.e(774)]).then(k.bind(k,1774)).then(c=>c.heuristicsDetailStatusModule)},{path:"articles-detail",data:{title:"Evaluaci\xf3n de un gr\xe1fico estad\xedstico"},loadChildren:()=>Promise.all([k.e(529),k.e(123),k.e(372),k.e(592),k.e(705)]).then(k.bind(k,1705)).then(c=>c.articlesDetailStatusModule)},{path:"dashboard",canActivate:[de],data:{title:"Dashboard"},loadChildren:()=>Promise.all([k.e(123),k.e(372),k.e(440),k.e(923)]).then(k.bind(k,6923)).then(c=>c.dashboardStatusModule)},{path:"forgot-password",data:{title:"Contrase\xf1a olvidada"},loadChildren:()=>k.e(947).then(k.bind(k,4947)).then(c=>c.forgotPasswordStatusModule)},{path:"sign-up",data:{title:"Sign Up"},loadChildren:()=>k.e(351).then(k.bind(k,6351)).then(c=>c.signUpStatusModule)},{path:"sign-in",data:{title:"Sign In"},loadChildren:()=>k.e(50).then(k.bind(k,6050)).then(c=>c.signInStatusModule)},{path:"verify-email",data:{title:"Verifica tu correo"},loadChildren:()=>k.e(322).then(k.bind(k,9322)).then(c=>c.verifyEmailStatusModule)},{path:"evaluate-detail",canActivate:[de],data:{title:"Detalle del resultado"},loadChildren:()=>Promise.all([k.e(218),k.e(298)]).then(k.bind(k,3298)).then(c=>c.evaluateDetailStatusModule)}];class ie{}ie.\u0275fac=function(d){return new(d||ie)},ie.\u0275mod=l.oAB({type:ie}),ie.\u0275inj=l.cJS({providers:[{provide:l.qLn,useClass:Te}],imports:[V.Bz.forRoot(le,{scrollPositionRestoration:"top",useHash:!1}),V.Bz]});var Ce=k(3387),X=k(3768),ce=k(7340);function et(c){return new l.vHH(3e3,!1)}function ki(){return typeof window<"u"&&typeof window.document<"u"}function er(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ht(c){switch(c.length){case 0:return new ce.ZN;case 1:return c[0];default:return new ce.ZE(c)}}function ot(c,d,s,f,b=new Map,C=new Map){const J=[],ae=[];let _e=-1,ke=null;if(f.forEach(Qe=>{const jt=Qe.get("offset"),Wt=jt==_e,en=Wt&&ke||new Map;Qe.forEach((Sn,un)=>{let Kn=un,ti=Sn;if("offset"!==un)switch(Kn=d.normalizePropertyName(Kn,J),ti){case ce.k1:ti=b.get(un);break;case ce.l3:ti=C.get(un);break;default:ti=d.normalizeStyleValue(un,Kn,ti,J)}en.set(Kn,ti)}),Wt||ae.push(en),ke=en,_e=jt}),J.length)throw function rt(c){return new l.vHH(3502,!1)}();return ae}function Ie(c,d,s,f){switch(d){case"start":c.onStart(()=>f(s&&ft(s,"start",c)));break;case"done":c.onDone(()=>f(s&&ft(s,"done",c)));break;case"destroy":c.onDestroy(()=>f(s&&ft(s,"destroy",c)))}}function ft(c,d,s){const C=Ne(c.element,c.triggerName,c.fromState,c.toState,d||c.phaseName,s.totalTime??c.totalTime,!!s.disabled),J=c._data;return null!=J&&(C._data=J),C}function Ne(c,d,s,f,b="",C=0,J){return{element:c,triggerName:d,fromState:s,toState:f,phaseName:b,totalTime:C,disabled:!!J}}function lt(c,d,s){let f=c.get(d);return f||c.set(d,f=s),f}function An(c){const d=c.indexOf(":");return[c.substring(1,d),c.slice(d+1)]}let hn=(c,d)=>!1,Pn=(c,d,s)=>[],ai=null;function En(c){const d=c.parentNode||c.host;return d===ai?null:d}(er()||typeof Element<"u")&&(ki()?(ai=(()=>document.documentElement)(),hn=(c,d)=>{for(;d;){if(d===c)return!0;d=En(d)}return!1}):hn=(c,d)=>c.contains(d),Pn=(c,d,s)=>{if(s)return Array.from(c.querySelectorAll(d));const f=c.querySelector(d);return f?[f]:[]});let Oi=null,Yn=!1;const tr=hn,gi=Pn;let mi=(()=>{class c{validateStyleProperty(s){return function kn(c){Oi||(Oi=function Gi(){return typeof document<"u"?document.body:null}()||{},Yn=!!Oi.style&&"WebkitAppearance"in Oi.style);let d=!0;return Oi.style&&!function $n(c){return"ebkit"==c.substring(1,6)}(c)&&(d=c in Oi.style,!d&&Yn&&(d="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Oi.style)),d}(s)}matchesElement(s,f){return!1}containsElement(s,f){return tr(s,f)}getParentElement(s){return En(s)}query(s,f,b){return gi(s,f,b)}computeStyle(s,f,b){return b||""}animate(s,f,b,C,J,ae=[],_e){return new ce.ZN(b,C)}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})(),vr=(()=>{class c{}return c.NOOP=new mi,c})();const Fe="ng-enter",wt="ng-leave",an="ng-trigger",Bn=".ng-trigger",Ni="ng-animating",ze=".ng-animating";function Ue(c){if("number"==typeof c)return c;const d=c.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:be(parseFloat(d[1]),d[2])}function be(c,d){return"s"===d?1e3*c:c}function De(c,d,s){return c.hasOwnProperty("duration")?c:function fe(c,d,s){let b,C=0,J="";if("string"==typeof c){const ae=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ae)return d.push(et()),{duration:0,delay:0,easing:""};b=be(parseFloat(ae[1]),ae[2]);const _e=ae[3];null!=_e&&(C=be(parseFloat(_e),ae[4]));const ke=ae[5];ke&&(J=ke)}else b=c;if(!s){let ae=!1,_e=d.length;b<0&&(d.push(function ut(){return new l.vHH(3100,!1)}()),ae=!0),C<0&&(d.push(function st(){return new l.vHH(3101,!1)}()),ae=!0),ae&&d.splice(_e,0,et())}return{duration:b,delay:C,easing:J}}(c,d,s)}function pt(c,d={}){return Object.keys(c).forEach(s=>{d[s]=c[s]}),d}function Gt(c){const d=new Map;return Object.keys(c).forEach(s=>{d.set(s,c[s])}),d}function je(c,d=new Map,s){if(s)for(let[f,b]of s)d.set(f,b);for(let[f,b]of c)d.set(f,b);return d}function Me(c,d,s){return s?d+":"+s+";":""}function nt(c){let d="";for(let s=0;s<c.style.length;s++){const f=c.style.item(s);d+=Me(0,f,c.style.getPropertyValue(f))}for(const s in c.style)c.style.hasOwnProperty(s)&&!s.startsWith("_")&&(d+=Me(0,Mi(s),c.style[s]));c.setAttribute("style",d)}function Lt(c,d,s){c.style&&(d.forEach((f,b)=>{const C=_i(b);s&&!s.has(b)&&s.set(b,c.style[C]),c.style[C]=f}),er()&&nt(c))}function qt(c,d){c.style&&(d.forEach((s,f)=>{const b=_i(f);c.style[b]=""}),er()&&nt(c))}function Ln(c){return Array.isArray(c)?1==c.length?c[0]:(0,ce.vP)(c):c}const St=new RegExp("{{\\s*(.+?)\\s*}}","g");function Et(c){let d=[];if("string"==typeof c){let s;for(;s=St.exec(c);)d.push(s[1]);St.lastIndex=0}return d}function Xt(c,d,s){const f=c.toString(),b=f.replace(St,(C,J)=>{let ae=d[J];return null==ae&&(s.push(function Be(c){return new l.vHH(3003,!1)}()),ae=""),ae.toString()});return b==f?c:b}function Nn(c){const d=[];let s=c.next();for(;!s.done;)d.push(s.value),s=c.next();return d}const qn=/-+([a-z0-9])/g;function _i(c){return c.replace(qn,(...d)=>d[1].toUpperCase())}function Mi(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hn(c,d,s){switch(d.type){case 7:return c.visitTrigger(d,s);case 0:return c.visitState(d,s);case 1:return c.visitTransition(d,s);case 2:return c.visitSequence(d,s);case 3:return c.visitGroup(d,s);case 4:return c.visitAnimate(d,s);case 5:return c.visitKeyframes(d,s);case 6:return c.visitStyle(d,s);case 8:return c.visitReference(d,s);case 9:return c.visitAnimateChild(d,s);case 10:return c.visitAnimateRef(d,s);case 11:return c.visitQuery(d,s);case 12:return c.visitStagger(d,s);default:throw function it(c){return new l.vHH(3004,!1)}()}}function Dr(c,d){return window.getComputedStyle(c)[d]}function ys(c,d){const s=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(f=>function Pe(c,d,s){if(":"==c[0]){const _e=function Kt(c,d){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(s,f)=>parseFloat(f)>parseFloat(s);case":decrement":return(s,f)=>parseFloat(f)<parseFloat(s);default:return d.push(function At(c){return new l.vHH(3016,!1)}()),"* => *"}}(c,s);if("function"==typeof _e)return void d.push(_e);c=_e}const f=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return s.push(function It(c){return new l.vHH(3015,!1)}()),d;const b=f[1],C=f[2],J=f[3];d.push(Ze(b,J));"<"==C[0]&&!("*"==b&&"*"==J)&&d.push(Ze(J,b))}(f,s,d)):s.push(c),s}const B=new Set(["true","1"]),Se=new Set(["false","0"]);function Ze(c,d){const s=B.has(c)||Se.has(c),f=B.has(d)||Se.has(d);return(b,C)=>{let J="*"==c||c==b,ae="*"==d||d==C;return!J&&s&&"boolean"==typeof b&&(J=b?B.has(c):Se.has(c)),!ae&&f&&"boolean"==typeof C&&(ae=C?B.has(d):Se.has(d)),J&&ae}}const mn=new RegExp("s*:selfs*,?","g");function Gn(c,d,s,f){return new $i(c).build(d,s,f)}class $i{constructor(d){this._driver=d}build(d,s,f){const b=new Lr(s);return this._resetContextStyleTimingState(b),Hn(this,Ln(d),b)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,s){let f=s.queryCount=0,b=s.depCount=0;const C=[],J=[];return"@"==d.name.charAt(0)&&s.errors.push(function Xe(){return new l.vHH(3006,!1)}()),d.definitions.forEach(ae=>{if(this._resetContextStyleTimingState(s),0==ae.type){const _e=ae,ke=_e.name;ke.toString().split(/\s*,\s*/).forEach(Qe=>{_e.name=Qe,C.push(this.visitState(_e,s))}),_e.name=ke}else if(1==ae.type){const _e=this.visitTransition(ae,s);f+=_e.queryCount,b+=_e.depCount,J.push(_e)}else s.errors.push(function Ae(){return new l.vHH(3007,!1)}())}),{type:7,name:d.name,states:C,transitions:J,queryCount:f,depCount:b,options:null}}visitState(d,s){const f=this.visitStyle(d.styles,s),b=d.options&&d.options.params||null;if(f.containsDynamicStyles){const C=new Set,J=b||{};f.styles.forEach(ae=>{ae instanceof Map&&ae.forEach(_e=>{Et(_e).forEach(ke=>{J.hasOwnProperty(ke)||C.add(ke)})})}),C.size&&(Nn(C.values()),s.errors.push(function oe(c,d){return new l.vHH(3008,!1)}()))}return{type:0,name:d.name,style:f,options:b?{params:b}:null}}visitTransition(d,s){s.queryCount=0,s.depCount=0;const f=Hn(this,Ln(d.animation),s);return{type:1,matchers:ys(d.expr,s.errors),animation:f,queryCount:s.queryCount,depCount:s.depCount,options:Cr(d.options)}}visitSequence(d,s){return{type:2,steps:d.steps.map(f=>Hn(this,f,s)),options:Cr(d.options)}}visitGroup(d,s){const f=s.currentTime;let b=0;const C=d.steps.map(J=>{s.currentTime=f;const ae=Hn(this,J,s);return b=Math.max(b,s.currentTime),ae});return s.currentTime=b,{type:3,steps:C,options:Cr(d.options)}}visitAnimate(d,s){const f=function Hs(c,d){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return ii(De(c,d).duration,0,"");const s=c;if(s.split(/\s+/).some(C=>"{"==C.charAt(0)&&"{"==C.charAt(1))){const C=ii(0,0,"");return C.dynamic=!0,C.strValue=s,C}const b=De(s,d);return ii(b.duration,b.delay,b.easing)}(d.timings,s.errors);s.currentAnimateTimings=f;let b,C=d.styles?d.styles:(0,ce.oB)({});if(5==C.type)b=this.visitKeyframes(C,s);else{let J=d.styles,ae=!1;if(!J){ae=!0;const ke={};f.easing&&(ke.easing=f.easing),J=(0,ce.oB)(ke)}s.currentTime+=f.duration+f.delay;const _e=this.visitStyle(J,s);_e.isEmptyStep=ae,b=_e}return s.currentAnimateTimings=null,{type:4,timings:f,style:b,options:null}}visitStyle(d,s){const f=this._makeStyleAst(d,s);return this._validateStyleAst(f,s),f}_makeStyleAst(d,s){const f=[],b=Array.isArray(d.styles)?d.styles:[d.styles];for(let ae of b)"string"==typeof ae?ae===ce.l3?f.push(ae):s.errors.push(new l.vHH(3002,!1)):f.push(Gt(ae));let C=!1,J=null;return f.forEach(ae=>{if(ae instanceof Map&&(ae.has("easing")&&(J=ae.get("easing"),ae.delete("easing")),!C))for(let _e of ae.values())if(_e.toString().indexOf("{{")>=0){C=!0;break}}),{type:6,styles:f,easing:J,offset:d.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(d,s){const f=s.currentAnimateTimings;let b=s.currentTime,C=s.currentTime;f&&C>0&&(C-=f.duration+f.delay),d.styles.forEach(J=>{"string"!=typeof J&&J.forEach((ae,_e)=>{const ke=s.collectedStyles.get(s.currentQuerySelector),Qe=ke.get(_e);let jt=!0;Qe&&(C!=b&&C>=Qe.startTime&&b<=Qe.endTime&&(s.errors.push(function Ge(c,d,s,f,b){return new l.vHH(3010,!1)}()),jt=!1),C=Qe.startTime),jt&&ke.set(_e,{startTime:C,endTime:b}),s.options&&function xi(c,d,s){const f=d.params||{},b=Et(c);b.length&&b.forEach(C=>{f.hasOwnProperty(C)||s.push(function xt(c){return new l.vHH(3001,!1)}())})}(ae,s.options,s.errors)})})}visitKeyframes(d,s){const f={type:5,styles:[],options:null};if(!s.currentAnimateTimings)return s.errors.push(function Ye(){return new l.vHH(3011,!1)}()),f;let C=0;const J=[];let ae=!1,_e=!1,ke=0;const Qe=d.steps.map(ti=>{const yi=this._makeStyleAst(ti,s);let Ji=null!=yi.offset?yi.offset:function Ar(c){if("string"==typeof c)return null;let d=null;if(Array.isArray(c))c.forEach(s=>{if(s instanceof Map&&s.has("offset")){const f=s;d=parseFloat(f.get("offset")),f.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const s=c;d=parseFloat(s.get("offset")),s.delete("offset")}return d}(yi.styles),Ci=0;return null!=Ji&&(C++,Ci=yi.offset=Ji),_e=_e||Ci<0||Ci>1,ae=ae||Ci<ke,ke=Ci,J.push(Ci),yi});_e&&s.errors.push(function Vt(){return new l.vHH(3012,!1)}()),ae&&s.errors.push(function pn(){return new l.vHH(3200,!1)}());const jt=d.steps.length;let Wt=0;C>0&&C<jt?s.errors.push(function Yt(){return new l.vHH(3202,!1)}()):0==C&&(Wt=1/(jt-1));const en=jt-1,Sn=s.currentTime,un=s.currentAnimateTimings,Kn=un.duration;return Qe.forEach((ti,yi)=>{const Ji=Wt>0?yi==en?1:Wt*yi:J[yi],Ci=Ji*Kn;s.currentTime=Sn+un.delay+Ci,un.duration=Ci,this._validateStyleAst(ti,s),ti.offset=Ji,f.styles.push(ti)}),f}visitReference(d,s){return{type:8,animation:Hn(this,Ln(d.animation),s),options:Cr(d.options)}}visitAnimateChild(d,s){return s.depCount++,{type:9,options:Cr(d.options)}}visitAnimateRef(d,s){return{type:10,animation:this.visitReference(d.animation,s),options:Cr(d.options)}}visitQuery(d,s){const f=s.currentQuerySelector,b=d.options||{};s.queryCount++,s.currentQuery=d;const[C,J]=function wi(c){const d=!!c.split(/\s*,\s*/).find(s=>":self"==s);return d&&(c=c.replace(mn,"")),c=c.replace(/@\*/g,Bn).replace(/@\w+/g,s=>Bn+"-"+s.slice(1)).replace(/:animating/g,ze),[c,d]}(d.selector);s.currentQuerySelector=f.length?f+" "+C:C,lt(s.collectedStyles,s.currentQuerySelector,new Map);const ae=Hn(this,Ln(d.animation),s);return s.currentQuery=null,s.currentQuerySelector=f,{type:11,selector:C,limit:b.limit||0,optional:!!b.optional,includeSelf:J,animation:ae,originalSelector:d.selector,options:Cr(d.options)}}visitStagger(d,s){s.currentQuery||s.errors.push(function Dn(){return new l.vHH(3013,!1)}());const f="full"===d.timings?{duration:0,delay:0,easing:"full"}:De(d.timings,s.errors,!0);return{type:12,animation:Hn(this,Ln(d.animation),s),timings:f,options:null}}}class Lr{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cr(c){return c?(c=pt(c)).params&&(c.params=function Hr(c){return c?pt(c):null}(c.params)):c={},c}function ii(c,d,s){return{duration:c,delay:d,easing:s}}function cr(c,d,s,f,b,C,J=null,ae=!1){return{type:1,element:c,keyframes:d,preStyleProps:s,postStyleProps:f,duration:b,delay:C,totalTime:b+C,easing:J,subTimeline:ae}}class Sr{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,s){let f=this._map.get(d);f||this._map.set(d,f=[]),f.push(...s)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const vt=new RegExp(":enter","g"),rn=new RegExp(":leave","g");function ci(c,d,s,f,b,C=new Map,J=new Map,ae,_e,ke=[]){return(new Ei).buildKeyframes(c,d,s,f,b,C,J,ae,_e,ke)}class Ei{buildKeyframes(d,s,f,b,C,J,ae,_e,ke,Qe=[]){ke=ke||new Sr;const jt=new ji(d,s,ke,b,C,Qe,[]);jt.options=_e;const Wt=_e.delay?Ue(_e.delay):0;jt.currentTimeline.delayNextStep(Wt),jt.currentTimeline.setStyles([J],null,jt.errors,_e),Hn(this,f,jt);const en=jt.timelines.filter(Sn=>Sn.containsAnimation());if(en.length&&ae.size){let Sn;for(let un=en.length-1;un>=0;un--){const Kn=en[un];if(Kn.element===s){Sn=Kn;break}}Sn&&!Sn.allowOnlyTimelineStyles()&&Sn.setStyles([ae],null,jt.errors,_e)}return en.length?en.map(Sn=>Sn.buildKeyframes()):[cr(s,[],[],[],0,Wt,"",!1)]}visitTrigger(d,s){}visitState(d,s){}visitTransition(d,s){}visitAnimateChild(d,s){const f=s.subInstructions.get(s.element);if(f){const b=s.createSubContext(d.options),C=s.currentTimeline.currentTime,J=this._visitSubInstructions(f,b,b.options);C!=J&&s.transformIntoNewTimeline(J)}s.previousNode=d}visitAnimateRef(d,s){const f=s.createSubContext(d.options);f.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],s,f),this.visitReference(d.animation,f),s.transformIntoNewTimeline(f.currentTimeline.currentTime),s.previousNode=d}_applyAnimationRefDelays(d,s,f){for(const b of d){const C=b?.delay;if(C){const J="number"==typeof C?C:Ue(Xt(C,b?.params??{},s.errors));f.delayNextStep(J)}}}_visitSubInstructions(d,s,f){let C=s.currentTimeline.currentTime;const J=null!=f.duration?Ue(f.duration):null,ae=null!=f.delay?Ue(f.delay):null;return 0!==J&&d.forEach(_e=>{const ke=s.appendInstructionToTimeline(_e,J,ae);C=Math.max(C,ke.duration+ke.delay)}),C}visitReference(d,s){s.updateOptions(d.options,!0),Hn(this,d.animation,s),s.previousNode=d}visitSequence(d,s){const f=s.subContextCount;let b=s;const C=d.options;if(C&&(C.params||C.delay)&&(b=s.createSubContext(C),b.transformIntoNewTimeline(),null!=C.delay)){6==b.previousNode.type&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=Di);const J=Ue(C.delay);b.delayNextStep(J)}d.steps.length&&(d.steps.forEach(J=>Hn(this,J,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>f&&b.transformIntoNewTimeline()),s.previousNode=d}visitGroup(d,s){const f=[];let b=s.currentTimeline.currentTime;const C=d.options&&d.options.delay?Ue(d.options.delay):0;d.steps.forEach(J=>{const ae=s.createSubContext(d.options);C&&ae.delayNextStep(C),Hn(this,J,ae),b=Math.max(b,ae.currentTimeline.currentTime),f.push(ae.currentTimeline)}),f.forEach(J=>s.currentTimeline.mergeTimelineCollectedStyles(J)),s.transformIntoNewTimeline(b),s.previousNode=d}_visitTiming(d,s){if(d.dynamic){const f=d.strValue;return De(s.params?Xt(f,s.params,s.errors):f,s.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,s){const f=s.currentAnimateTimings=this._visitTiming(d.timings,s),b=s.currentTimeline;f.delay&&(s.incrementTime(f.delay),b.snapshotCurrentStyles());const C=d.style;5==C.type?this.visitKeyframes(C,s):(s.incrementTime(f.duration),this.visitStyle(C,s),b.applyStylesToKeyframe()),s.currentAnimateTimings=null,s.previousNode=d}visitStyle(d,s){const f=s.currentTimeline,b=s.currentAnimateTimings;!b&&f.hasCurrentStyleProperties()&&f.forwardFrame();const C=b&&b.easing||d.easing;d.isEmptyStep?f.applyEmptyStep(C):f.setStyles(d.styles,C,s.errors,s.options),s.previousNode=d}visitKeyframes(d,s){const f=s.currentAnimateTimings,b=s.currentTimeline.duration,C=f.duration,ae=s.createSubContext().currentTimeline;ae.easing=f.easing,d.styles.forEach(_e=>{ae.forwardTime((_e.offset||0)*C),ae.setStyles(_e.styles,_e.easing,s.errors,s.options),ae.applyStylesToKeyframe()}),s.currentTimeline.mergeTimelineCollectedStyles(ae),s.transformIntoNewTimeline(b+C),s.previousNode=d}visitQuery(d,s){const f=s.currentTimeline.currentTime,b=d.options||{},C=b.delay?Ue(b.delay):0;C&&(6===s.previousNode.type||0==f&&s.currentTimeline.hasCurrentStyleProperties())&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Di);let J=f;const ae=s.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!b.optional,s.errors);s.currentQueryTotal=ae.length;let _e=null;ae.forEach((ke,Qe)=>{s.currentQueryIndex=Qe;const jt=s.createSubContext(d.options,ke);C&&jt.delayNextStep(C),ke===s.element&&(_e=jt.currentTimeline),Hn(this,d.animation,jt),jt.currentTimeline.applyStylesToKeyframe(),J=Math.max(J,jt.currentTimeline.currentTime)}),s.currentQueryIndex=0,s.currentQueryTotal=0,s.transformIntoNewTimeline(J),_e&&(s.currentTimeline.mergeTimelineCollectedStyles(_e),s.currentTimeline.snapshotCurrentStyles()),s.previousNode=d}visitStagger(d,s){const f=s.parentContext,b=s.currentTimeline,C=d.timings,J=Math.abs(C.duration),ae=J*(s.currentQueryTotal-1);let _e=J*s.currentQueryIndex;switch(C.duration<0?"reverse":C.easing){case"reverse":_e=ae-_e;break;case"full":_e=f.currentStaggerTime}const Qe=s.currentTimeline;_e&&Qe.delayNextStep(_e);const jt=Qe.currentTime;Hn(this,d.animation,s),s.previousNode=d,f.currentStaggerTime=b.currentTime-jt+(b.startTime-f.currentTimeline.startTime)}}const Di={};class ji{constructor(d,s,f,b,C,J,ae,_e){this._driver=d,this.element=s,this.subInstructions=f,this._enterClassName=b,this._leaveClassName=C,this.errors=J,this.timelines=ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Di,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_e||new Xr(this._driver,s,0),ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,s){if(!d)return;const f=d;let b=this.options;null!=f.duration&&(b.duration=Ue(f.duration)),null!=f.delay&&(b.delay=Ue(f.delay));const C=f.params;if(C){let J=b.params;J||(J=this.options.params={}),Object.keys(C).forEach(ae=>{(!s||!J.hasOwnProperty(ae))&&(J[ae]=Xt(C[ae],J,this.errors))})}}_copyOptions(){const d={};if(this.options){const s=this.options.params;if(s){const f=d.params={};Object.keys(s).forEach(b=>{f[b]=s[b]})}}return d}createSubContext(d=null,s,f){const b=s||this.element,C=new ji(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,f||0));return C.previousNode=this.previousNode,C.currentAnimateTimings=this.currentAnimateTimings,C.options=this._copyOptions(),C.updateOptions(d),C.currentQueryIndex=this.currentQueryIndex,C.currentQueryTotal=this.currentQueryTotal,C.parentContext=this,this.subContextCount++,C}transformIntoNewTimeline(d){return this.previousNode=Di,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,s,f){const b={duration:s??d.duration,delay:this.currentTimeline.currentTime+(f??0)+d.delay,easing:""},C=new us(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,b,d.stretchStartingKeyframe);return this.timelines.push(C),b}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,s,f,b,C,J){let ae=[];if(b&&ae.push(this.element),d.length>0){d=(d=d.replace(vt,"."+this._enterClassName)).replace(rn,"."+this._leaveClassName);let ke=this._driver.query(this.element,d,1!=f);0!==f&&(ke=f<0?ke.slice(ke.length+f,ke.length):ke.slice(0,f)),ae.push(...ke)}return!C&&0==ae.length&&J.push(function ln(c){return new l.vHH(3014,!1)}()),ae}}class Xr{constructor(d,s,f,b){this._driver=d,this.element=s,this.startTime=f,this._elementTimelineStylesLookup=b,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(s),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(s,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const s=1===this._keyframes.size&&this._pendingStyles.size;this.duration||s?(this.forwardTime(this.currentTime+d),s&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,s){return this.applyStylesToKeyframe(),new Xr(this._driver,d,s||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,s){this._localTimelineStyles.set(d,s),this._globalTimelineStyles.set(d,s),this._styleSummary.set(d,{time:this.currentTime,value:s})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[s,f]of this._globalTimelineStyles)this._backFill.set(s,f||ce.l3),this._currentKeyframe.set(s,ce.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,s,f,b){s&&this._previousKeyframe.set("easing",s);const C=b&&b.params||{},J=function qs(c,d){const s=new Map;let f;return c.forEach(b=>{if("*"===b){f=f||d.keys();for(let C of f)s.set(C,ce.l3)}else je(b,s)}),s}(d,this._globalTimelineStyles);for(let[ae,_e]of J){const ke=Xt(_e,C,f);this._pendingStyles.set(ae,ke),this._localTimelineStyles.has(ae)||this._backFill.set(ae,this._globalTimelineStyles.get(ae)??ce.l3),this._updateStyle(ae,ke)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,s)=>{this._currentKeyframe.set(s,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,s)=>{this._currentKeyframe.has(s)||this._currentKeyframe.set(s,d)}))}snapshotCurrentStyles(){for(let[d,s]of this._localTimelineStyles)this._pendingStyles.set(d,s),this._updateStyle(d,s)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let s in this._currentKeyframe)d.push(s);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((s,f)=>{const b=this._styleSummary.get(f);(!b||s.time>b.time)&&this._updateStyle(f,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,s=new Set,f=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((ae,_e)=>{const ke=je(ae,new Map,this._backFill);ke.forEach((Qe,jt)=>{Qe===ce.k1?d.add(jt):Qe===ce.l3&&s.add(jt)}),f||ke.set("offset",_e/this.duration),b.push(ke)});const C=d.size?Nn(d.values()):[],J=s.size?Nn(s.values()):[];if(f){const ae=b[0],_e=new Map(ae);ae.set("offset",0),_e.set("offset",1),b=[ae,_e]}return cr(this.element,b,C,J,this.duration,this.startTime,this.easing,!1)}}class us extends Xr{constructor(d,s,f,b,C,J,ae=!1){super(d,s,J.delay),this.keyframes=f,this.preStyleProps=b,this.postStyleProps=C,this._stretchStartingKeyframe=ae,this.timings={duration:J.duration,delay:J.delay,easing:J.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:s,duration:f,easing:b}=this.timings;if(this._stretchStartingKeyframe&&s){const C=[],J=f+s,ae=s/J,_e=je(d[0]);_e.set("offset",0),C.push(_e);const ke=je(d[0]);ke.set("offset",nr(ae)),C.push(ke);const Qe=d.length-1;for(let jt=1;jt<=Qe;jt++){let Wt=je(d[jt]);const en=Wt.get("offset");Wt.set("offset",nr((s+en*f)/J)),C.push(Wt)}f=J,s=0,b="",d=C}return cr(this.element,d,this.preStyleProps,this.postStyleProps,f,s,b,!0)}}function nr(c,d=3){const s=Math.pow(10,d-1);return Math.round(c*s)/s}class uo{}const dl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Oo extends uo{normalizePropertyName(d,s){return _i(d)}normalizeStyleValue(d,s,f,b){let C="";const J=f.toString().trim();if(dl.has(s)&&0!==f&&"0"!==f)if("number"==typeof f)C="px";else{const ae=f.match(/^[+-]?[\d\.]+([a-z]*)$/);ae&&0==ae[1].length&&b.push(function ge(c,d){return new l.vHH(3005,!1)}())}return J+C}}function Mo(c,d,s,f,b,C,J,ae,_e,ke,Qe,jt,Wt){return{type:0,element:c,triggerName:d,isRemovalTransition:b,fromState:s,fromStyles:C,toState:f,toStyles:J,timelines:ae,queriedElements:_e,preStyleProps:ke,postStyleProps:Qe,totalTime:jt,errors:Wt}}const Ia={};class Aa{constructor(d,s,f){this._triggerName=d,this.ast=s,this._stateStyles=f}match(d,s,f,b){return function Oa(c,d,s,f,b){return c.some(C=>C(d,s,f,b))}(this.ast.matchers,d,s,f,b)}buildStyles(d,s,f){let b=this._stateStyles.get("*");return void 0!==d&&(b=this._stateStyles.get(d?.toString())||b),b?b.buildStyles(s,f):new Map}build(d,s,f,b,C,J,ae,_e,ke,Qe){const jt=[],Wt=this.ast.options&&this.ast.options.params||Ia,Sn=this.buildStyles(f,ae&&ae.params||Ia,jt),un=_e&&_e.params||Ia,Kn=this.buildStyles(b,un,jt),ti=new Set,yi=new Map,Ji=new Map,Ci="void"===b,Zi={params:vl(un,Wt),delay:this.ast.options?.delay},Hi=Qe?[]:ci(d,s,this.ast.animation,C,J,Sn,Kn,Zi,ke,jt);let Yi=0;if(Hi.forEach($r=>{Yi=Math.max($r.duration+$r.delay,Yi)}),jt.length)return Mo(s,this._triggerName,f,b,Ci,Sn,Kn,[],[],yi,Ji,Yi,jt);Hi.forEach($r=>{const is=$r.element,Us=lt(yi,is,new Set);$r.preStyleProps.forEach(as=>Us.add(as));const Ko=lt(Ji,is,new Set);$r.postStyleProps.forEach(as=>Ko.add(as)),is!==s&&ti.add(is)});const Xi=Nn(ti.values());return Mo(s,this._triggerName,f,b,Ci,Sn,Kn,Hi,Xi,yi,Ji,Yi)}}function vl(c,d){const s=pt(d);for(const f in c)c.hasOwnProperty(f)&&null!=c[f]&&(s[f]=c[f]);return s}class ua{constructor(d,s,f){this.styles=d,this.defaultParams=s,this.normalizer=f}buildStyles(d,s){const f=new Map,b=pt(this.defaultParams);return Object.keys(d).forEach(C=>{const J=d[C];null!==J&&(b[C]=J)}),this.styles.styles.forEach(C=>{"string"!=typeof C&&C.forEach((J,ae)=>{J&&(J=Xt(J,b,s));const _e=this.normalizer.normalizePropertyName(ae,s);J=this.normalizer.normalizeStyleValue(ae,_e,J,s),f.set(ae,J)})}),f}}class js{constructor(d,s,f){this.name=d,this.ast=s,this._normalizer=f,this.transitionFactories=[],this.states=new Map,s.states.forEach(b=>{this.states.set(b.name,new ua(b.style,b.options&&b.options.params||{},f))}),No(this.states,"true","1"),No(this.states,"false","0"),s.transitions.forEach(b=>{this.transitionFactories.push(new Aa(d,b,this.states))}),this.fallbackTransition=function Ma(c,d,s){return new Aa(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(J,ae)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,s,f,b){return this.transitionFactories.find(J=>J.match(d,s,f,b))||null}matchStyles(d,s,f){return this.fallbackTransition.buildStyles(d,s,f)}}function No(c,d,s){c.has(d)?c.has(s)||c.set(s,c.get(d)):c.has(s)&&c.set(d,c.get(s))}const da=new Sr;class Qo{constructor(d,s,f){this.bodyNode=d,this._driver=s,this._normalizer=f,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,s){const f=[],C=Gn(this._driver,s,f,[]);if(f.length)throw function Bt(c){return new l.vHH(3503,!1)}();this._animations.set(d,C)}_buildPlayer(d,s,f){const b=d.element,C=ot(0,this._normalizer,0,d.keyframes,s,f);return this._driver.animate(b,C,d.duration,d.delay,d.easing,[],!0)}create(d,s,f={}){const b=[],C=this._animations.get(d);let J;const ae=new Map;if(C?(J=ci(this._driver,s,C,Fe,wt,new Map,new Map,f,da,b),J.forEach(Qe=>{const jt=lt(ae,Qe.element,new Map);Qe.postStyleProps.forEach(Wt=>jt.set(Wt,null))})):(b.push(function Re(){return new l.vHH(3300,!1)}()),J=[]),b.length)throw function $t(c){return new l.vHH(3504,!1)}();ae.forEach((Qe,jt)=>{Qe.forEach((Wt,en)=>{Qe.set(en,this._driver.computeStyle(jt,en,ce.l3))})});const ke=ht(J.map(Qe=>{const jt=ae.get(Qe.element);return this._buildPlayer(Qe,new Map,jt)}));return this._playersById.set(d,ke),ke.onDestroy(()=>this.destroy(d)),this.players.push(ke),ke}destroy(d){const s=this._getPlayer(d);s.destroy(),this._playersById.delete(d);const f=this.players.indexOf(s);f>=0&&this.players.splice(f,1)}_getPlayer(d){const s=this._playersById.get(d);if(!s)throw function Pt(c){return new l.vHH(3301,!1)}();return s}listen(d,s,f,b){const C=Ne(s,"","","");return Ie(this._getPlayer(d),f,C,b),()=>{}}command(d,s,f,b){if("register"==f)return void this.register(d,b[0]);if("create"==f)return void this.create(d,s,b[0]||{});const C=this._getPlayer(d);switch(f){case"play":C.play();break;case"pause":C.pause();break;case"reset":C.reset();break;case"restart":C.restart();break;case"finish":C.finish();break;case"init":C.init();break;case"setPosition":C.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(d)}}}const vo="ng-animate-queued",Ds="ng-animate-disabled",hl=[],xs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ho={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Is="__ng_removed";class Ka{get params(){return this.options.params}constructor(d,s=""){this.namespaceId=s;const f=d&&d.hasOwnProperty("value");if(this.value=function fo(c){return c??null}(f?d.value:d),f){const C=pt(d);delete C.value,this.options=C}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const s=d.params;if(s){const f=this.options.params;Object.keys(s).forEach(b=>{null==f[b]&&(f[b]=s[b])})}}}const xo="void",Ro=new Ka(xo);class kr{constructor(d,s,f){this.id=d,this.hostElement=s,this._engine=f,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,gr(s,this._hostClassName)}listen(d,s,f,b){if(!this._triggers.has(s))throw function tn(c,d){return new l.vHH(3302,!1)}();if(null==f||0==f.length)throw function Ht(c){return new l.vHH(3303,!1)}();if(!function Yr(c){return"start"==c||"done"==c}(f))throw function Fn(c,d){return new l.vHH(3400,!1)}();const C=lt(this._elementListeners,d,[]),J={name:s,phase:f,callback:b};C.push(J);const ae=lt(this._engine.statesByElement,d,new Map);return ae.has(s)||(gr(d,an),gr(d,an+"-"+s),ae.set(s,Ro)),()=>{this._engine.afterFlush(()=>{const _e=C.indexOf(J);_e>=0&&C.splice(_e,1),this._triggers.has(s)||ae.delete(s)})}}register(d,s){return!this._triggers.has(d)&&(this._triggers.set(d,s),!0)}_getTrigger(d){const s=this._triggers.get(d);if(!s)throw function Jn(c){return new l.vHH(3401,!1)}();return s}trigger(d,s,f,b=!0){const C=this._getTrigger(s),J=new zs(this.id,s,d);let ae=this._engine.statesByElement.get(d);ae||(gr(d,an),gr(d,an+"-"+s),this._engine.statesByElement.set(d,ae=new Map));let _e=ae.get(s);const ke=new Ka(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&_e&&ke.absorbOptions(_e.options),ae.set(s,ke),_e||(_e=Ro),ke.value!==xo&&_e.value===ke.value){if(!function po(c,d){const s=Object.keys(c),f=Object.keys(d);if(s.length!=f.length)return!1;for(let b=0;b<s.length;b++){const C=s[b];if(!d.hasOwnProperty(C)||c[C]!==d[C])return!1}return!0}(_e.params,ke.params)){const un=[],Kn=C.matchStyles(_e.value,_e.params,un),ti=C.matchStyles(ke.value,ke.params,un);un.length?this._engine.reportError(un):this._engine.afterFlush(()=>{qt(d,Kn),Lt(d,ti)})}return}const Wt=lt(this._engine.playersByElement,d,[]);Wt.forEach(un=>{un.namespaceId==this.id&&un.triggerName==s&&un.queued&&un.destroy()});let en=C.matchTransition(_e.value,ke.value,d,ke.params),Sn=!1;if(!en){if(!b)return;en=C.fallbackTransition,Sn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:s,transition:en,fromState:_e,toState:ke,player:J,isFallbackTransition:Sn}),Sn||(gr(d,vo),J.onStart(()=>{As(d,vo)})),J.onDone(()=>{let un=this.players.indexOf(J);un>=0&&this.players.splice(un,1);const Kn=this._engine.playersByElement.get(d);if(Kn){let ti=Kn.indexOf(J);ti>=0&&Kn.splice(ti,1)}}),this.players.push(J),Wt.push(J),J}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(s=>s.delete(d)),this._elementListeners.forEach((s,f)=>{this._elementListeners.set(f,s.filter(b=>b.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const s=this._engine.playersByElement.get(d);s&&(s.forEach(f=>f.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,s){const f=this._engine.driver.query(d,Bn,!0);f.forEach(b=>{if(b[Is])return;const C=this._engine.fetchNamespacesByElement(b);C.size?C.forEach(J=>J.triggerLeaveAnimation(b,s,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(d,s,f,b){const C=this._engine.statesByElement.get(d),J=new Map;if(C){const ae=[];if(C.forEach((_e,ke)=>{if(J.set(ke,_e.value),this._triggers.has(ke)){const Qe=this.trigger(d,ke,xo,b);Qe&&ae.push(Qe)}}),ae.length)return this._engine.markElementAsRemoved(this.id,d,!0,s,J),f&&ht(ae).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const s=this._elementListeners.get(d),f=this._engine.statesByElement.get(d);if(s&&f){const b=new Set;s.forEach(C=>{const J=C.name;if(b.has(J))return;b.add(J);const _e=this._triggers.get(J).fallbackTransition,ke=f.get(J)||Ro,Qe=new Ka(xo),jt=new zs(this.id,J,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:J,transition:_e,fromState:ke,toState:Qe,player:jt,isFallbackTransition:!0})})}}removeNode(d,s){const f=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,s),this.triggerLeaveAnimation(d,s,!0))return;let b=!1;if(f.totalAnimations){const C=f.players.length?f.playersByQueriedElement.get(d):[];if(C&&C.length)b=!0;else{let J=d;for(;J=J.parentNode;)if(f.statesByElement.get(J)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(d),b)f.markElementAsRemoved(this.id,d,!1,s);else{const C=d[Is];(!C||C===xs)&&(f.afterFlush(()=>this.clearElementCache(d)),f.destroyInnerAnimations(d),f._onRemovalComplete(d,s))}}insertNode(d,s){gr(d,this._hostClassName)}drainQueuedTransitions(d){const s=[];return this._queue.forEach(f=>{const b=f.player;if(b.destroyed)return;const C=f.element,J=this._elementListeners.get(C);J&&J.forEach(ae=>{if(ae.name==f.triggerName){const _e=Ne(C,f.triggerName,f.fromState.value,f.toState.value);_e._data=d,Ie(f.player,ae.phase,_e,ae.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):s.push(f)}),this._queue=[],s.sort((f,b)=>{const C=f.transition.ast.depCount,J=b.transition.ast.depCount;return 0==C||0==J?C-J:this._engine.driver.containsElement(f.element,b.element)?1:-1})}destroy(d){this.players.forEach(s=>s.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}elementContainsData(d){let s=!1;return this._elementListeners.has(d)&&(s=!0),s=!!this._queue.find(f=>f.element===d)||s,s}}class Po{_onRemovalComplete(d,s){this.onRemovalComplete(d,s)}constructor(d,s,f){this.bodyNode=d,this.driver=s,this._normalizer=f,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(b,C)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(s=>{s.players.forEach(f=>{f.queued&&d.push(f)})}),d}createNamespace(d,s){const f=new kr(d,s,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,s)?this._balanceNamespaceList(f,s):(this.newHostElements.set(s,f),this.collectEnterElement(s)),this._namespaceLookup[d]=f}_balanceNamespaceList(d,s){const f=this._namespaceList,b=this.namespacesByHostElement;if(f.length-1>=0){let J=!1,ae=this.driver.getParentElement(s);for(;ae;){const _e=b.get(ae);if(_e){const ke=f.indexOf(_e);f.splice(ke+1,0,d),J=!0;break}ae=this.driver.getParentElement(ae)}J||f.unshift(d)}else f.push(d);return b.set(s,d),d}register(d,s){let f=this._namespaceLookup[d];return f||(f=this.createNamespace(d,s)),f}registerTrigger(d,s,f){let b=this._namespaceLookup[d];b&&b.register(s,f)&&this.totalAnimations++}destroy(d,s){if(!d)return;const f=this._fetchNamespace(d);this.afterFlush(()=>{this.namespacesByHostElement.delete(f.hostElement),delete this._namespaceLookup[d];const b=this._namespaceList.indexOf(f);b>=0&&this._namespaceList.splice(b,1)}),this.afterFlushAnimationsDone(()=>f.destroy(s))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const s=new Set,f=this.statesByElement.get(d);if(f)for(let b of f.values())if(b.namespaceId){const C=this._fetchNamespace(b.namespaceId);C&&s.add(C)}return s}trigger(d,s,f,b){if(jr(s)){const C=this._fetchNamespace(d);if(C)return C.trigger(s,f,b),!0}return!1}insertNode(d,s,f,b){if(!jr(s))return;const C=s[Is];if(C&&C.setForRemoval){C.setForRemoval=!1,C.setForMove=!0;const J=this.collectedLeaveElements.indexOf(s);J>=0&&this.collectedLeaveElements.splice(J,1)}if(d){const J=this._fetchNamespace(d);J&&J.insertNode(s,f)}b&&this.collectEnterElement(s)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,s){s?this.disabledNodes.has(d)||(this.disabledNodes.add(d),gr(d,Ds)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),As(d,Ds))}removeNode(d,s,f,b){if(jr(s)){const C=d?this._fetchNamespace(d):null;if(C?C.removeNode(s,b):this.markElementAsRemoved(d,s,!1,b),f){const J=this.namespacesByHostElement.get(s);J&&J.id!==d&&J.removeNode(s,b)}}else this._onRemovalComplete(s,b)}markElementAsRemoved(d,s,f,b,C){this.collectedLeaveElements.push(s),s[Is]={namespaceId:d,setForRemoval:b,hasAnimation:f,removedBeforeQueried:!1,previousTriggersValues:C}}listen(d,s,f,b,C){return jr(s)?this._fetchNamespace(d).listen(s,f,b,C):()=>{}}_buildInstruction(d,s,f,b,C){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,f,b,d.fromState.options,d.toState.options,s,C)}destroyInnerAnimations(d){let s=this.driver.query(d,Bn,!0);s.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(s=this.driver.query(d,ze,!0),s.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(d){const s=this.playersByElement.get(d);s&&s.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(d){const s=this.playersByQueriedElement.get(d);s&&s.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return ht(this.players).onDone(()=>d());d()})}processLeaveNode(d){const s=d[Is];if(s&&s.setForRemoval){if(d[Is]=xs,s.namespaceId){this.destroyInnerAnimations(d);const f=this._fetchNamespace(s.namespaceId);f&&f.clearElementCache(d)}this._onRemovalComplete(d,s.setForRemoval)}d.classList?.contains(Ds)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(d=-1){let s=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,b)=>this._balanceNamespaceList(f,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)gr(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{s=this._flushAnimations(f,d)}finally{for(let b=0;b<f.length;b++)f[b]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],s.length?ht(s).onDone(()=>{f.forEach(b=>b())}):f.forEach(b=>b())}}reportError(d){throw function Un(c){return new l.vHH(3402,!1)}()}_flushAnimations(d,s){const f=new Sr,b=[],C=new Map,J=[],ae=new Map,_e=new Map,ke=new Map,Qe=new Set;this.disabledNodes.forEach(zn=>{Qe.add(zn);const oi=this.driver.query(zn,".ng-animate-queued",!0);for(let Ai=0;Ai<oi.length;Ai++)Qe.add(oi[Ai])});const jt=this.bodyNode,Wt=Array.from(this.statesByElement.keys()),en=Bi(Wt,this.collectedEnterElements),Sn=new Map;let un=0;en.forEach((zn,oi)=>{const Ai=Fe+un++;Sn.set(oi,Ai),zn.forEach(fr=>gr(fr,Ai))});const Kn=[],ti=new Set,yi=new Set;for(let zn=0;zn<this.collectedLeaveElements.length;zn++){const oi=this.collectedLeaveElements[zn],Ai=oi[Is];Ai&&Ai.setForRemoval&&(Kn.push(oi),ti.add(oi),Ai.hasAnimation?this.driver.query(oi,".ng-star-inserted",!0).forEach(fr=>ti.add(fr)):yi.add(oi))}const Ji=new Map,Ci=Bi(Wt,Array.from(ti));Ci.forEach((zn,oi)=>{const Ai=wt+un++;Ji.set(oi,Ai),zn.forEach(fr=>gr(fr,Ai))}),d.push(()=>{en.forEach((zn,oi)=>{const Ai=Sn.get(oi);zn.forEach(fr=>As(fr,Ai))}),Ci.forEach((zn,oi)=>{const Ai=Ji.get(oi);zn.forEach(fr=>As(fr,Ai))}),Kn.forEach(zn=>{this.processLeaveNode(zn)})});const Zi=[],Hi=[];for(let zn=this._namespaceList.length-1;zn>=0;zn--)this._namespaceList[zn].drainQueuedTransitions(s).forEach(Ai=>{const fr=Ai.player,lo=Ai.element;if(Zi.push(fr),this.collectedEnterElements.length){const Ns=lo[Is];if(Ns&&Ns.setForMove){if(Ns.previousTriggersValues&&Ns.previousTriggersValues.has(Ai.triggerName)){const la=Ns.previousTriggersValues.get(Ai.triggerName),Sa=this.statesByElement.get(Ai.element);if(Sa&&Sa.has(Ai.triggerName)){const Kd=Sa.get(Ai.triggerName);Kd.value=la,Sa.set(Ai.triggerName,Kd)}}return void fr.destroy()}}const ja=!jt||!this.driver.containsElement(jt,lo),aa=Ji.get(lo),cl=Sn.get(lo),ls=this._buildInstruction(Ai,f,cl,aa,ja);if(ls.errors&&ls.errors.length)return void Hi.push(ls);if(ja)return fr.onStart(()=>qt(lo,ls.fromStyles)),fr.onDestroy(()=>Lt(lo,ls.toStyles)),void b.push(fr);if(Ai.isFallbackTransition)return fr.onStart(()=>qt(lo,ls.fromStyles)),fr.onDestroy(()=>Lt(lo,ls.toStyles)),void b.push(fr);const _l=[];ls.timelines.forEach(Ns=>{Ns.stretchStartingKeyframe=!0,this.disabledNodes.has(Ns.element)||_l.push(Ns)}),ls.timelines=_l,f.append(lo,ls.timelines),J.push({instruction:ls,player:fr,element:lo}),ls.queriedElements.forEach(Ns=>lt(ae,Ns,[]).push(fr)),ls.preStyleProps.forEach((Ns,la)=>{if(Ns.size){let Sa=_e.get(la);Sa||_e.set(la,Sa=new Set),Ns.forEach((Kd,Jl)=>Sa.add(Jl))}}),ls.postStyleProps.forEach((Ns,la)=>{let Sa=ke.get(la);Sa||ke.set(la,Sa=new Set),Ns.forEach((Kd,Jl)=>Sa.add(Jl))})});if(Hi.length){const zn=[];Hi.forEach(oi=>{zn.push(function Pi(c,d){return new l.vHH(3505,!1)}())}),Zi.forEach(oi=>oi.destroy()),this.reportError(zn)}const Yi=new Map,Xi=new Map;J.forEach(zn=>{const oi=zn.element;f.has(oi)&&(Xi.set(oi,oi),this._beforeAnimationBuild(zn.player.namespaceId,zn.instruction,Yi))}),b.forEach(zn=>{const oi=zn.element;this._getPreviousPlayers(oi,!1,zn.namespaceId,zn.triggerName,null).forEach(fr=>{lt(Yi,oi,[]).push(fr),fr.destroy()})});const $r=Kn.filter(zn=>ko(zn,_e,ke)),is=new Map;fa(is,this.driver,yi,ke,ce.l3).forEach(zn=>{ko(zn,_e,ke)&&$r.push(zn)});const Ko=new Map;en.forEach((zn,oi)=>{fa(Ko,this.driver,new Set(zn),_e,ce.k1)}),$r.forEach(zn=>{const oi=is.get(zn),Ai=Ko.get(zn);is.set(zn,new Map([...Array.from(oi?.entries()??[]),...Array.from(Ai?.entries()??[])]))});const as=[],Fl=[],vc={};J.forEach(zn=>{const{element:oi,player:Ai,instruction:fr}=zn;if(f.has(oi)){if(Qe.has(oi))return Ai.onDestroy(()=>Lt(oi,fr.toStyles)),Ai.disabled=!0,Ai.overrideTotalTime(fr.totalTime),void b.push(Ai);let lo=vc;if(Xi.size>1){let aa=oi;const cl=[];for(;aa=aa.parentNode;){const ls=Xi.get(aa);if(ls){lo=ls;break}cl.push(aa)}cl.forEach(ls=>Xi.set(ls,lo))}const ja=this._buildAnimation(Ai.namespaceId,fr,Yi,C,Ko,is);if(Ai.setRealPlayer(ja),lo===vc)as.push(Ai);else{const aa=this.playersByElement.get(lo);aa&&aa.length&&(Ai.parentPlayer=ht(aa)),b.push(Ai)}}else qt(oi,fr.fromStyles),Ai.onDestroy(()=>Lt(oi,fr.toStyles)),Fl.push(Ai),Qe.has(oi)&&b.push(Ai)}),Fl.forEach(zn=>{const oi=C.get(zn.element);if(oi&&oi.length){const Ai=ht(oi);zn.setRealPlayer(Ai)}}),b.forEach(zn=>{zn.parentPlayer?zn.syncPlayerEvents(zn.parentPlayer):zn.destroy()});for(let zn=0;zn<Kn.length;zn++){const oi=Kn[zn],Ai=oi[Is];if(As(oi,wt),Ai&&Ai.hasAnimation)continue;let fr=[];if(ae.size){let ja=ae.get(oi);ja&&ja.length&&fr.push(...ja);let aa=this.driver.query(oi,ze,!0);for(let cl=0;cl<aa.length;cl++){let ls=ae.get(aa[cl]);ls&&ls.length&&fr.push(...ls)}}const lo=fr.filter(ja=>!ja.destroyed);lo.length?Xo(this,oi,lo):this.processLeaveNode(oi)}return Kn.length=0,as.forEach(zn=>{this.players.push(zn),zn.onDone(()=>{zn.destroy();const oi=this.players.indexOf(zn);this.players.splice(oi,1)}),zn.play()}),as}elementContainsData(d,s){let f=!1;const b=s[Is];return b&&b.setForRemoval&&(f=!0),this.playersByElement.has(s)&&(f=!0),this.playersByQueriedElement.has(s)&&(f=!0),this.statesByElement.has(s)&&(f=!0),this._fetchNamespace(d).elementContainsData(s)||f}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,s,f,b,C){let J=[];if(s){const ae=this.playersByQueriedElement.get(d);ae&&(J=ae)}else{const ae=this.playersByElement.get(d);if(ae){const _e=!C||C==xo;ae.forEach(ke=>{ke.queued||!_e&&ke.triggerName!=b||J.push(ke)})}}return(f||b)&&(J=J.filter(ae=>!(f&&f!=ae.namespaceId||b&&b!=ae.triggerName))),J}_beforeAnimationBuild(d,s,f){const C=s.element,J=s.isRemovalTransition?void 0:d,ae=s.isRemovalTransition?void 0:s.triggerName;for(const _e of s.timelines){const ke=_e.element,Qe=ke!==C,jt=lt(f,ke,[]);this._getPreviousPlayers(ke,Qe,J,ae,s.toState).forEach(en=>{const Sn=en.getRealPlayer();Sn.beforeDestroy&&Sn.beforeDestroy(),en.destroy(),jt.push(en)})}qt(C,s.fromStyles)}_buildAnimation(d,s,f,b,C,J){const ae=s.triggerName,_e=s.element,ke=[],Qe=new Set,jt=new Set,Wt=s.timelines.map(Sn=>{const un=Sn.element;Qe.add(un);const Kn=un[Is];if(Kn&&Kn.removedBeforeQueried)return new ce.ZN(Sn.duration,Sn.delay);const ti=un!==_e,yi=function Sl(c){const d=[];return Os(c,d),d}((f.get(un)||hl).map(Yi=>Yi.getRealPlayer())).filter(Yi=>!!Yi.element&&Yi.element===un),Ji=C.get(un),Ci=J.get(un),Zi=ot(0,this._normalizer,0,Sn.keyframes,Ji,Ci),Hi=this._buildPlayer(Sn,Zi,yi);if(Sn.subTimeline&&b&&jt.add(un),ti){const Yi=new zs(d,ae,un);Yi.setRealPlayer(Hi),ke.push(Yi)}return Hi});ke.forEach(Sn=>{lt(this.playersByQueriedElement,Sn.element,[]).push(Sn),Sn.onDone(()=>function Gr(c,d,s){let f=c.get(d);if(f){if(f.length){const b=f.indexOf(s);f.splice(b,1)}0==f.length&&c.delete(d)}return f}(this.playersByQueriedElement,Sn.element,Sn))}),Qe.forEach(Sn=>gr(Sn,Ni));const en=ht(Wt);return en.onDestroy(()=>{Qe.forEach(Sn=>As(Sn,Ni)),Lt(_e,s.toStyles)}),jt.forEach(Sn=>{lt(b,Sn,[]).push(en)}),en}_buildPlayer(d,s,f){return s.length>0?this.driver.animate(d.element,s,d.duration,d.delay,d.easing,f):new ce.ZN(d.duration,d.delay)}}class zs{constructor(d,s,f){this.namespaceId=d,this.triggerName=s,this.element=f,this._player=new ce.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((s,f)=>{s.forEach(b=>Ie(d,f,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const s=this._player;s.triggerCallback&&d.onStart(()=>s.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,s){lt(this._queuedCallbacks,d,[]).push(s)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const s=this._player;s.triggerCallback&&s.triggerCallback(d)}}function jr(c){return c&&1===c.nodeType}function Qs(c,d){const s=c.style.display;return c.style.display=d??"none",s}function fa(c,d,s,f,b){const C=[];s.forEach(_e=>C.push(Qs(_e)));const J=[];f.forEach((_e,ke)=>{const Qe=new Map;_e.forEach(jt=>{const Wt=d.computeStyle(ke,jt,b);Qe.set(jt,Wt),(!Wt||0==Wt.length)&&(ke[Is]=ho,J.push(ke))}),c.set(ke,Qe)});let ae=0;return s.forEach(_e=>Qs(_e,C[ae++])),J}function Bi(c,d){const s=new Map;if(c.forEach(ae=>s.set(ae,[])),0==d.length)return s;const b=new Set(d),C=new Map;function J(ae){if(!ae)return 1;let _e=C.get(ae);if(_e)return _e;const ke=ae.parentNode;return _e=s.has(ke)?ke:b.has(ke)?1:J(ke),C.set(ae,_e),_e}return d.forEach(ae=>{const _e=J(ae);1!==_e&&s.get(_e).push(ae)}),s}function gr(c,d){c.classList?.add(d)}function As(c,d){c.classList?.remove(d)}function Xo(c,d,s){ht(s).onDone(()=>c.processLeaveNode(d))}function Os(c,d){for(let s=0;s<c.length;s++){const f=c[s];f instanceof ce.ZE?Os(f.players,d):d.push(f)}}function ko(c,d,s){const f=s.get(c);if(!f)return!1;let b=d.get(c);return b?f.forEach(C=>b.add(C)):d.set(c,f),s.delete(c),!0}class ui{constructor(d,s,f){this.bodyNode=d,this._driver=s,this._normalizer=f,this._triggerCache={},this.onRemovalComplete=(b,C)=>{},this._transitionEngine=new Po(d,s,f),this._timelineEngine=new Qo(d,s,f),this._transitionEngine.onRemovalComplete=(b,C)=>this.onRemovalComplete(b,C)}registerTrigger(d,s,f,b,C){const J=d+"-"+b;let ae=this._triggerCache[J];if(!ae){const _e=[],Qe=Gn(this._driver,C,_e,[]);if(_e.length)throw function Zt(c,d){return new l.vHH(3404,!1)}();ae=function Gs(c,d,s){return new js(c,d,s)}(b,Qe,this._normalizer),this._triggerCache[J]=ae}this._transitionEngine.registerTrigger(s,b,ae)}register(d,s){this._transitionEngine.register(d,s)}destroy(d,s){this._transitionEngine.destroy(d,s)}onInsert(d,s,f,b){this._transitionEngine.insertNode(d,s,f,b)}onRemove(d,s,f,b){this._transitionEngine.removeNode(d,s,b||!1,f)}disableAnimations(d,s){this._transitionEngine.markElementAsDisabled(d,s)}process(d,s,f,b){if("@"==f.charAt(0)){const[C,J]=An(f);this._timelineEngine.command(C,s,J,b)}else this._transitionEngine.trigger(d,s,f,b)}listen(d,s,f,b,C){if("@"==f.charAt(0)){const[J,ae]=An(f);return this._timelineEngine.listen(J,s,ae,C)}return this._transitionEngine.listen(d,s,f,b,C)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $s=(()=>{class c{constructor(s,f,b){this._element=s,this._startStyles=f,this._endStyles=b,this._state=0;let C=c.initialStylesByElement.get(s);C||c.initialStylesByElement.set(s,C=new Map),this._initialStyles=C}start(){this._state<1&&(this._startStyles&&Lt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lt(this._element,this._initialStyles),this._endStyles&&(Lt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(qt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qt(this._element,this._endStyles),this._endStyles=null),Lt(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function xa(c){let d=null;return c.forEach((s,f)=>{(function bl(c){return"display"===c||"position"===c})(f)&&(d=d||new Map,d.set(f,s))}),d}class Za{constructor(d,s,f,b){this.element=d,this.keyframes=s,this.options=f,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const s=[];return d.forEach(f=>{s.push(Object.fromEntries(f))}),s}_triggerWebAnimation(d,s,f){return d.animate(this._convertKeyframesToObject(s),f)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((f,b)=>{"offset"!==b&&d.set(b,this._finished?f:Dr(this.element,b))}),this.currentSnapshot=d}triggerCallback(d){const s="start"===d?this._onStartFns:this._onDoneFns;s.forEach(f=>f()),s.length=0}}class Ya{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,s){return!1}containsElement(d,s){return tr(d,s)}getParentElement(d){return En(d)}query(d,s,f){return gi(d,s,f)}computeStyle(d,s,f){return window.getComputedStyle(d)[s]}animate(d,s,f,b,C,J=[]){const _e={duration:f,delay:b,fill:0==b?"both":"forwards"};C&&(_e.easing=C);const ke=new Map,Qe=J.filter(en=>en instanceof Za);(function Rr(c,d){return 0===c||0===d})(f,b)&&Qe.forEach(en=>{en.currentSnapshot.forEach((Sn,un)=>ke.set(un,Sn))});let jt=function bn(c){return c.length?c[0]instanceof Map?c:c.map(d=>Gt(d)):[]}(s).map(en=>je(en));jt=function br(c,d,s){if(s.size&&d.length){let f=d[0],b=[];if(s.forEach((C,J)=>{f.has(J)||b.push(J),f.set(J,C)}),b.length)for(let C=1;C<d.length;C++){let J=d[C];b.forEach(ae=>J.set(ae,Dr(c,ae)))}}return d}(d,jt,ke);const Wt=function Fo(c,d){let s=null,f=null;return Array.isArray(d)&&d.length?(s=xa(d[0]),d.length>1&&(f=xa(d[d.length-1]))):d instanceof Map&&(s=xa(d)),s||f?new $s(c,s,f):null}(d,jt);return new Za(d,jt,_e,Wt)}}var Xn=k(6895);let Il=(()=>{class c extends ce._j{constructor(s,f){super(),this._nextAnimationId=0,this._renderer=s.createRenderer(f.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(s){const f=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(s)?(0,ce.vP)(s):s;return W(this._renderer,null,f,"register",[b]),new G(f,this._renderer)}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(l.FYo),l.LFG(Xn.K0))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();class G extends ce.LC{constructor(d,s){super(),this._id=d,this._renderer=s}create(d,s){return new $(this._id,d,s||{},this._renderer)}}class ${constructor(d,s,f,b){this.id=d,this.element=s,this._renderer=b,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",f)}_listen(d,s){return this._renderer.listen(this.element,`@@${this.id}:${d}`,s)}_command(d,...s){return W(this._renderer,this.element,this.id,d,s)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function W(c,d,s,f,b){return c.setProperty(d,`@@${s}:${f}`,b)}const Tt="@.disabled";let Zn=(()=>{class c{constructor(s,f,b){this.delegate=s,this.engine=f,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),f.onRemovalComplete=(C,J)=>{const ae=J?.parentNode(C);ae&&J.removeChild(ae,C)}}createRenderer(s,f){const C=this.delegate.createRenderer(s,f);if(!(s&&f&&f.data&&f.data.animation)){let Qe=this._rendererCache.get(C);return Qe||(Qe=new mr("",C,this.engine,()=>this._rendererCache.delete(C)),this._rendererCache.set(C,Qe)),Qe}const J=f.id,ae=f.id+"-"+this._currentId;this._currentId++,this.engine.register(ae,s);const _e=Qe=>{Array.isArray(Qe)?Qe.forEach(_e):this.engine.registerTrigger(J,ae,s,Qe.name,Qe)};return f.data.animation.forEach(_e),new Br(this,ae,C,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(s,f,b){s>=0&&s<this._microtaskId?this._zone.run(()=>f(b)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(C=>{const[J,ae]=C;J(ae)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([f,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(l.FYo),l.LFG(ui),l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();class mr{constructor(d,s,f,b){this.namespaceId=d,this.delegate=s,this.engine=f,this._onDestroy=b,this.destroyNode=this.delegate.destroyNode?C=>s.destroyNode(C):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(d,s){return this.delegate.createElement(d,s)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,s){this.delegate.appendChild(d,s),this.engine.onInsert(this.namespaceId,s,d,!1)}insertBefore(d,s,f,b=!0){this.delegate.insertBefore(d,s,f),this.engine.onInsert(this.namespaceId,s,d,b)}removeChild(d,s,f){this.engine.onRemove(this.namespaceId,s,this.delegate,f)}selectRootElement(d,s){return this.delegate.selectRootElement(d,s)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,s,f,b){this.delegate.setAttribute(d,s,f,b)}removeAttribute(d,s,f){this.delegate.removeAttribute(d,s,f)}addClass(d,s){this.delegate.addClass(d,s)}removeClass(d,s){this.delegate.removeClass(d,s)}setStyle(d,s,f,b){this.delegate.setStyle(d,s,f,b)}removeStyle(d,s,f){this.delegate.removeStyle(d,s,f)}setProperty(d,s,f){"@"==s.charAt(0)&&s==Tt?this.disableAnimations(d,!!f):this.delegate.setProperty(d,s,f)}setValue(d,s){this.delegate.setValue(d,s)}listen(d,s,f){return this.delegate.listen(d,s,f)}disableAnimations(d,s){this.engine.disableAnimations(d,s)}}class Br extends mr{constructor(d,s,f,b,C){super(s,f,b,C),this.factory=d,this.namespaceId=s}setProperty(d,s,f){"@"==s.charAt(0)?"."==s.charAt(1)&&s==Tt?this.disableAnimations(d,f=void 0===f||!!f):this.engine.process(this.namespaceId,d,s.slice(1),f):this.delegate.setProperty(d,s,f)}listen(d,s,f){if("@"==s.charAt(0)){const b=function Js(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(d);let C=s.slice(1),J="";return"@"!=C.charAt(0)&&([C,J]=function Lo(c){const d=c.indexOf(".");return[c.substring(0,d),c.slice(d+1)]}(C)),this.engine.listen(this.namespaceId,b,C,J,ae=>{this.factory.scheduleListenerCallback(ae._data||-1,f,ae)})}return this.delegate.listen(d,s,f)}}const vs=[{provide:ce._j,useClass:Il},{provide:uo,useFactory:function Ws(){return new Oo}},{provide:ui,useClass:(()=>{class c extends ui{constructor(s,f,b,C){super(s.body,f,b)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(Xn.K0),l.LFG(vr),l.LFG(uo),l.LFG(l.z2F))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})()},{provide:l.FYo,useFactory:function pa(c,d,s){return new Zn(c,d,s)},deps:[p.se,ui,l.R0b]}],rs=[{provide:vr,useFactory:()=>new Ya},{provide:l.QbO,useValue:"BrowserAnimations"},...vs],ea=[{provide:vr,useClass:mi},{provide:l.QbO,useValue:"NoopAnimations"},...vs];let bo=(()=>{class c{static withConfig(s){return{ngModule:c,providers:s.disableAnimations?ea:rs}}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:rs,imports:[p.b2]}),c})();var Rs=k(9379),es=k(9751),ts=k(515),Vo=k(9646),qr=k(7579),Fr=k(4968),Uo=k(5963),Wi=k(8421);const{isArray:Xs}=Array;function Pa(c){return 1===c.length&&Xs(c[0])?c[0]:c}var ns=k(5403);var mo=k(1135),Ja=k(9841),ka=k(5032);const Or=new es.y(ka.Z);var Vi=k(3269);function Fa(...c){const d=(0,Vi.jO)(c),s=Pa(c);return s.length?new es.y(f=>{let b=s.map(()=>[]),C=s.map(()=>!1);f.add(()=>{b=C=null});for(let J=0;!f.closed&&J<s.length;J++)(0,Wi.Xf)(s[J]).subscribe((0,ns.x)(f,ae=>{if(b[J].push(ae),b.every(_e=>_e.length)){const _e=b.map(ke=>ke.shift());f.next(d?d(..._e):_e),b.some((ke,Qe)=>!ke.length&&C[Qe])&&f.complete()}},()=>{C[J]=!0,!b[J].length&&f.complete()}));return()=>{b=C=null}}):ts.E}var ta=k(6451),ga=k(7272),Qr=k(2722),Ks=k(9300),bs=k(5698),na=k(4004),U=k(8675),te=k(1884),K=k(3900),pe=k(8505),We=k(4482),kt=k(4671);function Jt(...c){const d=(0,Vi.jO)(c);return(0,We.e)((s,f)=>{const b=c.length,C=new Array(b);let J=c.map(()=>!1),ae=!1;for(let _e=0;_e<b;_e++)(0,Wi.Xf)(c[_e]).subscribe((0,ns.x)(f,ke=>{C[_e]=ke,!ae&&!J[_e]&&(J[_e]=!0,(ae=J.every(kt.y))&&(J=null))},ka.Z));s.subscribe((0,ns.x)(f,_e=>{if(ae){const ke=[_e,...C];f.next(d?d(...ke):ke)}}))})}k(4986),k(9718),k(5577);var xr=k(433);function xl(c,d){}function ba(c,d){if(1&c&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,xl,0,0,"ng-template",4),l.qZA()),2&c){const s=d.$implicit;l.Q6J("ngbPanelToggle",s),l.xp6(1),l.hij(" ",s.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==s.titleTpl?null:s.titleTpl.templateRef)}}function Uc(c,d){}function Dl(c,d){}function oa(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(b){l.CHM(s);const C=l.oxw().$implicit;return l.KtG(C.panelDiv=b)}),l.TgZ(1,"div",9),l.YNc(2,Dl,0,0,"ng-template",4),l.qZA()()}if(2&c){const s=l.oxw().$implicit;l.s9C("id",s.id),l.uIk("aria-labelledby",s.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==s.contentTpl?null:s.contentTpl.templateRef)||null)}}Math,Math,Math;const sc=function(c,d){return{$implicit:c,opened:d}};function Rl(c,d){if(1&c&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,Uc,0,0,"ng-template",6),l.qZA(),l.YNc(3,oa,3,3,"div",7),l.qZA()),2&c){const s=d.$implicit,f=l.oxw(),b=l.MAs(1);l.Tol("accordion-item "+(s.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(s.type?"bg-"+s.type:f.type?"bg-"+f.type:"")),l.MGl("id","",s.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==s.headerTpl?null:s.headerTpl.templateRef)||b)("ngTemplateOutletContext",l.WLB(8,sc,s,s.isOpen)),l.xp6(1),l.Q6J("ngIf",!f.destroyOnHide||s.isOpen||s.transitionRunning)}}function iu(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.close())}),l.qZA()}}const Pl=["*"];function rh(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const C=l.CHM(s).$implicit,J=l.oxw();return J.focus(),l.KtG(J.select(C.id,J.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&c){const s=d.$implicit,f=l.oxw();l.ekj("active",s.id===f.activeId),l.uIk("aria-labelledby","slide-"+s.id)("aria-controls","slide-"+s.id)("aria-selected",s.id===f.activeId)}}function Mu(c,d){}function Hl(c,d){if(1&c&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,Mu,0,0,"ng-template",10),l.qZA()),2&c){const s=d.$implicit,f=d.index,b=d.count;l.Q6J("id","slide-"+s.id),l.xp6(2),l.pQV(f+1)(b),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",s.tplRef)}}function oc(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function pl(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const ru=["ngbDatepickerDayView",""],su=["month"],Ha=["year"];function wa(c,d){if(1&c&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&c){const s=d.$implicit,f=l.oxw();l.Q6J("value",s),l.uIk("aria-label",f.i18n.getMonthFullName(s,f.date.year)),l.xp6(1),l.Oqu(f.i18n.getMonthShortName(s,f.date.year))}}function fd(c,d){if(1&c&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&c){const s=d.$implicit,f=l.oxw();l.Q6J("value",s),l.xp6(1),l.Oqu(f.i18n.getYearNumerals(s))}}function ac(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(b){l.CHM(s);const C=l.oxw();return l.KtG(C.select.emit(b))}),l.qZA()}if(2&c){const s=l.oxw();l.Q6J("date",s.date)("disabled",s.disabled)("months",s.selectBoxes.months)("years",s.selectBoxes.years)}}function sh(c,d){1&c&&l._UZ(0,"div",0)}function Nu(c,d){1&c&&l._UZ(0,"div",0)}function xu(c,d){if(1&c&&(l.YNc(0,sh,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,Nu,1,0,"div",9)),2&c){const s=d.$implicit,f=d.index,b=l.oxw(2);l.Q6J("ngIf",f>0),l.xp6(2),l.hij(" ",b.i18n.getMonthLabel(s.firstDate)," "),l.xp6(1),l.Q6J("ngIf",f!==b.months.length-1)}}function Co(c,d){if(1&c&&l.YNc(0,xu,4,3,"ng-template",8),2&c){const s=l.oxw();l.Q6J("ngForOf",s.months)}}function pd(c,d){if(1&c&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&c){const s=l.oxw(2);l.xp6(1),l.Oqu(s.i18n.getWeekLabel())}}function ms(c,d){if(1&c&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&c){const s=d.$implicit;l.xp6(1),l.Oqu(s)}}function N(c,d){if(1&c&&(l.TgZ(0,"div",2),l.YNc(1,pd,2,1,"div",3),l.YNc(2,ms,2,1,"div",4),l.qZA()),2&c){const s=l.oxw();l.xp6(1),l.Q6J("ngIf",s.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",s.viewModel.weekdays)}}function j(c,d){if(1&c&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&c){const s=l.oxw(2).$implicit,f=l.oxw();l.xp6(1),l.Oqu(f.i18n.getWeekNumerals(s.number))}}function ne(c,d){}function xe(c,d){if(1&c&&l.YNc(0,ne,0,0,"ng-template",14),2&c){const s=l.oxw().$implicit,f=l.oxw(3);l.Q6J("ngTemplateOutlet",f.datepicker.dayTemplate)("ngTemplateOutletContext",s.context)}}function ct(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(b){const J=l.CHM(s).$implicit;return l.oxw(3).doSelect(J),l.KtG(b.preventDefault())}),l.YNc(1,xe,1,2,"ng-template",13),l.qZA()}if(2&c){const s=d.$implicit;l.ekj("disabled",s.context.disabled)("hidden",s.hidden)("ngb-dp-today",s.context.today),l.Q6J("tabindex",s.tabindex),l.uIk("aria-label",s.ariaLabel),l.xp6(1),l.Q6J("ngIf",!s.hidden)}}function bt(c,d){if(1&c&&(l.TgZ(0,"div",8),l.YNc(1,j,2,1,"div",9),l.YNc(2,ct,2,9,"div",10),l.qZA()),2&c){const s=l.oxw().$implicit,f=l.oxw();l.xp6(1),l.Q6J("ngIf",f.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",s.days)}}function yt(c,d){1&c&&l.YNc(0,bt,3,2,"div",7),2&c&&l.Q6J("ngIf",!d.$implicit.collapsed)}const cn=["defaultDayTemplate"],Cn=["content"];function ni(c,d){if(1&c&&l._UZ(0,"div",7),2&c){const f=d.currentMonth,b=d.selected,C=d.disabled,J=d.focused;l.Q6J("date",d.date)("currentMonth",f)("selected",b)("disabled",C)("focused",J)}}function Li(c,d){if(1&c&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&c){const s=l.oxw().$implicit,f=l.oxw(2);l.xp6(1),l.hij(" ",f.i18n.getMonthLabel(s.firstDate)," ")}}function Ui(c,d){if(1&c&&(l.TgZ(0,"div",9),l.YNc(1,Li,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&c){const s=d.$implicit,f=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===f.navigation||f.displayMonths>1&&"select"===f.navigation),l.xp6(1),l.Q6J("month",s.firstDate)}}function zo(c,d){if(1&c&&l.YNc(0,Ui,3,2,"div",8),2&c){const s=l.oxw();l.Q6J("ngForOf",s.model.months)}}function Bs(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(b){l.CHM(s);const C=l.oxw();return l.KtG(C.onNavigateEvent(b))})("select",function(b){l.CHM(s);const C=l.oxw();return l.KtG(C.onNavigateDateSelect(b))}),l.qZA()}if(2&c){const s=l.oxw();l.Q6J("date",s.model.firstDate)("months",s.model.months)("disabled",s.model.disabled)("showSelect","select"===s.model.navigation)("prevDisabled",s.model.prevDisabled)("nextDisabled",s.model.nextDisabled)("selectBoxes",s.model.selectBoxes)}}function Hc(c,d){}function lc(c,d){}const Gc=["dialog"],ll=["ngbNavOutlet",""];function Cl(c,d){}const cc=function(c){return{$implicit:c}};function Hf(c,d){if(1&c&&(l.TgZ(0,"div",2),l.YNc(1,Cl,0,0,"ng-template",3),l.qZA()),2&c){const s=l.oxw().$implicit,f=l.oxw();l.Q6J("item",s)("nav",f.nav)("role",f.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==s.contentTpl?null:s.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,cc,s.active||f.isPanelTransitioning(s)))}}function Ru(c,d){if(1&c&&l.YNc(0,Hf,2,7,"div",1),2&c){const s=d.$implicit,f=l.oxw();l.Q6J("ngIf",s.isPanelInDom()||f.isPanelTransitioning(s))}}function oh(c,d){1&c&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function zh(c,d){1&c&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function ou(c,d){1&c&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function au(c,d){1&c&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function uc(c,d){1&c&&l._uU(0,"...")}function Gl(c,d){1&c&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function lu(c,d){if(1&c&&(l._uU(0),l.YNc(1,Gl,2,0,"span",14)),2&c){const s=d.$implicit,f=d.currentPage;l.hij(" ",s," "),l.xp6(1),l.Q6J("ngIf",s===f)}}function Pu(c,d){}const $h=function(c){return{disabled:!0,currentPage:c}};function gd(c,d){if(1&c&&(l.TgZ(0,"a",20),l.YNc(1,Pu,0,0,"ng-template",8),l.qZA()),2&c){const s=l.oxw(2).$implicit,f=l.oxw(),b=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==f.tplEllipsis?null:f.tplEllipsis.templateRef)||b)("ngTemplateOutletContext",l.VKq(2,$h,s))}}function jl(c,d){}const Wh=function(c,d,s){return{disabled:c,$implicit:d,currentPage:s}};function ku(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(b){l.CHM(s);const C=l.oxw().$implicit;return l.oxw(2).selectPage(C),l.KtG(b.preventDefault())}),l.YNc(1,jl,0,0,"ng-template",8),l.qZA()}if(2&c){const s=l.oxw().$implicit,f=l.oxw(),b=f.disabled,C=f.$implicit,J=l.oxw(),ae=l.MAs(11);l.uIk("tabindex",b?"-1":null)("aria-disabled",b?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==J.tplNumber?null:J.tplNumber.templateRef)||ae)("ngTemplateOutletContext",l.kEZ(4,Wh,b,s,C))}}function I(c,d){if(1&c&&(l.TgZ(0,"li",17),l.YNc(1,gd,2,4,"a",18),l.YNc(2,ku,2,8,"a",19),l.qZA()),2&c){const s=d.$implicit,f=l.oxw(),b=f.$implicit,C=f.disabled,J=l.oxw();l.ekj("active",s===b)("disabled",J.isEllipsis(s)||C),l.uIk("aria-current",s===b?"page":null),l.xp6(1),l.Q6J("ngIf",J.isEllipsis(s)),l.xp6(1),l.Q6J("ngIf",!J.isEllipsis(s))}}function _(c,d){1&c&&l.YNc(0,I,3,7,"li",16),2&c&&l.Q6J("ngForOf",d.pages)}function w(c,d){}const x=function(c,d){return{disabled:c,currentPage:d}};function se(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(b){return l.CHM(s),l.oxw().selectPage(1),l.KtG(b.preventDefault())}),l.YNc(2,w,0,0,"ng-template",8),l.qZA()()}if(2&c){const s=l.oxw(),f=l.MAs(1);l.ekj("disabled",s.previousDisabled()),l.xp6(1),l.uIk("tabindex",s.previousDisabled()?"-1":null)("aria-disabled",s.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==s.tplFirst?null:s.tplFirst.templateRef)||f)("ngTemplateOutletContext",l.WLB(6,x,s.previousDisabled(),s.page))}}function we(c,d){}const gt=function(c){return{disabled:c}};function Ut(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(b){l.CHM(s);const C=l.oxw();return C.selectPage(C.page-1),l.KtG(b.preventDefault())}),l.YNc(2,we,0,0,"ng-template",8),l.qZA()()}if(2&c){const s=l.oxw(),f=l.MAs(3);l.ekj("disabled",s.previousDisabled()),l.xp6(1),l.uIk("tabindex",s.previousDisabled()?"-1":null)("aria-disabled",s.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==s.tplPrevious?null:s.tplPrevious.templateRef)||f)("ngTemplateOutletContext",l.VKq(6,gt,s.previousDisabled()))}}function Tn(c,d){}function jn(c,d){}function hi(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(b){l.CHM(s);const C=l.oxw();return C.selectPage(C.page+1),l.KtG(b.preventDefault())}),l.YNc(2,jn,0,0,"ng-template",8),l.qZA()()}if(2&c){const s=l.oxw(),f=l.MAs(5);l.ekj("disabled",s.nextDisabled()),l.xp6(1),l.uIk("tabindex",s.nextDisabled()?"-1":null)("aria-disabled",s.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==s.tplNext?null:s.tplNext.templateRef)||f)("ngTemplateOutletContext",l.WLB(6,x,s.nextDisabled(),s.page))}}function Ki(c,d){}function Ea(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(b){l.CHM(s);const C=l.oxw();return C.selectPage(C.pageCount),l.KtG(b.preventDefault())}),l.YNc(2,Ki,0,0,"ng-template",8),l.qZA()()}if(2&c){const s=l.oxw(),f=l.MAs(7);l.ekj("disabled",s.nextDisabled()),l.xp6(1),l.uIk("tabindex",s.nextDisabled()?"-1":null)("aria-disabled",s.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==s.tplLast?null:s.tplLast.templateRef)||f)("ngTemplateOutletContext",l.WLB(6,x,s.nextDisabled(),s.page))}}const zl=function(c,d,s){return{$implicit:c,pages:d,disabled:s}};function Ga(c,d){if(1&c&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&c){const s=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,s.getValue()/s.max)),l.QtT(1)}}function _d(c,d){1&c&&l._uU(0),2&c&&l.Oqu(100===d.fill?"\u2605":"\u2606")}function Ac(c,d){}function yd(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const C=l.CHM(s).index,J=l.oxw();return l.KtG(J.enter(C+1))})("click",function(){const C=l.CHM(s).index,J=l.oxw();return l.KtG(J.handleClick(C+1))}),l.YNc(3,Ac,0,0,"ng-template",4),l.qZA()}if(2&c){const s=d.index,f=l.oxw(),b=l.MAs(1);l.xp6(1),l.hij("(",s<f.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",f.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",f.starTemplate||f.starTemplateFromContent||b)("ngTemplateOutletContext",f.contexts[s])}}function gl(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.changeHour(b.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&c){const s=l.oxw();l.ekj("btn-sm",s.isSmallSize)("btn-lg",s.isLargeSize)("disabled",s.disabled),l.Q6J("disabled",s.disabled)}}function Lu(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.changeHour(-b.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&c){const s=l.oxw();l.ekj("btn-sm",s.isSmallSize)("btn-lg",s.isLargeSize)("disabled",s.disabled),l.Q6J("disabled",s.disabled)}}function hc(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.changeMinute(b.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&c){const s=l.oxw();l.ekj("btn-sm",s.isSmallSize)("btn-lg",s.isLargeSize)("disabled",s.disabled),l.Q6J("disabled",s.disabled)}}function vd(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.changeMinute(-b.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&c){const s=l.oxw();l.ekj("btn-sm",s.isSmallSize)("btn-lg",s.isLargeSize)("disabled",s.disabled),l.Q6J("disabled",s.disabled)}}function bd(c,d){1&c&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function or(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(s);const b=l.oxw(2);return l.KtG(b.changeSecond(b.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&c){const s=l.oxw(2);l.ekj("btn-sm",s.isSmallSize)("btn-lg",s.isLargeSize)("disabled",s.disabled),l.Q6J("disabled",s.disabled)}}function Gf(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(s);const b=l.oxw(2);return l.KtG(b.changeSecond(-b.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&c){const s=l.oxw(2);l.ekj("btn-sm",s.isSmallSize)("btn-lg",s.isLargeSize)("disabled",s.disabled),l.Q6J("disabled",s.disabled)}}function ah(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"div",19),l.YNc(1,or,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(b){l.CHM(s);const C=l.oxw();return l.KtG(C.updateSecond(b.target.value))})("blur",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.handleBlur())})("input",function(b){l.CHM(s);const C=l.oxw();return l.KtG(C.formatInput(b.target))})("keydown.ArrowUp",function(b){l.CHM(s);const C=l.oxw();return C.changeSecond(C.secondStep),l.KtG(b.preventDefault())})("keydown.ArrowDown",function(b){l.CHM(s);const C=l.oxw();return C.changeSecond(-C.secondStep),l.KtG(b.preventDefault())}),l.qZA(),l.YNc(3,Gf,4,7,"button",3),l.qZA()}if(2&c){const s=l.oxw();l.xp6(1),l.Q6J("ngIf",s.spinners),l.xp6(1),l.ekj("form-control-sm",s.isSmallSize)("form-control-lg",s.isLargeSize),l.Q6J("value",s.formatMinSec(null==s.model?null:s.model.second))("readOnly",s.readonlyInputs)("disabled",s.disabled),l.xp6(1),l.Q6J("ngIf",s.spinners)}}function wd(c,d){1&c&&l._UZ(0,"div",5)}function fg(c,d){if(1&c&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&c){const s=l.oxw(2);l.xp6(1),l.pQV(s.i18n.getAfternoonPeriod()),l.QtT(1)}}function jf(c,d){if(1&c&&l.SDv(0,28),2&c){const s=l.oxw(2);l.pQV(s.i18n.getMorningPeriod()),l.QtT(0)}}function Kh(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.toggleMeridian())}),l.YNc(2,fg,2,1,"ng-container",25),l.YNc(3,jf,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&c){const s=l.MAs(4),f=l.oxw();l.xp6(1),l.ekj("btn-sm",f.isSmallSize)("btn-lg",f.isLargeSize)("disabled",f.disabled),l.Q6J("disabled",f.disabled),l.xp6(1),l.Q6J("ngIf",f.model&&f.model.hour>=12)("ngIfElse",s)}}function Dm(c,d){if(1&c&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&c){const s=l.oxw();l.xp6(1),l.Oqu(s.header)}}function Cm(c,d){}function zf(c,d){if(1&c){const s=l.EpF();l.TgZ(0,"div",4),l.YNc(1,Cm,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.hide())}),l.qZA()()}if(2&c){const s=l.oxw(),f=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",s.contentHeaderTpl||f)}}function Bu(c,d){if(1&c&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&c){const s=l.oxw().$implicit,f=l.oxw();l.Tol(f.highlightClass),l.xp6(1),l.Oqu(s)}}function Oc(c,d){if(1&c&&l._uU(0),2&c){const s=l.oxw().$implicit;l.Oqu(s)}}function Zh(c,d){if(1&c&&(l.YNc(0,Bu,2,3,"span",1),l.YNc(1,Oc,1,1,"ng-template",null,2,l.W1O)),2&c){const s=d.odd,f=l.MAs(2);l.Q6J("ngIf",s)("ngIfElse",f)}}function Ta(c){return parseInt(`${c}`,10)}function cu(c){return null!=c?`${c}`:""}function Yh(c,d,s=0){return Math.max(Math.min(c,d),s)}function Td(c){return"string"==typeof c}function Qi(c){return!isNaN(Ta(c))}function Es(c){return"number"==typeof c&&isFinite(c)&&Math.floor(c)===c}function fc(c){return null!=c}function Vu(c){return Qi(c)?`0${c}`.slice(-2):""}function gg(c,d){return c&&c.className&&c.className.split&&c.className.split(/\s+/).indexOf(d)>=0}function gc(c){return(c||document.body).getBoundingClientRect()}function $f(c){return c.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const uu={animation:!0,transitionTimerDelayMs:5},Dd=()=>{},{transitionTimerDelayMs:Wf}=uu,Uu=new Map,$o=(c,d,s,f)=>{let b=f.context||{};const C=Uu.get(d);if(C)switch(f.runningTransition){case"continue":return ts.E;case"stop":c.run(()=>C.transition$.complete()),b=Object.assign(C.context,b),Uu.delete(d)}const J=s(d,f.animation,b)||Dd;if(!f.animation||"none"===window.getComputedStyle(d).transitionProperty)return c.run(()=>J()),(0,Vo.of)(void 0).pipe(function jc(c){return d=>new es.y(s=>d.subscribe({next:J=>c.run(()=>s.next(J)),error:J=>c.run(()=>s.error(J)),complete:()=>c.run(()=>s.complete())}))}(c));const ae=new qr.x,_e=new qr.x,ke=ae.pipe(function Xa(...c){return d=>(0,ga.z)(d,(0,Vo.of)(...c))}(!0));Uu.set(d,{transition$:ae,complete:()=>{_e.next(),_e.complete()},context:b});const Qe=function Mc(c){const{transitionDelay:d,transitionDuration:s}=window.getComputedStyle(c);return 1e3*(parseFloat(d)+parseFloat(s))}(d);return c.runOutsideAngular(()=>{const jt=(0,Fr.R)(d,"transitionend").pipe((0,Qr.R)(ke),(0,Ks.h)(({target:en})=>en===d));(function qa(...c){return 1===(c=Pa(c)).length?(0,Wi.Xf)(c[0]):new es.y(function Qa(c){return d=>{let s=[];for(let f=0;s&&!d.closed&&f<c.length;f++)s.push((0,Wi.Xf)(c[f]).subscribe((0,ns.x)(d,b=>{if(s){for(let C=0;C<s.length;C++)C!==f&&s[C].unsubscribe();s=null}d.next(b)})))}}(c))})((0,Uo.H)(Qe+Wf).pipe((0,Qr.R)(ke)),jt,_e).pipe((0,Qr.R)(ke)).subscribe(()=>{Uu.delete(d),c.run(()=>{J(),ae.next(),ae.complete()})})}),ae.asObservable()},Zf=(c,d,s)=>{let{direction:f,maxSize:b,dimension:C}=s;const{classList:J}=c;function ae(){J.add("collapse"),"show"===f?J.add("show"):J.remove("show")}if(d)return b||(b=function Sm(c,d){if(typeof navigator>"u")return"0px";const{classList:s}=c,f=s.contains("show");f||s.add("show"),c.style[d]="";const b=c.getBoundingClientRect()[d]+"px";return f||s.remove("show"),b}(c,C),s.maxSize=b,c.style[C]="show"!==f?b:"0px",J.remove("collapse"),J.remove("collapsing"),J.remove("show"),gc(c),J.add("collapsing")),c.style[C]="show"===f?b:"0px",()=>{ae(),J.remove("collapsing"),c.style[C]=""};ae()};let Vs=(()=>{class c{constructor(){this.animation=uu.animation}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Jr=(()=>{class c{constructor(s){this._ngbConfig=s,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(s){this._animation=s}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(Vs))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),_g=0,Qh=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),c})(),Hu=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),c})(),kl=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),c})(),du=(()=>{class c{constructor(){this.disabled=!1,this.id="ngb-panel-"+_g++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275dir=l.lG2({type:c,selectors:[["ngb-panel"]],contentQueries:function(s,f,b){if(1&s&&(l.Suo(b,Hu,4),l.Suo(b,Qh,4),l.Suo(b,kl,4)),2&s){let C;l.iGM(C=l.CRH())&&(f.titleTpls=C),l.iGM(C=l.CRH())&&(f.headerTpls=C),l.iGM(C=l.CRH())&&(f.contentTpls=C)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),c})(),yg=(()=>{class c{constructor(s){this._El=s,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.SBq))},c.\u0275dir=l.lG2({type:c,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),c})(),Jh=(()=>{class c{constructor(s,f){this.accordion=s,this.panel=f}set ngbPanelToggle(s){s&&(this.panel=s)}}return c.\u0275fac=function(s){return new(s||c)(l.Y36((0,l.Gpc)(()=>lh)),l.Y36(du,9))},c.\u0275dir=l.lG2({type:c,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(s,f){1&s&&l.NdJ("click",function(){return f.accordion.toggle(f.panel.id)}),2&s&&(l.Ikx("disabled",f.panel.disabled),l.uIk("aria-expanded",f.panel.isOpen)("aria-controls",f.panel.id),l.ekj("collapsed",!f.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),c})(),lh=(()=>{class c{constructor(s,f,b){this._ngZone=f,this._changeDetector=b,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=s.animation,this.type=s.type,this.closeOtherPanels=s.closeOthers}isExpanded(s){return this.activeIds.indexOf(s)>-1}expand(s){this._changeOpenState(this._findPanelById(s),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(s=>this._changeOpenState(s,!0))}collapse(s){this._changeOpenState(this._findPanelById(s),!1)}collapseAll(){this.panels.forEach(s=>{this._changeOpenState(s,!1)})}toggle(s){const f=this._findPanelById(s);f&&this._changeOpenState(f,!f.isOpen)}ngAfterContentChecked(){Td(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(s=>{s.isOpen=!s.disabled&&this.activeIds.indexOf(s.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,bs.q)(1)).subscribe(()=>{this.panels.forEach(s=>{const f=s.panelDiv;f?s.initClassDone||(s.initClassDone=!0,$o(this._ngZone,f,Zf,{animation:!1,runningTransition:"continue",context:{direction:s.isOpen?"show":"hide",dimension:"height"}})):s.initClassDone=!1})})}_changeOpenState(s,f){if(null!=s&&!s.disabled&&s.isOpen!==f){let b=!1;this.panelChange.emit({panelId:s.id,nextState:f,preventDefault:()=>{b=!0}}),b||(s.isOpen=f,s.transitionRunning=!0,f&&this.closeOtherPanels&&this._closeOthers(s.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(s,f=!0){this.panels.forEach(b=>{b.id!==s&&b.isOpen&&(b.isOpen=!1,b.transitionRunning=f)})}_findPanelById(s){return this.panels.find(f=>f.id===s)||null}_updateActiveIds(){this.activeIds=this.panels.filter(s=>s.isOpen&&!s.disabled).map(s=>s.id)}_runTransitions(s){this._changeDetector.detectChanges(),this.panels.forEach(f=>{f.transitionRunning&&$o(this._ngZone,f.panelDiv,Zf,{animation:s,runningTransition:"stop",context:{direction:f.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{f.transitionRunning=!1;const{id:C}=f;f.isOpen?(f.shown.emit(),this.shown.emit(C)):(f.hidden.emit(),this.hidden.emit(C))})})}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(Jr),l.Y36(l.R0b),l.Y36(l.sBO))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-accordion"]],contentQueries:function(s,f,b){if(1&s&&l.Suo(b,du,4),2&s){let C;l.iGM(C=l.CRH())&&(f.panels=C)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(s,f){2&s&&l.uIk("aria-multiselectable",!f.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(s,f){1&s&&(l.YNc(0,ba,3,3,"ng-template",0,1,l.W1O),l.YNc(2,Rl,4,11,"ng-template",2)),2&s&&(l.xp6(2),l.Q6J("ngForOf",f.panels))},dependencies:[Xn.ax,Xn.tP,Jh,yg,Qh,Xn.O5],encapsulation:2}),c})(),ch=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[lh]}),c})();const Xh=({classList:c})=>{c.remove("show")};let Gu=(()=>{class c{constructor(s){this._ngbConfig=s,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(s){this._animation=s}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(Vs))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Cd=(()=>{class c{constructor(s,f,b,C){this._renderer=f,this._element=b,this._zone=C,this.closed=new l.vpe,this.dismissible=s.dismissible,this.type=s.type,this.animation=s.animation}close(){const s=$o(this._zone,this._element.nativeElement,Xh,{animation:this.animation,runningTransition:"continue"});return s.subscribe(()=>this.closed.emit()),s}ngOnChanges(s){const f=s.type;f&&!f.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${f.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${f.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(Gu),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(s,f){2&s&&l.ekj("fade",f.animation)("alert-dismissible",f.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:Pl,decls:2,vars:1,consts:function(){let d;return d=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",d,3,"click",4,"ngIf"],["type","button","aria-label",d,1,"btn-close",3,"click"]]},template:function(s,f){1&s&&(l.F$t(),l.Hsn(0),l.YNc(1,iu,1,0,"button",0)),2&s&&(l.xp6(1),l.Q6J("ngIf",f.dismissible))},dependencies:[Xn.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),c})(),vg=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Cd]}),c})();var hu=(()=>{return(c=hu||(hu={})).START="start",c.END="end",hu;var c})();const ef=({classList:c})=>c.contains("carousel-item-start")||c.contains("carousel-item-end"),uh=c=>{c.remove("carousel-item-start"),c.remove("carousel-item-end")},dh=c=>{uh(c),c.remove("carousel-item-prev"),c.remove("carousel-item-next")},bg=(c,d,{direction:s})=>{const{classList:f}=c;return d?(ef(c)?uh(f):(f.add("carousel-item-"+(s===hu.START?"next":"prev")),gc(c),f.add("carousel-item-"+s)),()=>{dh(f),f.add("active")}):(uh(f),dh(f),void f.add("active"))},Am=(c,d,{direction:s})=>{const{classList:f}=c;return d?(ef(c)?uh(f):f.add("carousel-item-"+s),()=>{dh(f),f.remove("active")}):(uh(f),dh(f),void f.remove("active"))};let wg=(()=>{class c{constructor(s){this._ngbConfig=s,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(s){this._animation=s}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(Vs))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),tf=0,Eg=(()=>{class c{constructor(s){this.tplRef=s,this.id="ngb-slide-"+tf++,this.slid=new l.vpe}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),c})(),hh=(()=>{class c{constructor(s,f,b,C,J){this._platformId=f,this._ngZone=b,this._cd=C,this._container=J,this.NgbSlideEventSource=Wl,this._destroy$=new qr.x,this._interval$=new mo.X(0),this._mouseHover$=new mo.X(!1),this._focused$=new mo.X(!1),this._pauseOnHover$=new mo.X(!1),this._pauseOnFocus$=new mo.X(!1),this._pause$=new mo.X(!1),this._wrap$=new mo.X(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=s.animation,this.interval=s.interval,this.wrap=s.wrap,this.keyboard=s.keyboard,this.pauseOnHover=s.pauseOnHover,this.pauseOnFocus=s.pauseOnFocus,this.showNavigationArrows=s.showNavigationArrows,this.showNavigationIndicators=s.showNavigationIndicators}set interval(s){this._interval$.next(s)}get interval(){return this._interval$.value}set wrap(s){this._wrap$.next(s)}get wrap(){return this._wrap$.value}set pauseOnHover(s){this._pauseOnHover$.next(s)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(s){this._pauseOnFocus$.next(s)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(s){this._mouseHover$.next(s)}get mouseHover(){return this._mouseHover$.value}set focused(s){this._focused$.next(s)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Wl.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Wl.ARROW_RIGHT)}ngAfterContentInit(){(0,Xn.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const s=(0,Ja.a)([this.slide.pipe((0,na.U)(f=>f.current),(0,U.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,U.O)(null))]).pipe((0,na.U)(([f,b])=>{const C=this.slides.toArray(),J=this._getSlideIdxById(f);return b?C.length>1:J<C.length-1}),(0,te.x)());(0,Ja.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,s]).pipe((0,na.U)(([f,b,C,J,ae,_e,ke])=>f||b&&C||J&&ae||!ke?0:_e),(0,te.x)(),(0,K.w)(f=>f>0?(0,Uo.H)(f,f):Or),(0,Qr.R)(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Wl.TIMER)))}),this.slides.changes.pipe((0,Qr.R)(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(s=>(c=>{Uu.get(c)?.complete()})(this._getSlideElement(s))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,bs.q)(1)).subscribe(()=>{for(const{id:s}of this.slides){const f=this._getSlideElement(s);s===this.activeId?f.classList.add("active"):f.classList.remove("active")}})})}ngAfterContentChecked(){let s=this._getSlideById(this.activeId);this.activeId=s?s.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const s=this._getSlideElement(this.activeId);s&&s.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(s,f){this._cycleToSelected(s,this._getSlideEventDirection(this.activeId,s),f)}prev(s){this._cycleToSelected(this._getPrevSlide(this.activeId),hu.END,s)}next(s){this._cycleToSelected(this._getNextSlide(this.activeId),hu.START,s)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(s,f,b){const C=this._transitionIds;if(C&&(C[0]!==s||C[1]!==this.activeId))return;let J=this._getSlideById(s);if(J&&J.id!==this.activeId){this._transitionIds=[this.activeId,s],this.slide.emit({prev:this.activeId,current:J.id,direction:f,paused:this._pause$.value,source:b});const ae={animation:this.animation,runningTransition:"stop",context:{direction:f}},_e=[],ke=this._getSlideById(this.activeId);if(ke){const en=$o(this._ngZone,this._getSlideElement(ke.id),Am,ae);en.subscribe(()=>{ke.slid.emit({isShown:!1,direction:f,source:b})}),_e.push(en)}const Qe=this.activeId;this.activeId=J.id;const jt=this._getSlideById(this.activeId),Wt=$o(this._ngZone,this._getSlideElement(J.id),bg,ae);Wt.subscribe(()=>{jt?.slid.emit({isShown:!0,direction:f,source:b})}),_e.push(Wt),Fa(..._e).pipe((0,bs.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:Qe,current:J.id,direction:f,paused:this._pause$.value,source:b})})}this._cd.markForCheck()}_getSlideEventDirection(s,f){return this._getSlideIdxById(s)>this._getSlideIdxById(f)?hu.END:hu.START}_getSlideById(s){return this.slides.find(f=>f.id===s)||null}_getSlideIdxById(s){const f=this._getSlideById(s);return null!=f?this.slides.toArray().indexOf(f):-1}_getNextSlide(s){const f=this.slides.toArray(),b=this._getSlideIdxById(s);return b===f.length-1?this.wrap?f[0].id:f[f.length-1].id:f[b+1].id}_getPrevSlide(s){const f=this.slides.toArray(),b=this._getSlideIdxById(s);return 0===b?this.wrap?f[f.length-1].id:f[0].id:f[b-1].id}_getSlideElement(s){return this._container.nativeElement.querySelector(`#slide-${s}`)}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(wg),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-carousel"]],contentQueries:function(s,f,b){if(1&s&&l.Suo(b,Eg,4),2&s){let C;l.iGM(C=l.CRH())&&(f.slides=C)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(s,f){1&s&&l.NdJ("keydown.arrowLeft",function(){return f.keyboard&&f.arrowLeft()})("keydown.arrowRight",function(){return f.keyboard&&f.arrowRight()})("mouseenter",function(){return f.mouseHover=!0})("mouseleave",function(){return f.mouseHover=!1})("focusin",function(){return f.focused=!0})("focusout",function(){return f.focused=!1}),2&s&&(l.uIk("aria-activedescendant","slide-"+f.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let d,s,f;return d=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,s=$localize`:@@ngb.carousel.previous:Previous`,f=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],d,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],s,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],f]},template:function(s,f){1&s&&(l.TgZ(0,"div",0),l.YNc(1,rh,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,Hl,4,4,"div",3),l.qZA(),l.YNc(4,oc,4,0,"button",4),l.YNc(5,pl,4,0,"button",5)),2&s&&(l.ekj("visually-hidden",!f.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",f.slides),l.xp6(2),l.Q6J("ngForOf",f.slides),l.xp6(1),l.Q6J("ngIf",f.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",f.showNavigationArrows))},dependencies:[Xn.ax,Xn.tP,Xn.O5],encapsulation:2,changeDetection:0}),c})();var Wl=(()=>{return(c=Wl||(Wl={})).TIMER="timer",c.ARROW_LEFT="arrowLeft",c.ARROW_RIGHT="arrowRight",c.INDICATOR="indicator",Wl;var c})();let oo=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[hh]}),c})(),Sd=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})();class yo{constructor(d,s,f){this.year=Es(d)?d:null,this.month=Es(s)?s:null,this.day=Es(f)?f:null}static from(d){return d instanceof yo?d:d?new yo(d.year,d.month,d.day):null}equals(d){return null!=d&&this.year===d.year&&this.month===d.month&&this.day===d.day}before(d){return!!d&&(this.year===d.year?this.month===d.month?this.day!==d.day&&this.day<d.day:this.month<d.month:this.year<d.year)}after(d){return!!d&&(this.year===d.year?this.month===d.month?this.day!==d.day&&this.day>d.day:this.month>d.month:this.year>d.year)}}function Nc(c,d){return!function Yf(c,d){return!c&&!d||!!c&&!!d&&c.equals(d)}(c,d)}function mc(c,d){return!(!c&&!d||c&&d&&c.year===d.year&&c.month===d.month)}function zc(c,d,s){return c&&d&&c.before(d)?d:c&&s&&c.after(s)?s:c||null}function qf(c,d){const{minDate:s,maxDate:f,disabled:b,markDisabled:C}=d;return!(null==c||b||C&&C(c,{year:c.year,month:c.month})||s&&c.before(s)||f&&c.after(f))}function Jf(c){return new yo(c.getFullYear(),c.getMonth()+1,c.getDate())}function ju(c){const d=new Date(c.year,c.month-1,c.day,12);return isNaN(d.getTime())||d.setFullYear(c.year),d}let Od=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:function(){return function Xf(){return new xm}()},providedIn:"root"}),c})(),xm=(()=>{class c extends Od{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(s,f="d",b=1){let C=ju(s),J=!0,ae=C.getMonth();switch(f){case"y":C.setFullYear(C.getFullYear()+b);break;case"m":ae+=b,C.setMonth(ae),ae%=12,ae<0&&(ae+=12);break;case"d":C.setDate(C.getDate()+b),J=!1;break;default:return s}return J&&C.getMonth()!==ae&&C.setDate(0),Jf(C)}getPrev(s,f="d",b=1){return this.getNext(s,f,-b)}getWeekday(s){let b=ju(s).getDay();return 0===b?7:b}getWeekNumber(s,f){7===f&&(f=0);const J=ju(s[(11-f)%7]);J.setDate(J.getDate()+4-(J.getDay()||7));const ae=J.getTime();return J.setMonth(0),J.setDate(1),Math.floor(Math.round((ae-J.getTime())/864e5)/7)+1}getToday(){return Jf(new Date)}isValid(s){if(!(s&&Es(s.year)&&Es(s.month)&&Es(s.day)&&0!==s.year))return!1;const f=ju(s);return!isNaN(f.getTime())&&f.getFullYear()===s.year&&f.getMonth()+1===s.month&&f.getDate()===s.day}}return c.\u0275fac=function(){let d;return function(f){return(d||(d=l.n5z(c)))(f||c)}}(),c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})(),zu=(()=>{class c{getMonthLabel(s){return`${this.getMonthFullName(s.month,s.year)} ${this.getYearNumerals(s.year)}`}getDayNumerals(s){return`${s.day}`}getWeekNumerals(s){return`${s}`}getYearNumerals(s){return`${s}`}getWeekLabel(){return""}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:function(s){let f=null;return f=s?new s:function ep(c){return new tp(c)}(l.LFG(l.soG)),f},providedIn:"root"}),c})(),tp=(()=>{class c extends zu{constructor(s){super(),this._locale=s,this._monthsShort=(0,Xn.UT)(s,Xn.x.Standalone,Xn.Tn.Abbreviated),this._monthsFull=(0,Xn.UT)(s,Xn.x.Standalone,Xn.Tn.Wide)}getWeekdayLabel(s,f){const b=(0,Xn.Mn)(this._locale,Xn.x.Standalone,void 0===f?Xn.Tn.Short:f);return b.map((J,ae)=>b[(ae+1)%7])[s-1]||""}getMonthShortName(s){return this._monthsShort[s-1]||""}getMonthFullName(s){return this._monthsFull[s-1]||""}getDayAriaLabel(s){const f=new Date(s.year,s.month-1,s.day);return(0,Xn.p6)(f,"fullDate",this._locale)}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(l.soG))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})(),_c=(()=>{class c{constructor(s,f){this._calendar=s,this._i18n=f,this._VALIDATORS={dayTemplateData:b=>{if(this._state.dayTemplateData!==b)return{dayTemplateData:b}},displayMonths:b=>{if(Es(b=Ta(b))&&b>0&&this._state.displayMonths!==b)return{displayMonths:b}},disabled:b=>{if(this._state.disabled!==b)return{disabled:b}},firstDayOfWeek:b=>{if(Es(b=Ta(b))&&b>=0&&this._state.firstDayOfWeek!==b)return{firstDayOfWeek:b}},focusVisible:b=>{if(this._state.focusVisible!==b&&!this._state.disabled)return{focusVisible:b}},markDisabled:b=>{if(this._state.markDisabled!==b)return{markDisabled:b}},maxDate:b=>{const C=this.toValidDate(b,null);if(Nc(this._state.maxDate,C))return{maxDate:C}},minDate:b=>{const C=this.toValidDate(b,null);if(Nc(this._state.minDate,C))return{minDate:C}},navigation:b=>{if(this._state.navigation!==b)return{navigation:b}},outsideDays:b=>{if(this._state.outsideDays!==b)return{outsideDays:b}},weekdays:b=>{const C=!0===b||!1===b?Xn.Tn.Short:b,J=!0!==b&&!1!==b||b;if(this._state.weekdayWidth!==C||this._state.weekdaysVisible!==J)return{weekdayWidth:C,weekdaysVisible:J}}},this._model$=new qr.x,this._dateSelect$=new qr.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Xn.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,Ks.h)(s=>s.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,Ks.h)(s=>null!==s))}set(s){let f=Object.keys(s).map(b=>this._VALIDATORS[b](s[b])).reduce((b,C)=>({...b,...C}),{});Object.keys(f).length>0&&this._nextState(f)}focus(s){const f=this.toValidDate(s,null);null!=f&&!this._state.disabled&&Nc(this._state.focusDate,f)&&this._nextState({focusDate:s})}focusSelect(){qf(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(s){const f=this.toValidDate(s,this._calendar.getToday());null!=f&&!this._state.disabled&&(!this._state.firstDate||mc(this._state.firstDate,f))&&this._nextState({firstDate:f})}select(s,f={}){const b=this.toValidDate(s,null);null!=b&&!this._state.disabled&&(Nc(this._state.selectedDate,b)&&this._nextState({selectedDate:b}),f.emitEvent&&qf(b,this._state)&&this._dateSelect$.next(b))}toValidDate(s,f){const b=yo.from(s);return void 0===f&&(f=this._calendar.getToday()),this._calendar.isValid(b)?b:f}getMonth(s){for(let f of this._state.months)if(s.month===f.number&&s.year===f.year)return f;throw new Error(`month ${s.month} of year ${s.year} not found`)}_nextState(s){const f=this._updateState(s);this._patchContexts(f),this._state=f,this._model$.next(this._state)}_patchContexts(s){const{months:f,displayMonths:b,selectedDate:C,focusDate:J,focusVisible:ae,disabled:_e,outsideDays:ke}=s;s.months.forEach(Qe=>{Qe.weeks.forEach(jt=>{jt.days.forEach(Wt=>{J&&(Wt.context.focused=J.equals(Wt.date)&&ae),Wt.tabindex=!_e&&J&&Wt.date.equals(J)&&J.month===Qe.number?0:-1,!0===_e&&(Wt.context.disabled=!0),void 0!==C&&(Wt.context.selected=null!==C&&C.equals(Wt.date)),Qe.number!==Wt.date.month&&(Wt.hidden="hidden"===ke||"collapsed"===ke||b>1&&Wt.date.after(f[0].firstDate)&&Wt.date.before(f[b-1].lastDate))})})})}_updateState(s){const f=Object.assign({},this._state,s);let b=f.firstDate;if(("minDate"in s||"maxDate"in s)&&(function Tg(c,d){if(d&&c&&d.before(c))throw new Error(`'maxDate' ${d} should be greater than 'minDate' ${c}`)}(f.minDate,f.maxDate),f.focusDate=zc(f.focusDate,f.minDate,f.maxDate),f.firstDate=zc(f.firstDate,f.minDate,f.maxDate),b=f.focusDate),"disabled"in s&&(f.focusVisible=!1),"selectedDate"in s&&0===this._state.months.length&&(b=f.selectedDate),"focusVisible"in s||"focusDate"in s&&(f.focusDate=zc(f.focusDate,f.minDate,f.maxDate),b=f.focusDate,0!==f.months.length&&f.focusDate&&!f.focusDate.before(f.firstDate)&&!f.focusDate.after(f.lastDate)))return f;if("firstDate"in s&&(f.firstDate=zc(f.firstDate,f.minDate,f.maxDate),b=f.firstDate),b){const J=function Ad(c,d,s,f,b){const{displayMonths:C,months:J}=s,ae=J.splice(0,J.length);return Array.from({length:C},(ke,Qe)=>{const jt=Object.assign(c.getNext(d,"m",Qe),{day:1});if(J[Qe]=null,!b){const Wt=ae.findIndex(en=>en.firstDate.equals(jt));-1!==Wt&&(J[Qe]=ae.splice(Wt,1)[0])}return jt}).forEach((ke,Qe)=>{null===J[Qe]&&(J[Qe]=function nf(c,d,s,f,b={}){const{dayTemplateData:C,minDate:J,maxDate:ae,firstDayOfWeek:_e,markDisabled:ke,outsideDays:Qe,weekdayWidth:jt,weekdaysVisible:Wt}=s,en=c.getToday();b.firstDate=null,b.lastDate=null,b.number=d.month,b.year=d.year,b.weeks=b.weeks||[],b.weekdays=b.weekdays||[],d=function Nm(c,d,s){const f=c.getDaysPerWeek(),b=new yo(d.year,d.month,1),C=c.getWeekday(b)%f;return c.getPrev(b,"d",(f+C-s)%f)}(c,d,_e),Wt||(b.weekdays.length=0);for(let Sn=0;Sn<c.getWeeksPerMonth();Sn++){let un=b.weeks[Sn];un||(un=b.weeks[Sn]={number:0,days:[],collapsed:!0});const Kn=un.days;for(let ti=0;ti<c.getDaysPerWeek();ti++){0===Sn&&Wt&&(b.weekdays[ti]=f.getWeekdayLabel(c.getWeekday(d),jt));const yi=new yo(d.year,d.month,d.day),Ji=c.getNext(yi),Ci=f.getDayAriaLabel(yi);let Zi=!!(J&&yi.before(J)||ae&&yi.after(ae));!Zi&&ke&&(Zi=ke(yi,{month:b.number,year:b.year}));let Hi=yi.equals(en),Yi=C?C(yi,{month:b.number,year:b.year}):void 0;null===b.firstDate&&yi.month===b.number&&(b.firstDate=yi),yi.month===b.number&&Ji.month!==b.number&&(b.lastDate=yi);let Xi=Kn[ti];Xi||(Xi=Kn[ti]={}),Xi.date=yi,Xi.context=Object.assign(Xi.context||{},{$implicit:yi,date:yi,data:Yi,currentMonth:b.number,currentYear:b.year,disabled:Zi,focused:!1,selected:!1,today:Hi}),Xi.tabindex=-1,Xi.ariaLabel=Ci,Xi.hidden=!1,d=Ji}un.number=c.getWeekNumber(Kn.map(ti=>ti.date),_e),un.collapsed="collapsed"===Qe&&Kn[0].date.month!==b.number&&Kn[Kn.length-1].date.month!==b.number}return b}(c,ke,s,f,ae.shift()||{}))}),J}(this._calendar,b,f,this._i18n,"dayTemplateData"in s||"firstDayOfWeek"in s||"markDisabled"in s||"minDate"in s||"maxDate"in s||"disabled"in s||"outsideDays"in s||"weekdaysVisible"in s);f.months=J,f.firstDate=J[0].firstDate,f.lastDate=J[J.length-1].lastDate,"selectedDate"in s&&!qf(f.selectedDate,f)&&(f.selectedDate=null),"firstDate"in s&&(!f.focusDate||f.focusDate.before(f.firstDate)||f.focusDate.after(f.lastDate))&&(f.focusDate=b);const ae=!this._state.firstDate||this._state.firstDate.year!==f.firstDate.year,_e=!this._state.firstDate||this._state.firstDate.month!==f.firstDate.month;"select"===f.navigation?(("minDate"in s||"maxDate"in s||0===f.selectBoxes.years.length||ae)&&(f.selectBoxes.years=function Id(c,d,s){if(!c)return[];const f=d?Math.max(d.year,c.year-500):c.year-10,C=(s?Math.min(s.year,c.year+500):c.year+10)-f+1,J=Array(C);for(let ae=0;ae<C;ae++)J[ae]=f+ae;return J}(f.firstDate,f.minDate,f.maxDate)),("minDate"in s||"maxDate"in s||0===f.selectBoxes.months.length||ae)&&(f.selectBoxes.months=function Mm(c,d,s,f){if(!d)return[];let b=c.getMonths(d.year);if(s&&d.year===s.year){const C=b.findIndex(J=>J===s.month);b=b.slice(C)}if(f&&d.year===f.year){const C=b.findIndex(J=>J===f.month);b=b.slice(0,C+1)}return b}(this._calendar,f.firstDate,f.minDate,f.maxDate))):f.selectBoxes={years:[],months:[]},("arrows"===f.navigation||"select"===f.navigation)&&(_e||ae||"minDate"in s||"maxDate"in s||"disabled"in s)&&(f.prevDisabled=f.disabled||function Dg(c,d,s){const f=Object.assign(c.getPrev(d,"m"),{day:1});return null!=s&&(f.year===s.year&&f.month<s.month||f.year<s.year&&1===s.month)}(this._calendar,f.firstDate,f.minDate),f.nextDisabled=f.disabled||function Qf(c,d,s){const f=Object.assign(c.getNext(d,"m"),{day:1});return null!=s&&f.after(s)}(this._calendar,f.lastDate,f.maxDate))}return f}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(Od),l.LFG(zu))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();var Kl=(()=>{return(c=Kl||(Kl={}))[c.PREV=0]="PREV",c[c.NEXT=1]="NEXT",Kl;var c})();let fu=(()=>{class c{constructor(s){this.i18n=s}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(zu))},c.\u0275cmp=l.Xpm({type:c,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(s,f){2&s&&l.ekj("bg-primary",f.selected)("text-white",f.selected)("text-muted",f.isMuted())("outside",f.isMuted())("active",f.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:ru,decls:1,vars:1,template:function(s,f){1&s&&l._uU(0),2&s&&l.Oqu(f.i18n.getDayNumerals(f.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),c})(),Rm=(()=>{class c{constructor(s,f){this.i18n=s,this._renderer=f,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(s){this.select.emit(new yo(this.date.year,Ta(s),1))}changeYear(s){this.select.emit(new yo(Ta(s),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(zu),l.Y36(l.Qsj))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(s,f){if(1&s&&(l.Gf(su,7,l.SBq),l.Gf(Ha,7,l.SBq)),2&s){let b;l.iGM(b=l.CRH())&&(f.monthSelect=b.first),l.iGM(b=l.CRH())&&(f.yearSelect=b.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let d,s,f,b;return d=$localize`:@@ngb.datepicker.select-month:Select month`,s=$localize`:@@ngb.datepicker.select-month:Select month`,f=$localize`:@@ngb.datepicker.select-year:Select year`,b=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",d,"title",s,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",f,"title",b,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(s,f){1&s&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(C){return f.changeMonth(C.target.value)}),l.YNc(2,wa,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(C){return f.changeYear(C.target.value)}),l.YNc(5,fd,2,2,"option",2),l.qZA()),2&s&&(l.Q6J("disabled",f.disabled),l.xp6(2),l.Q6J("ngForOf",f.months),l.xp6(1),l.Q6J("disabled",f.disabled),l.xp6(2),l.Q6J("ngForOf",f.years))},dependencies:[Xn.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),c})(),rf=(()=>{class c{constructor(s){this.i18n=s,this.navigation=Kl,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(s){s.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(s){s.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(zu))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let d,s,f,b;return d=$localize`:@@ngb.datepicker.previous-month:Previous month`,s=$localize`:@@ngb.datepicker.previous-month:Previous month`,f=$localize`:@@ngb.datepicker.next-month:Next month`,b=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",d,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",f,"title",b,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(s,f){1&s&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(C){return f.onClickPrev(C)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,ac,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,Co,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(C){return f.onClickNext(C)}),l._UZ(7,"span",2),l.qZA()()),2&s&&(l.xp6(1),l.Q6J("disabled",f.prevDisabled),l.xp6(2),l.Q6J("ngIf",f.showSelect),l.xp6(1),l.Q6J("ngIf",!f.showSelect),l.xp6(2),l.Q6J("disabled",f.nextDisabled))},dependencies:[Xn.O5,Xn.ax,Rm],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),c})();var ar=(()=>{return(c=ar||(ar={}))[c.Tab=9]="Tab",c[c.Enter=13]="Enter",c[c.Escape=27]="Escape",c[c.Space=32]="Space",c[c.PageUp=33]="PageUp",c[c.PageDown=34]="PageDown",c[c.End=35]="End",c[c.Home=36]="Home",c[c.ArrowLeft=37]="ArrowLeft",c[c.ArrowUp=38]="ArrowUp",c[c.ArrowRight=39]="ArrowRight",c[c.ArrowDown=40]="ArrowDown",ar;var c})();let Cg=(()=>{class c{processKey(s,f){const{state:b,calendar:C}=f;switch(s.which){case ar.PageUp:f.focusDate(C.getPrev(b.focusedDate,s.shiftKey?"y":"m",1));break;case ar.PageDown:f.focusDate(C.getNext(b.focusedDate,s.shiftKey?"y":"m",1));break;case ar.End:f.focusDate(s.shiftKey?b.maxDate:b.lastDate);break;case ar.Home:f.focusDate(s.shiftKey?b.minDate:b.firstDate);break;case ar.ArrowLeft:f.focusDate(C.getPrev(b.focusedDate,"d",1));break;case ar.ArrowUp:f.focusDate(C.getPrev(b.focusedDate,"d",C.getDaysPerWeek()));break;case ar.ArrowRight:f.focusDate(C.getNext(b.focusedDate,"d",1));break;case ar.ArrowDown:f.focusDate(C.getNext(b.focusedDate,"d",C.getDaysPerWeek()));break;case ar.Enter:case ar.Space:f.focusSelect();break;default:return}s.preventDefault(),s.stopPropagation()}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),fh=(()=>{class c{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Xn.Tn.Short}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Zl=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:function(){return function ph(){return new pu}()},providedIn:"root"}),c})(),pu=(()=>{class c extends Zl{fromModel(s){return s&&Es(s.year)&&Es(s.month)&&Es(s.day)?{year:s.year,month:s.month,day:s.day}:null}toModel(s){return s&&Es(s.year)&&Es(s.month)&&Es(s.day)?{year:s.year,month:s.month,day:s.day}:null}}return c.\u0275fac=function(){let d;return function(f){return(d||(d=l.n5z(c)))(f||c)}}(),c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})(),xc=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),c})(),$c=(()=>{class c{constructor(s,f,b,C){this.i18n=s,this.datepicker=f,this._keyboardService=b,this._service=C}set month(s){this.viewModel=this._service.getMonth(s)}onKeyDown(s){this._keyboardService.processKey(s,this.datepicker)}doSelect(s){!s.context.disabled&&!s.hidden&&this.datepicker.onDateSelect(s.date)}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(zu),l.Y36((0,l.Gpc)(()=>gu)),l.Y36(Cg),l.Y36(_c))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(s,f){1&s&&l.NdJ("keydown",function(C){return f.onKeyDown(C)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(s,f){1&s&&(l.YNc(0,N,3,2,"div",0),l.YNc(1,yt,1,1,"ng-template",1)),2&s&&(l.Q6J("ngIf",f.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",f.viewModel.weeks))},dependencies:[Xn.O5,Xn.ax,Xn.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),c})(),gu=(()=>{class c{constructor(s,f,b,C,J,ae,_e,ke){this._service=s,this._calendar=f,this.i18n=b,this._elementRef=ae,this._ngbDateAdapter=_e,this._ngZone=ke,this._controlValue=null,this._destroyed$=new qr.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=Qe=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Qe=>this[Qe]=C[Qe]),s.dateSelect$.pipe((0,Qr.R)(this._destroyed$)).subscribe(Qe=>{this.dateSelect.emit(Qe)}),s.model$.pipe((0,Qr.R)(this._destroyed$)).subscribe(Qe=>{const jt=Qe.firstDate,Wt=this.model?this.model.firstDate:null;this._publicState={maxDate:Qe.maxDate,minDate:Qe.minDate,firstDate:Qe.firstDate,lastDate:Qe.lastDate,focusedDate:Qe.focusDate,months:Qe.months.map(ti=>ti.firstDate)};let en=!1;if(!jt.equals(Wt)&&(this.navigate.emit({current:Wt?{year:Wt.year,month:Wt.month}:null,next:{year:jt.year,month:jt.month},preventDefault:()=>en=!0}),en&&null!==Wt))return void this._service.open(Wt);const Sn=Qe.selectedDate,un=Qe.focusDate,Kn=this.model?this.model.focusDate:null;this.model=Qe,Nc(Sn,this._controlValue)&&(this._controlValue=Sn,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Sn))),Nc(un,Kn)&&Kn&&Qe.focusVisible&&this.focus(),J.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(s){this._service.focus(yo.from(s))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,bs.q)(1)).subscribe(()=>{const s=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');s&&s.focus()})}navigateTo(s){this._service.open(yo.from(s?s.day?s:{...s,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const s=(0,Fr.R)(this._contentEl.nativeElement,"focusin"),f=(0,Fr.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:b}=this._elementRef;(0,ta.T)(s,f).pipe((0,Ks.h)(({target:C,relatedTarget:J})=>!(gg(C,"ngb-dp-day")&&gg(J,"ngb-dp-day")&&b.contains(C)&&b.contains(J))),(0,Qr.R)(this._destroyed$)).subscribe(({type:C})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===C})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const s={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(f=>s[f]=this[f]),this._service.set(s),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(s){const f={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(b=>b in s).forEach(b=>f[b]=this[b]),this._service.set(f),"startDate"in s){const{currentValue:b,previousValue:C}=s.startDate;mc(C,b)&&this.navigateTo(this.startDate)}}onDateSelect(s){this._service.focus(s),this._service.select(s,{emitEvent:!0})}onNavigateDateSelect(s){this._service.open(s)}onNavigateEvent(s){switch(s){case Kl.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Kl.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this._service.set({disabled:s})}writeValue(s){this._controlValue=yo.from(this._ngbDateAdapter.fromModel(s)),this._service.select(this._controlValue)}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(_c),l.Y36(Od),l.Y36(zu),l.Y36(fh),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(Zl),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-datepicker"]],contentQueries:function(s,f,b){if(1&s&&l.Suo(b,xc,7),2&s){let C;l.iGM(C=l.CRH())&&(f.contentTemplate=C.first)}},viewQuery:function(s,f){if(1&s&&(l.Gf(cn,7),l.Gf(Cn,7)),2&s){let b;l.iGM(b=l.CRH())&&(f._defaultDayTemplate=b.first),l.iGM(b=l.CRH())&&(f._contentEl=b.first)}},hostVars:2,hostBindings:function(s,f){2&s&&l.ekj("disabled",f.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:xr.JU,useExisting:(0,l.Gpc)(()=>c),multi:!0},_c]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(s,f){if(1&s&&(l.YNc(0,ni,1,5,"ng-template",null,0,l.W1O),l.YNc(2,zo,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,Bs,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,Hc,0,0,"ng-template",6),l.qZA(),l.YNc(9,lc,0,0,"ng-template",6)),2&s){const b=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==f.navigation),l.xp6(1),l.ekj("ngb-dp-months",!f.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==f.contentTemplate?null:f.contentTemplate.templateRef)||b),l.xp6(1),l.Q6J("ngTemplateOutlet",f.footerTemplate)}},dependencies:[Xn.O5,Xn.ax,Xn.tP,fu,$c,rf],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),c})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const sf=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rp(c){const d=Array.from(c.querySelectorAll(sf)).filter(s=>-1!==s.tabIndex);return[d[0],d[d.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Zu=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[gu,$c]}),c})(),zg=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})();class qc{constructor(d,s,f){this.nodes=d,this.viewRef=s,this.componentRef=f}}let _u=(()=>{class c{constructor(s,f){this._el=s,this._zone=f}ngOnInit(){this._zone.onStable.asObservable().pipe((0,bs.q)(1)).subscribe(()=>{$o(this._zone,this._el.nativeElement,(s,f)=>{f&&gc(s),s.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $o(this._zone,this._el.nativeElement,({classList:s})=>s.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.SBq),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(s,f){2&s&&(l.Tol("modal-backdrop"+(f.backdropClass?" "+f.backdropClass:"")),l.ekj("show",!f.animation)("fade",f.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(s,f){},encapsulation:2}),c})();class Gd{close(d){}dismiss(d){}}class Th{constructor(d,s,f,b){this._windowCmptRef=d,this._contentRef=s,this._backdropCmptRef=f,this._beforeDismiss=b,this._closed=new qr.x,this._dismissed=new qr.x,this._hidden=new qr.x,d.instance.dismissEvent.subscribe(C=>{this.dismiss(C)}),this.result=new Promise((C,J)=>{this._resolve=C,this._reject=J}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Qr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Qr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(d){this._windowCmptRef&&(this._closed.next(d),this._resolve(d),this._removeModalElements())}_dismiss(d){this._dismissed.next(d),this._reject(d),this._removeModalElements()}dismiss(d){if(this._windowCmptRef)if(this._beforeDismiss){const s=this._beforeDismiss();!function qh(c){return c&&c.then}(s)?!1!==s&&this._dismiss(d):s.then(f=>{!1!==f&&this._dismiss(d)},()=>{})}else this._dismiss(d)}_removeModalElements(){const d=this._windowCmptRef.instance.hide(),s=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Vo.of)(void 0);d.subscribe(()=>{const{nativeElement:f}=this._windowCmptRef.location;f.parentNode.removeChild(f),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),s.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:f}=this._backdropCmptRef.location;f.parentNode.removeChild(f),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Fa(d,s).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yu=(()=>{return(c=yu||(yu={}))[c.BACKDROP_CLICK=0]="BACKDROP_CLICK",c[c.ESC=1]="ESC",yu;var c})();let zm=(()=>{class c{constructor(s,f,b){this._document=s,this._elRef=f,this._zone=b,this._closed$=new qr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new qr.x,this.hidden=new qr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Td(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(s){this.dismissEvent.emit(s)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,bs.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:s}=this._elRef,f={animation:this.animation,runningTransition:"stop"},J=Fa($o(this._zone,s,()=>s.classList.remove("show"),f),$o(this._zone,this._dialogEl.nativeElement,()=>{},f));return J.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),J}_show(){const s={animation:this.animation,runningTransition:"continue"};Fa($o(this._zone,this._elRef.nativeElement,(C,J)=>{J&&gc(C),C.classList.add("show")},s),$o(this._zone,this._dialogEl.nativeElement,()=>{},s)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:s}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Fr.R)(s,"keydown").pipe((0,Qr.R)(this._closed$),(0,Ks.h)(b=>b.which===ar.Escape)).subscribe(b=>{this.keyboard?requestAnimationFrame(()=>{b.defaultPrevented||this._zone.run(()=>this.dismiss(yu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let f=!1;(0,Fr.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Qr.R)(this._closed$),(0,pe.b)(()=>f=!1),(0,K.w)(()=>(0,Fr.R)(s,"mouseup").pipe((0,Qr.R)(this._closed$),(0,bs.q)(1))),(0,Ks.h)(({target:b})=>s===b)).subscribe(()=>{f=!0}),(0,Fr.R)(s,"click").pipe((0,Qr.R)(this._closed$)).subscribe(({target:b})=>{s===b&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!f&&this._zone.run(()=>this.dismiss(yu.BACKDROP_CLICK))),f=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:s}=this._elRef;if(!s.contains(document.activeElement)){const f=s.querySelector("[ngbAutofocus]"),b=rp(s)[0];(f||b||s).focus()}}_restoreFocus(){const s=this._document.body,f=this._elWithFocus;let b;b=f&&f.focus&&s.contains(f)?f:s,this._zone.runOutsideAngular(()=>{setTimeout(()=>b.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$o(this._zone,this._elRef.nativeElement,({classList:s})=>(s.add("modal-static"),()=>s.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(Xn.K0),l.Y36(l.SBq),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-modal-window"]],viewQuery:function(s,f){if(1&s&&l.Gf(Gc,7),2&s){let b;l.iGM(b=l.CRH())&&(f._dialogEl=b.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(s,f){2&s&&(l.uIk("aria-modal",!0)("aria-labelledby",f.ariaLabelledBy)("aria-describedby",f.ariaDescribedBy),l.Tol("modal d-block"+(f.windowClass?" "+f.windowClass:"")),l.ekj("fade",f.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:Pl,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(s,f){1&s&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&s&&l.Tol("modal-dialog"+(f.size?" modal-"+f.size:"")+(f.centered?" modal-dialog-centered":"")+f.fullscreenClass+(f.scrollable?" modal-dialog-scrollable":"")+(f.modalDialogClass?" "+f.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),c})(),Yu=(()=>{class c{constructor(s){this._document=s}hide(){const s=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),f=this._document.body,b=f.style,{overflow:C,paddingRight:J}=b;if(s>0){const ae=parseFloat(window.getComputedStyle(f).paddingRight);b.paddingRight=`${ae+s}px`}return b.overflow="hidden",()=>{s>0&&(b.paddingRight=J),b.overflow=C}}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(Xn.K0))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),_p=(()=>{class c{constructor(s,f,b,C,J,ae,_e){this._applicationRef=s,this._injector=f,this._environmentInjector=b,this._document=C,this._scrollBar=J,this._rendererFactory=ae,this._ngZone=_e,this._activeWindowCmptHasChanged=new qr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ke=this._windowCmpts[this._windowCmpts.length-1];((c,d,s,f=!1)=>{c.runOutsideAngular(()=>{const b=(0,Fr.R)(d,"focusin").pipe((0,Qr.R)(s),(0,na.U)(C=>C.target));(0,Fr.R)(d,"keydown").pipe((0,Qr.R)(s),(0,Ks.h)(C=>C.which===ar.Tab),Jt(b)).subscribe(([C,J])=>{const[ae,_e]=rp(d);(J===ae||J===d)&&C.shiftKey&&(_e.focus(),C.preventDefault()),J===_e&&!C.shiftKey&&(ae.focus(),C.preventDefault())}),f&&(0,Fr.R)(d,"click").pipe((0,Qr.R)(s),Jt(b),(0,na.U)(C=>C[1])).subscribe(C=>C.focus())})})(this._ngZone,ke.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ke.location.nativeElement)}})}_restoreScrollBar(){const s=this._scrollBarRestoreFn;s&&(this._scrollBarRestoreFn=null,s())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(s,f,b){const C=b.container instanceof HTMLElement?b.container:fc(b.container)?this._document.querySelector(b.container):this._document.body,J=this._rendererFactory.createRenderer(null,null);if(!C)throw new Error(`The specified modal container "${b.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const ae=new Gd,_e=(s=b.injector||s).get(l.lqb,null)||this._environmentInjector,ke=this._getContentRef(s,_e,f,ae,b);let Qe=!1!==b.backdrop?this._attachBackdrop(C):void 0,jt=this._attachWindowComponent(C,ke.nodes),Wt=new Th(jt,ke,Qe,b.beforeDismiss);return this._registerModalRef(Wt),this._registerWindowCmpt(jt),Wt.hidden.pipe((0,bs.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(J.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),ae.close=en=>{Wt.close(en)},ae.dismiss=en=>{Wt.dismiss(en)},this._applyWindowOptions(jt.instance,b),1===this._modalRefs.length&&J.addClass(this._document.body,"modal-open"),Qe&&Qe.instance&&(this._applyBackdropOptions(Qe.instance,b),Qe.changeDetectorRef.detectChanges()),jt.changeDetectorRef.detectChanges(),Wt}get activeInstances(){return this._activeInstances}dismissAll(s){this._modalRefs.forEach(f=>f.dismiss(s))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(s){let f=(0,l.LMc)(_u,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(f.hostView),s.appendChild(f.location.nativeElement),f}_attachWindowComponent(s,f){let b=(0,l.LMc)(zm,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:f});return this._applicationRef.attachView(b.hostView),s.appendChild(b.location.nativeElement),b}_applyWindowOptions(s,f){this._windowAttributes.forEach(b=>{fc(f[b])&&(s[b]=f[b])})}_applyBackdropOptions(s,f){this._backdropAttributes.forEach(b=>{fc(f[b])&&(s[b]=f[b])})}_getContentRef(s,f,b,C,J){return b?b instanceof l.Rgc?this._createFromTemplateRef(b,C):Td(b)?this._createFromString(b):this._createFromComponent(s,f,b,C,J):new qc([])}_createFromTemplateRef(s,f){const C=s.createEmbeddedView({$implicit:f,close(J){f.close(J)},dismiss(J){f.dismiss(J)}});return this._applicationRef.attachView(C),new qc([C.rootNodes],C)}_createFromString(s){const f=this._document.createTextNode(`${s}`);return new qc([[f]])}_createFromComponent(s,f,b,C,J){const ae=l.zs3.create({providers:[{provide:Gd,useValue:C}],parent:s}),_e=(0,l.LMc)(b,{environmentInjector:f,elementInjector:ae}),ke=_e.location.nativeElement;return J.scrollable&&ke.classList.add("component-host-scrollable"),this._applicationRef.attachView(_e.hostView),new qc([[ke]],_e.hostView,_e)}_setAriaHidden(s){const f=s.parentElement;f&&s!==this._document.body&&(Array.from(f.children).forEach(b=>{b!==s&&"SCRIPT"!==b.nodeName&&(this._ariaHiddenValues.set(b,b.getAttribute("aria-hidden")),b.setAttribute("aria-hidden","true"))}),this._setAriaHidden(f))}_revertAriaHidden(){this._ariaHiddenValues.forEach((s,f)=>{s?f.setAttribute("aria-hidden",s):f.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(s){const f=()=>{const b=this._modalRefs.indexOf(s);b>-1&&(this._modalRefs.splice(b,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(s),this._activeInstances.emit(this._modalRefs),s.result.then(f,f)}_registerWindowCmpt(s){this._windowCmpts.push(s),this._activeWindowCmptHasChanged.next(),s.onDestroy(()=>{const f=this._windowCmpts.indexOf(s);f>-1&&(this._windowCmpts.splice(f,1),this._activeWindowCmptHasChanged.next())})}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(Xn.K0),l.LFG(Yu),l.LFG(l.FYo),l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),$m=(()=>{class c{constructor(s){this._ngbConfig=s,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(s){this._animation=s}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(Vs))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),yf=(()=>{class c{constructor(s,f,b){this._injector=s,this._modalStack=f,this._config=b}open(s,f={}){const b={...this._config,animation:this._config.animation,...f};return this._modalStack.open(this._injector,s,b)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(s){this._modalStack.dismissAll(s)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(l.zs3),l.LFG(_p),l.LFG($m))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),$g=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[yf]}),c})();const vf=({classList:c})=>(c.remove("show"),()=>c.remove("active")),Dh=(c,d)=>{d&&gc(c),c.classList.add("show")};let Qu=(()=>{class c{constructor(s){this.elRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.SBq))},c.\u0275dir=l.lG2({type:c,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(s,f){2&s&&(l.Ikx("id",f.item.panelDomId),l.uIk("role",f.role?f.role:f.nav.roles?"tabpanel":void 0)("aria-labelledby",f.item.domId),l.ekj("fade",f.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),c})(),Ch=(()=>{class c{constructor(s,f){this._cd=s,this._ngZone=f,this._activePane=null}isPanelTransitioning(s){return this._activePane?.item===s}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,Qr.R)(this.nav.destroy$),(0,U.O)(this._activePane?.item||null),(0,te.x)(),function Nr(c){return(0,Ks.h)((d,s)=>c<=s)}(1)).subscribe(s=>{const f={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?$o(this._ngZone,this._activePane.elRef.nativeElement,vf,f).subscribe(()=>{const b=this._activePane?.item;this._activePane=this._getPaneForItem(s),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),$o(this._ngZone,this._activePane.elRef.nativeElement,Dh,f).subscribe(()=>{s&&(s.shown.emit(),this.nav.shown.emit(s.id))})),b&&(b.hidden.emit(),this.nav.hidden.emit(b.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(s){return this._panes&&this._panes.find(f=>f.item===s)||null}_getActivePane(){return this._panes&&this._panes.find(s=>s.item.active)||null}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.sBO),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["","ngbNavOutlet",""]],viewQuery:function(s,f){if(1&s&&l.Gf(Qu,5),2&s){let b;l.iGM(b=l.CRH())&&(f._panes=b)}},hostVars:2,hostBindings:function(s,f){2&s&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:ll,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(s,f){1&s&&l.YNc(0,Ru,1,1,"ng-template",0),2&s&&l.Q6J("ngForOf",f.nav.items)},dependencies:[Qu,Xn.ax,Xn.O5,Xn.tP],encapsulation:2,changeDetection:0}),c})(),Sh=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Ch]}),c})(),bf=(()=>{class c{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),wf=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),c})(),vp=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),c})(),Wg=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),c})(),Da=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),c})(),bp=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),c})(),wp=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),c})(),Ih=(()=>{class c{constructor(s){this.templateRef=s}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(l.Rgc))},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),c})(),Ca=(()=>{class c{constructor(s){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=s.disabled,this.boundaryLinks=s.boundaryLinks,this.directionLinks=s.directionLinks,this.ellipses=s.ellipses,this.maxSize=s.maxSize,this.pageSize=s.pageSize,this.rotate=s.rotate,this.size=s.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(s){this._updatePages(s)}ngOnChanges(s){this._updatePages(this.page)}isEllipsis(s){return-1===s}_applyEllipses(s,f){this.ellipses&&(s>0&&(s>2?this.pages.unshift(-1):2===s&&this.pages.unshift(2),this.pages.unshift(1)),f<this.pageCount&&(f<this.pageCount-2?this.pages.push(-1):f===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let s=0,f=this.pageCount,b=Math.floor(this.maxSize/2);return this.page<=b?f=this.maxSize:this.pageCount-this.page<b?s=this.pageCount-this.maxSize:(s=this.page-b-1,f=this.page+(this.maxSize%2==0?b-1:b)),[s,f]}_applyPagination(){let f=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[f,f+this.maxSize]}_setPageInRange(s){const f=this.page;this.page=Yh(s,this.pageCount,1),this.page!==f&&Qi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(s){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Qi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let f=1;f<=this.pageCount;f++)this.pages.push(f);if(this._setPageInRange(s),this.maxSize>0&&this.pageCount>this.maxSize){let f=0,b=this.pageCount;[f,b]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(f,b),this._applyEllipses(f,b)}}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(bf))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-pagination"]],contentQueries:function(s,f,b){if(1&s&&(l.Suo(b,wf,5),l.Suo(b,vp,5),l.Suo(b,Wg,5),l.Suo(b,Da,5),l.Suo(b,bp,5),l.Suo(b,wp,5),l.Suo(b,Ih,5)),2&s){let C;l.iGM(C=l.CRH())&&(f.tplEllipsis=C.first),l.iGM(C=l.CRH())&&(f.tplFirst=C.first),l.iGM(C=l.CRH())&&(f.tplLast=C.first),l.iGM(C=l.CRH())&&(f.tplNext=C.first),l.iGM(C=l.CRH())&&(f.tplNumber=C.first),l.iGM(C=l.CRH())&&(f.tplPrevious=C.first),l.iGM(C=l.CRH())&&(f.tplPages=C.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let d,s,f,b,C,J,ae,_e;return d=$localize`:@@ngb.pagination.first:««`,s=$localize`:@@ngb.pagination.previous:«`,f=$localize`:@@ngb.pagination.next:»`,b=$localize`:@@ngb.pagination.last:»»`,C=$localize`:@@ngb.pagination.first-aria:First`,J=$localize`:@@ngb.pagination.previous-aria:Previous`,ae=$localize`:@@ngb.pagination.next-aria:Next`,_e=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],d,s,f,b,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",C,"href","",1,"page-link",3,"click"],["aria-label",J,"href","",1,"page-link",3,"click"],["aria-label",ae,"href","",1,"page-link",3,"click"],["aria-label",_e,"href","",1,"page-link",3,"click"]]},template:function(s,f){if(1&s&&(l.YNc(0,oh,2,0,"ng-template",null,0,l.W1O),l.YNc(2,zh,2,0,"ng-template",null,1,l.W1O),l.YNc(4,ou,2,0,"ng-template",null,2,l.W1O),l.YNc(6,au,2,0,"ng-template",null,3,l.W1O),l.YNc(8,uc,1,0,"ng-template",null,4,l.W1O),l.YNc(10,lu,2,2,"ng-template",null,5,l.W1O),l.YNc(12,_,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,se,3,9,"li",7),l.YNc(16,Ut,3,8,"li",7),l.YNc(17,Tn,0,0,"ng-template",8),l.YNc(18,hi,3,9,"li",7),l.YNc(19,Ea,3,9,"li",7),l.qZA()),2&s){const b=l.MAs(13);l.xp6(14),l.Tol("pagination"+(f.size?" pagination-"+f.size:"")),l.xp6(1),l.Q6J("ngIf",f.boundaryLinks),l.xp6(1),l.Q6J("ngIf",f.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==f.tplPages?null:f.tplPages.templateRef)||b)("ngTemplateOutletContext",l.kEZ(8,zl,f.page,f.pages,f.disabled)),l.xp6(1),l.Q6J("ngIf",f.directionLinks),l.xp6(1),l.Q6J("ngIf",f.boundaryLinks)}},dependencies:[Xn.O5,Xn.ax,Xn.tP],encapsulation:2,changeDetection:0}),c})(),Tp=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Ca]}),c})(),Ah=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})(),Oh=(()=>{class c{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Cp=(()=>{class c{constructor(s){this.value=0,this.max=s.max,this.animated=s.animated,this.ariaLabel=s.ariaLabel,this.striped=s.striped,this.textType=s.textType,this.type=s.type,this.showValue=s.showValue,this.height=s.height}set max(s){this._max=!Qi(s)||s<=0?100:s}get max(){return this._max}getValue(){return Yh(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(Oh))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(s,f){2&s&&(l.uIk("aria-valuenow",f.getValue())("aria-valuemax",f.max)("aria-label",f.ariaLabel),l.Udp("height",f.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:Pl,decls:3,vars:11,consts:function(){let d;return d=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],d]},template:function(s,f){1&s&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,Ga,3,3,"span",0),l.Hsn(2),l.qZA()),2&s&&(l.MT6("progress-bar",f.type?f.textType?" bg-"+f.type:" text-bg-"+f.type:"","",f.textType?" text-"+f.textType:"",""),l.Udp("width",f.getPercentValue(),"%"),l.ekj("progress-bar-animated",f.animated)("progress-bar-striped",f.striped),l.xp6(1),l.Q6J("ngIf",f.showValue))},dependencies:[Xn.O5,Xn.Zx],encapsulation:2,changeDetection:0}),c})(),Sp=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Cp]}),c})(),Ql=(()=>{class c{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Mh=(()=>{class c{constructor(s,f){this._changeDetectorRef=f,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=b=>{},this.onTouched=()=>{},this.max=s.max,this.readonly=s.readonly,this.tabindex=s.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(s){this.isInteractive()&&this._updateState(s),this.hover.emit(s)}handleBlur(){this.onTouched()}handleClick(s){this.isInteractive()&&this.update(this.resettable&&this.rate===s?0:s)}handleKeyDown(s){switch(s.which){case ar.ArrowDown:case ar.ArrowLeft:this.update(this.rate-1);break;case ar.ArrowUp:case ar.ArrowRight:this.update(this.rate+1);break;case ar.Home:this.update(0);break;case ar.End:this.update(this.max);break;default:return}s.preventDefault()}ngOnChanges(s){s.rate&&this.update(this.rate),s.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(s){this.disabled=s}update(s,f=!0){const b=Yh(s,this.max,0);this.isInteractive()&&this.rate!==b&&(this.rate=b,this.rateChange.emit(this.rate)),f&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(s){this.update(s,!1),this._changeDetectorRef.markForCheck()}_updateState(s){this.nextRate=s,this.contexts.forEach((f,b)=>f.fill=Math.round(100*Yh(s-b,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(s,f)=>({fill:0,index:f}))}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(Ql),l.Y36(l.sBO))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-rating"]],contentQueries:function(s,f,b){if(1&s&&l.Suo(b,l.Rgc,5),2&s){let C;l.iGM(C=l.CRH())&&(f.starTemplateFromContent=C.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(s,f){1&s&&l.NdJ("blur",function(){return f.handleBlur()})("keydown",function(C){return f.handleKeyDown(C)})("mouseleave",function(){return f.reset()}),2&s&&(l.Ikx("tabindex",f.disabled?-1:f.tabindex),l.uIk("aria-valuemax",f.max)("aria-valuenow",f.nextRate)("aria-valuetext",f.ariaValueText())("aria-disabled",!!f.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:xr.JU,useExisting:(0,l.Gpc)(()=>c),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(s,f){1&s&&(l.YNc(0,_d,1,1,"ng-template",null,0,l.W1O),l.YNc(2,yd,4,5,"ng-template",1)),2&s&&(l.xp6(2),l.Q6J("ngForOf",f.contexts))},dependencies:[Xn.ax,Xn.tP],encapsulation:2,changeDetection:0}),c})(),Jc=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Mh]}),c})();class Ip{constructor(d,s,f){this.hour=Ta(d),this.minute=Ta(s),this.second=Ta(f)}changeHour(d=1){this.updateHour((isNaN(this.hour)?0:this.hour)+d)}updateHour(d){this.hour=Qi(d)?(d<0?24+d:d)%24:NaN}changeMinute(d=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+d)}updateMinute(d){Qi(d)?(this.minute=d%60<0?60+d%60:d%60,this.changeHour(Math.floor(d/60))):this.minute=NaN}changeSecond(d=1){this.updateSecond((isNaN(this.second)?0:this.second)+d)}updateSecond(d){Qi(d)?(this.second=d<0?60+d%60:d%60,this.changeMinute(Math.floor(d/60))):this.second=NaN}isValid(d=!0){return Qi(this.hour)&&Qi(this.minute)&&(!d||Qi(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let qg=(()=>{class c{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Qg=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:function(){return function Ap(){return new Op}()},providedIn:"root"}),c})(),Op=(()=>{class c extends Qg{fromModel(s){return s&&Es(s.hour)&&Es(s.minute)?{hour:s.hour,minute:s.minute,second:Es(s.second)?s.second:null}:null}toModel(s){return s&&Es(s.hour)&&Es(s.minute)?{hour:s.hour,minute:s.minute,second:Es(s.second)?s.second:null}:null}}return c.\u0275fac=function(){let d;return function(f){return(d||(d=l.n5z(c)))(f||c)}}(),c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})(),Df=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=l.Yz7({token:c,factory:function(s){let f=null;return f=s?new s:function Mp(c){return new Cf(c)}(l.LFG(l.soG)),f},providedIn:"root"}),c})(),Cf=(()=>{class c extends Df{constructor(s){super(),this._periods=(0,Xn.ol)(s,Xn.x.Standalone,Xn.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(l.soG))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();const $d=/[^0-9]/g;let Sf=(()=>{class c{constructor(s,f,b,C){this._config=s,this._ngbTimeAdapter=f,this._cd=b,this.i18n=C,this.onChange=J=>{},this.onTouched=()=>{},this.meridian=s.meridian,this.spinners=s.spinners,this.seconds=s.seconds,this.hourStep=s.hourStep,this.minuteStep=s.minuteStep,this.secondStep=s.secondStep,this.disabled=s.disabled,this.readonlyInputs=s.readonlyInputs,this.size=s.size}set hourStep(s){this._hourStep=Es(s)?s:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(s){this._minuteStep=Es(s)?s:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(s){this._secondStep=Es(s)?s:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(s){const f=this._ngbTimeAdapter.fromModel(s);this.model=f?new Ip(f.hour,f.minute,f.second):new Ip,!this.seconds&&(!f||!Qi(f.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this.disabled=s}changeHour(s){this.model?.changeHour(s),this.propagateModelChange()}changeMinute(s){this.model?.changeMinute(s),this.propagateModelChange()}changeSecond(s){this.model?.changeSecond(s),this.propagateModelChange()}updateHour(s){const f=!!this.model&&this.model.hour>=12,b=Ta(s);this.model?.updateHour(this.meridian&&(f&&b<12||!f&&12===b)?b+12:b),this.propagateModelChange()}updateMinute(s){this.model?.updateMinute(Ta(s)),this.propagateModelChange()}updateSecond(s){this.model?.updateSecond(Ta(s)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(s){s.value=s.value.replace($d,"")}formatHour(s){return Qi(s)?Vu(this.meridian?s%12==0?12:s%12:s%24):Vu(NaN)}formatMinSec(s){return Vu(Qi(s)?s:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(s){s.seconds&&!this.seconds&&this.model&&!Qi(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(s=!0){s&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return c.\u0275fac=function(s){return new(s||c)(l.Y36(qg),l.Y36(Qg),l.Y36(l.sBO),l.Y36(Df))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:xr.JU,useExisting:(0,l.Gpc)(()=>c),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let d,s,f,b,C,J,ae,_e,ke,Qe,jt,Wt,en,Sn;return d=$localize`:@@ngb.timepicker.HH:HH`,s=$localize`:@@ngb.timepicker.hours:Hours`,f=$localize`:@@ngb.timepicker.MM:MM`,b=$localize`:@@ngb.timepicker.minutes:Minutes`,C=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,J=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,ae=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,_e=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,ke=$localize`:@@ngb.timepicker.SS:SS`,Qe=$localize`:@@ngb.timepicker.seconds:Seconds`,jt=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,Wt=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,en=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Sn=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",d,"aria-label",s,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",f,"aria-label",b,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],C,[1,"chevron","ngb-tp-chevron","bottom"],J,ae,_e,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",ke,"aria-label",Qe,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],jt,Wt,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],en,Sn]},template:function(s,f){1&s&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,gl,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(C){return f.updateHour(C.target.value)})("blur",function(){return f.handleBlur()})("input",function(C){return f.formatInput(C.target)})("keydown.ArrowUp",function(C){return f.changeHour(f.hourStep),C.preventDefault()})("keydown.ArrowDown",function(C){return f.changeHour(-f.hourStep),C.preventDefault()}),l.qZA(),l.YNc(5,Lu,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,hc,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(C){return f.updateMinute(C.target.value)})("blur",function(){return f.handleBlur()})("input",function(C){return f.formatInput(C.target)})("keydown.ArrowUp",function(C){return f.changeMinute(f.minuteStep),C.preventDefault()})("keydown.ArrowDown",function(C){return f.changeMinute(-f.minuteStep),C.preventDefault()}),l.qZA(),l.YNc(11,vd,4,7,"button",3),l.qZA(),l.YNc(12,bd,2,0,"div",8),l.YNc(13,ah,4,9,"div",9),l.YNc(14,wd,1,0,"div",8),l.YNc(15,Kh,5,9,"div",10),l.qZA()()),2&s&&(l.ekj("disabled",f.disabled),l.Q6J("disabled",f.disabled),l.xp6(3),l.Q6J("ngIf",f.spinners),l.xp6(1),l.ekj("form-control-sm",f.isSmallSize)("form-control-lg",f.isLargeSize),l.Q6J("value",f.formatHour(null==f.model?null:f.model.hour))("readOnly",f.readonlyInputs)("disabled",f.disabled),l.xp6(1),l.Q6J("ngIf",f.spinners),l.xp6(4),l.Q6J("ngIf",f.spinners),l.xp6(1),l.ekj("form-control-sm",f.isSmallSize)("form-control-lg",f.isLargeSize),l.Q6J("value",f.formatMinSec(null==f.model?null:f.model.minute))("readOnly",f.readonlyInputs)("disabled",f.disabled),l.xp6(1),l.Q6J("ngIf",f.spinners),l.xp6(1),l.Q6J("ngIf",f.seconds),l.xp6(1),l.Q6J("ngIf",f.seconds),l.xp6(1),l.Q6J("ngIf",f.meridian),l.xp6(1),l.Q6J("ngIf",f.meridian))},dependencies:[Xn.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),c})(),Pc=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Sf]}),c})();const Jg=(c,d)=>{const{classList:s}=c;if(d)return s.add("fade"),gc(c),s.add("show","showing"),()=>{s.remove("showing")};s.add("show")},Np=({classList:c})=>(c.add("showing"),()=>{c.remove("show","showing")});let B_=(()=>{class c{constructor(s){this._ngbConfig=s,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(s){this._animation=s}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(Vs))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),xp=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275dir=l.lG2({type:c,selectors:[["","ngbToastHeader",""]],standalone:!0}),c})(),Rp=(()=>{class c{constructor(s,f,b,C){this.ariaLive=s,this._zone=b,this._element=C,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=f.ariaLive),this.delay=f.delay,this.autohide=f.autohide,this.animation=f.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,bs.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(s){"autohide"in s&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const s=$o(this._zone,this._element.nativeElement,Np,{animation:this.animation,runningTransition:"stop"});return s.subscribe(()=>{this.hidden.emit()}),s}show(){const s=$o(this._zone,this._element.nativeElement,Jg,{animation:this.animation,runningTransition:"continue"});return s.subscribe(()=>{this.shown.emit()}),s}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return c.\u0275fac=function(s){return new(s||c)(l.$8M("aria-live"),l.Y36(B_),l.Y36(l.R0b),l.Y36(l.SBq))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-toast"]],contentQueries:function(s,f,b){if(1&s&&l.Suo(b,xp,7,l.Rgc),2&s){let C;l.iGM(C=l.CRH())&&(f.contentHeaderTpl=C.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(s,f){2&s&&(l.uIk("aria-live",f.ariaLive),l.ekj("fade",f.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:Pl,decls:5,vars:1,consts:function(){let d;return d=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",d,1,"btn-close",3,"click"]]},template:function(s,f){1&s&&(l.F$t(),l.YNc(0,Dm,2,1,"ng-template",null,0,l.W1O),l.YNc(2,zf,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&s&&(l.xp6(2),l.Q6J("ngIf",f.contentHeaderTpl||f.header))},dependencies:[Xn.O5,Xn.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),c})(),Pp=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Rp]}),c})(),Xu=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})(),Nh=(()=>{class c{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(s){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const f=cu(this.result),b=Array.isArray(this.term)?this.term:[this.term],C=ke=>this.accentSensitive?ke:$f(ke),J=b.map(ke=>function pc(c){return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(C(cu(ke)))).filter(ke=>ke),ae=this.accentSensitive?f:$f(f),_e=J.length?ae.split(new RegExp(`(${J.join("|")})`,"gmi")):[f];if(this.accentSensitive)this.parts=_e;else{let ke=0;this.parts=_e.map(Qe=>f.substring(ke,ke+=Qe.length))}}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(s,f){1&s&&l.YNc(0,Zh,3,2,"ng-template",0),2&s&&l.Q6J("ngForOf",f.parts)},dependencies:[Xn.O5,Xn.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),c})();new l.OlP("live announcer delay",{providedIn:"root",factory:function Bp(){return 100}});let td=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Nh]}),c})(),Af=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})();const Up=[ch,vg,oo,Sd,Zu,zg,$g,Sh,Af,Tp,Ah,Sp,Jc,Pc,Pp,Xu,td];let Jm=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Up,ch,vg,oo,Sd,Zu,zg,$g,Sh,Af,Tp,Ah,Sp,Jc,Pc,Pp,Xu,td]}),c})();var Of=k(1493),Hp=k(8271),Xm=k(5593),rm=k(504),e_=k(1236);class nd{}nd.\u0275fac=function(d){return new(d||nd)},nd.\u0275mod=l.oAB({type:nd}),nd.\u0275inj=l.cJS({providers:[V.Bz],imports:[Of.S,Xn.ez,xr.UX,xr.u5,rm.kW,Hp.F,e_.q,V.Bz,Xm.hJ]});var Wd=k(2011);class id{}id.\u0275fac=function(d){return new(d||id)},id.\u0275mod=l.oAB({type:id,bootstrap:[Ce.y]}),id.\u0275inj=l.cJS({providers:[Rs.Bh,p.Dx,L.e],imports:[p.b2,bo,ie,X.W6,Jm,Of.S,nd,Wd.hO.initializeApp({apiKey:"AIzaSyB7Vl4LCmxUg4sFIyGmA0ckvSmqGm4jxYo",authDomain:"tfgheuristics.firebaseapp.com",projectId:"tfgheuristics",storageBucket:"tfgheuristics.appspot.com",messagingSenderId:"237682916551",appId:"1:237682916551:web:2082451810b8fc57b552e2"},"tfgheuristics"),Wd.hO,Wd.hO,Wd.hO]}),p.q6().bootstrapModule(id).catch(c=>console.error(c))},1135:(dn,dt,k)=>{k.d(dt,{X:()=>l});var p=k(7579);class l extends p.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const L=super._subscribe(Te);return!L.closed&&Te.next(this._value),L}getValue(){const{hasError:Te,thrownError:L,_value:de}=this;if(Te)throw L;return this._throwIfClosed(),de}next(Te){super.next(this._value=Te)}}},9751:(dn,dt,k)=>{k.d(dt,{y:()=>ie});var p=k(930),l=k(727),V=k(8822),Te=k(9635),L=k(2416),de=k(576),le=k(2806);let ie=(()=>{class Oe{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const st=new Oe;return st.source=this,st.operator=ut,st}subscribe(ut,st,xt){const Be=function ce(Oe){return Oe&&Oe instanceof p.Lv||function X(Oe){return Oe&&(0,de.m)(Oe.next)&&(0,de.m)(Oe.error)&&(0,de.m)(Oe.complete)}(Oe)&&(0,l.Nn)(Oe)}(ut)?ut:new p.Hp(ut,st,xt);return(0,le.x)(()=>{const{operator:it,source:ge}=this;Be.add(it?it.call(Be,ge):ge?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(ut){try{return this._subscribe(ut)}catch(st){ut.error(st)}}forEach(ut,st){return new(st=Ce(st))((xt,Be)=>{const it=new p.Hp({next:ge=>{try{ut(ge)}catch(Xe){Be(Xe),it.unsubscribe()}},error:Be,complete:xt});this.subscribe(it)})}_subscribe(ut){var st;return null===(st=this.source)||void 0===st?void 0:st.subscribe(ut)}[V.L](){return this}pipe(...ut){return(0,Te.U)(ut)(this)}toPromise(ut){return new(ut=Ce(ut))((st,xt)=>{let Be;this.subscribe(it=>Be=it,it=>xt(it),()=>st(Be))})}}return Oe.create=et=>new Oe(et),Oe})();function Ce(Oe){var et;return null!==(et=Oe??L.v.Promise)&&void 0!==et?et:Promise}},7579:(dn,dt,k)=>{k.d(dt,{x:()=>le});var p=k(9751),l=k(727);const Te=(0,k(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var L=k(8737),de=k(2806);let le=(()=>{class Ce extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Oe=new ie(this,this);return Oe.operator=ce,Oe}_throwIfClosed(){if(this.closed)throw new Te}next(ce){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(ce)}})}error(ce){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(ce)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Oe,isStopped:et,observers:ut}=this;return Oe||et?l.Lc:(this.currentObservers=null,ut.push(ce),new l.w0(()=>{this.currentObservers=null,(0,L.P)(ut,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Oe,thrownError:et,isStopped:ut}=this;Oe?ce.error(et):ut&&ce.complete()}asObservable(){const ce=new p.y;return ce.source=this,ce}}return Ce.create=(X,ce)=>new ie(X,ce),Ce})();class ie extends le{constructor(X,ce){super(),this.destination=X,this.source=ce}next(X){var ce,Oe;null===(Oe=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Oe||Oe.call(ce,X)}error(X){var ce,Oe;null===(Oe=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Oe||Oe.call(ce,X)}complete(){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ce||ce.call(X)}_subscribe(X){var ce,Oe;return null!==(Oe=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(X))&&void 0!==Oe?Oe:l.Lc}}},930:(dn,dt,k)=>{k.d(dt,{Hp:()=>xt,Lv:()=>Oe});var p=k(576),l=k(727),V=k(2416),Te=k(7849),L=k(5032);const de=Ce("C",void 0,void 0);function Ce(Ae,oe,Je){return{kind:Ae,value:oe,error:Je}}var X=k(3410),ce=k(2806);class Oe extends l.w0{constructor(oe){super(),this.isStopped=!1,oe?(this.destination=oe,(0,l.Nn)(oe)&&oe.add(this)):this.destination=Xe}static create(oe,Je,Le){return new xt(oe,Je,Le)}next(oe){this.isStopped?ge(function ie(Ae){return Ce("N",Ae,void 0)}(oe),this):this._next(oe)}error(oe){this.isStopped?ge(function le(Ae){return Ce("E",void 0,Ae)}(oe),this):(this.isStopped=!0,this._error(oe))}complete(){this.isStopped?ge(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(oe){this.destination.next(oe)}_error(oe){try{this.destination.error(oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function ut(Ae,oe){return et.call(Ae,oe)}class st{constructor(oe){this.partialObserver=oe}next(oe){const{partialObserver:Je}=this;if(Je.next)try{Je.next(oe)}catch(Le){Be(Le)}}error(oe){const{partialObserver:Je}=this;if(Je.error)try{Je.error(oe)}catch(Le){Be(Le)}else Be(oe)}complete(){const{partialObserver:oe}=this;if(oe.complete)try{oe.complete()}catch(Je){Be(Je)}}}class xt extends Oe{constructor(oe,Je,Le){let Ge;if(super(),(0,p.m)(oe)||!oe)Ge={next:oe??void 0,error:Je??void 0,complete:Le??void 0};else{let Ye;this&&V.v.useDeprecatedNextContext?(Ye=Object.create(oe),Ye.unsubscribe=()=>this.unsubscribe(),Ge={next:oe.next&&ut(oe.next,Ye),error:oe.error&&ut(oe.error,Ye),complete:oe.complete&&ut(oe.complete,Ye)}):Ge=oe}this.destination=new st(Ge)}}function Be(Ae){V.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(Ae):(0,Te.h)(Ae)}function ge(Ae,oe){const{onStoppedNotification:Je}=V.v;Je&&X.z.setTimeout(()=>Je(Ae,oe))}const Xe={closed:!0,next:L.Z,error:function it(Ae){throw Ae},complete:L.Z}},727:(dn,dt,k)=>{k.d(dt,{Lc:()=>de,w0:()=>L,Nn:()=>le});var p=k(576);const V=(0,k(3888).d)(Ce=>function(ce){Ce(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Oe,et)=>`${et+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var Te=k(8737);class L{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const ut of ce)ut.remove(this);else ce.remove(this);const{initialTeardown:Oe}=this;if((0,p.m)(Oe))try{Oe()}catch(ut){X=ut instanceof V?ut.errors:[ut]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const ut of et)try{ie(ut)}catch(st){X=X??[],st instanceof V?X=[...X,...st.errors]:X.push(st)}}if(X)throw new V(X)}}add(X){var ce;if(X&&X!==this)if(this.closed)ie(X);else{if(X instanceof L){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(X)}}_hasParent(X){const{_parentage:ce}=this;return ce===X||Array.isArray(ce)&&ce.includes(X)}_addParent(X){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(X),ce):ce?[ce,X]:X}_removeParent(X){const{_parentage:ce}=this;ce===X?this._parentage=null:Array.isArray(ce)&&(0,Te.P)(ce,X)}remove(X){const{_finalizers:ce}=this;ce&&(0,Te.P)(ce,X),X instanceof L&&X._removeParent(this)}}L.EMPTY=(()=>{const Ce=new L;return Ce.closed=!0,Ce})();const de=L.EMPTY;function le(Ce){return Ce instanceof L||Ce&&"closed"in Ce&&(0,p.m)(Ce.remove)&&(0,p.m)(Ce.add)&&(0,p.m)(Ce.unsubscribe)}function ie(Ce){(0,p.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(dn,dt,k)=>{k.d(dt,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(dn,dt,k)=>{k.d(dt,{a:()=>X});var p=k(9751),l=k(4742),V=k(8996),Te=k(4671),L=k(3268),de=k(3269),le=k(1810),ie=k(5403),Ce=k(9672);function X(...et){const ut=(0,de.yG)(et),st=(0,de.jO)(et),{args:xt,keys:Be}=(0,l.D)(et);if(0===xt.length)return(0,V.D)([],ut);const it=new p.y(function ce(et,ut,st=Te.y){return xt=>{Oe(ut,()=>{const{length:Be}=et,it=new Array(Be);let ge=Be,Xe=Be;for(let Ae=0;Ae<Be;Ae++)Oe(ut,()=>{const oe=(0,V.D)(et[Ae],ut);let Je=!1;oe.subscribe((0,ie.x)(xt,Le=>{it[Ae]=Le,Je||(Je=!0,Xe--),Xe||xt.next(st(it.slice()))},()=>{--ge||xt.complete()}))},xt)},xt)}}(xt,ut,Be?ge=>(0,le.n)(Be,ge):Te.y));return st?it.pipe((0,L.Z)(st)):it}function Oe(et,ut,st){et?(0,Ce.f)(st,et,ut):ut()}},7272:(dn,dt,k)=>{k.d(dt,{z:()=>L});var p=k(8189),V=k(3269),Te=k(8996);function L(...de){return function l(){return(0,p.J)(1)}()((0,Te.D)(de,(0,V.yG)(de)))}},515:(dn,dt,k)=>{k.d(dt,{E:()=>l});const l=new(k(9751).y)(L=>L.complete())},8996:(dn,dt,k)=>{k.d(dt,{D:()=>oe});var p=k(8421),l=k(5363),V=k(9468),de=k(9751),ie=k(2202),Ce=k(576),X=k(9672);function Oe(Je,Le){if(!Je)throw new Error("Iterable cannot be null");return new de.y(Ge=>{(0,X.f)(Ge,Le,()=>{const Ye=Je[Symbol.asyncIterator]();(0,X.f)(Ge,Le,()=>{Ye.next().then(Vt=>{Vt.done?Ge.complete():Ge.next(Vt.value)})},0,!0)})})}var et=k(3670),ut=k(8239),st=k(1144),xt=k(6495),Be=k(2206),it=k(4532),ge=k(3260);function oe(Je,Le){return Le?function Ae(Je,Le){if(null!=Je){if((0,et.c)(Je))return function Te(Je,Le){return(0,p.Xf)(Je).pipe((0,V.R)(Le),(0,l.Q)(Le))}(Je,Le);if((0,st.z)(Je))return function le(Je,Le){return new de.y(Ge=>{let Ye=0;return Le.schedule(function(){Ye===Je.length?Ge.complete():(Ge.next(Je[Ye++]),Ge.closed||this.schedule())})})}(Je,Le);if((0,ut.t)(Je))return function L(Je,Le){return(0,p.Xf)(Je).pipe((0,V.R)(Le),(0,l.Q)(Le))}(Je,Le);if((0,Be.D)(Je))return Oe(Je,Le);if((0,xt.T)(Je))return function ce(Je,Le){return new de.y(Ge=>{let Ye;return(0,X.f)(Ge,Le,()=>{Ye=Je[ie.h](),(0,X.f)(Ge,Le,()=>{let Vt,pn;try{({value:Vt,done:pn}=Ye.next())}catch(Yt){return void Ge.error(Yt)}pn?Ge.complete():Ge.next(Vt)},0,!0)}),()=>(0,Ce.m)(Ye?.return)&&Ye.return()})}(Je,Le);if((0,ge.L)(Je))return function Xe(Je,Le){return Oe((0,ge.Q)(Je),Le)}(Je,Le)}throw(0,it.z)(Je)}(Je,Le):(0,p.Xf)(Je)}},4968:(dn,dt,k)=>{k.d(dt,{R:()=>X});var p=k(8421),l=k(9751),V=k(5577),Te=k(1144),L=k(576),de=k(3268);const le=["addListener","removeListener"],ie=["addEventListener","removeEventListener"],Ce=["on","off"];function X(st,xt,Be,it){if((0,L.m)(Be)&&(it=Be,Be=void 0),it)return X(st,xt,Be).pipe((0,de.Z)(it));const[ge,Xe]=function ut(st){return(0,L.m)(st.addEventListener)&&(0,L.m)(st.removeEventListener)}(st)?ie.map(Ae=>oe=>st[Ae](xt,oe,Be)):function Oe(st){return(0,L.m)(st.addListener)&&(0,L.m)(st.removeListener)}(st)?le.map(ce(st,xt)):function et(st){return(0,L.m)(st.on)&&(0,L.m)(st.off)}(st)?Ce.map(ce(st,xt)):[];if(!ge&&(0,Te.z)(st))return(0,V.z)(Ae=>X(Ae,xt,Be))((0,p.Xf)(st));if(!ge)throw new TypeError("Invalid event target");return new l.y(Ae=>{const oe=(...Je)=>Ae.next(1<Je.length?Je:Je[0]);return ge(oe),()=>Xe(oe)})}function ce(st,xt){return Be=>it=>st[Be](xt,it)}},8421:(dn,dt,k)=>{k.d(dt,{Xf:()=>et});var p=k(655),l=k(1144),V=k(8239),Te=k(9751),L=k(3670),de=k(2206),le=k(4532),ie=k(6495),Ce=k(3260),X=k(576),ce=k(7849),Oe=k(8822);function et(Ae){if(Ae instanceof Te.y)return Ae;if(null!=Ae){if((0,L.c)(Ae))return function ut(Ae){return new Te.y(oe=>{const Je=Ae[Oe.L]();if((0,X.m)(Je.subscribe))return Je.subscribe(oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,l.z)(Ae))return function st(Ae){return new Te.y(oe=>{for(let Je=0;Je<Ae.length&&!oe.closed;Je++)oe.next(Ae[Je]);oe.complete()})}(Ae);if((0,V.t)(Ae))return function xt(Ae){return new Te.y(oe=>{Ae.then(Je=>{oe.closed||(oe.next(Je),oe.complete())},Je=>oe.error(Je)).then(null,ce.h)})}(Ae);if((0,de.D)(Ae))return it(Ae);if((0,ie.T)(Ae))return function Be(Ae){return new Te.y(oe=>{for(const Je of Ae)if(oe.next(Je),oe.closed)return;oe.complete()})}(Ae);if((0,Ce.L)(Ae))return function ge(Ae){return it((0,Ce.Q)(Ae))}(Ae)}throw(0,le.z)(Ae)}function it(Ae){return new Te.y(oe=>{(function Xe(Ae,oe){var Je,Le,Ge,Ye;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Je=(0,p.KL)(Ae);!(Le=yield Je.next()).done;)if(oe.next(Le.value),oe.closed)return}catch(Vt){Ge={error:Vt}}finally{try{Le&&!Le.done&&(Ye=Je.return)&&(yield Ye.call(Je))}finally{if(Ge)throw Ge.error}}oe.complete()})})(Ae,oe).catch(Je=>oe.error(Je))})}},6451:(dn,dt,k)=>{k.d(dt,{T:()=>de});var p=k(8189),l=k(8421),V=k(515),Te=k(3269),L=k(8996);function de(...le){const ie=(0,Te.yG)(le),Ce=(0,Te._6)(le,1/0),X=le;return X.length?1===X.length?(0,l.Xf)(X[0]):(0,p.J)(Ce)((0,L.D)(X,ie)):V.E}},9646:(dn,dt,k)=>{k.d(dt,{of:()=>V});var p=k(3269),l=k(8996);function V(...Te){const L=(0,p.yG)(Te);return(0,l.D)(Te,L)}},5963:(dn,dt,k)=>{k.d(dt,{H:()=>L});var p=k(9751),l=k(4986),V=k(3532);function L(de=0,le,ie=l.P){let Ce=-1;return null!=le&&((0,V.K)(le)?ie=le:Ce=le),new p.y(X=>{let ce=function Te(de){return de instanceof Date&&!isNaN(de)}(de)?+de-ie.now():de;ce<0&&(ce=0);let Oe=0;return ie.schedule(function(){X.closed||(X.next(Oe++),0<=Ce?this.schedule(void 0,Ce):X.complete())},ce)})}},5403:(dn,dt,k)=>{k.d(dt,{x:()=>l});var p=k(930);function l(Te,L,de,le,ie){return new V(Te,L,de,le,ie)}class V extends p.Lv{constructor(L,de,le,ie,Ce,X){super(L),this.onFinalize=Ce,this.shouldUnsubscribe=X,this._next=de?function(ce){try{de(ce)}catch(Oe){L.error(Oe)}}:super._next,this._error=ie?function(ce){try{ie(ce)}catch(Oe){L.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(ce){L.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var L;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(L=this.onFinalize)||void 0===L||L.call(this))}}}},4351:(dn,dt,k)=>{k.d(dt,{b:()=>V});var p=k(5577),l=k(576);function V(Te,L){return(0,l.m)(L)?(0,p.z)(Te,L,1):(0,p.z)(Te,1)}},6590:(dn,dt,k)=>{k.d(dt,{d:()=>V});var p=k(4482),l=k(5403);function V(Te){return(0,p.e)((L,de)=>{let le=!1;L.subscribe((0,l.x)(de,ie=>{le=!0,de.next(ie)},()=>{le||de.next(Te),de.complete()}))})}},1884:(dn,dt,k)=>{k.d(dt,{x:()=>Te});var p=k(4671),l=k(4482),V=k(5403);function Te(de,le=p.y){return de=de??L,(0,l.e)((ie,Ce)=>{let X,ce=!0;ie.subscribe((0,V.x)(Ce,Oe=>{const et=le(Oe);(ce||!de(X,et))&&(ce=!1,X=et,Ce.next(Oe))}))})}function L(de,le){return de===le}},9300:(dn,dt,k)=>{k.d(dt,{h:()=>V});var p=k(4482),l=k(5403);function V(Te,L){return(0,p.e)((de,le)=>{let ie=0;de.subscribe((0,l.x)(le,Ce=>Te.call(L,Ce,ie++)&&le.next(Ce)))})}},590:(dn,dt,k)=>{k.d(dt,{P:()=>le});var p=k(6805),l=k(9300),V=k(5698),Te=k(6590),L=k(8068),de=k(4671);function le(ie,Ce){const X=arguments.length>=2;return ce=>ce.pipe(ie?(0,l.h)((Oe,et)=>ie(Oe,et,ce)):de.y,(0,V.q)(1),X?(0,Te.d)(Ce):(0,L.T)(()=>new p.K))}},4004:(dn,dt,k)=>{k.d(dt,{U:()=>V});var p=k(4482),l=k(5403);function V(Te,L){return(0,p.e)((de,le)=>{let ie=0;de.subscribe((0,l.x)(le,Ce=>{le.next(Te.call(L,Ce,ie++))}))})}},9718:(dn,dt,k)=>{k.d(dt,{h:()=>l});var p=k(4004);function l(V){return(0,p.U)(()=>V)}},8189:(dn,dt,k)=>{k.d(dt,{J:()=>V});var p=k(5577),l=k(4671);function V(Te=1/0){return(0,p.z)(l.y,Te)}},5577:(dn,dt,k)=>{k.d(dt,{z:()=>ie});var p=k(4004),l=k(8421),V=k(4482),Te=k(9672),L=k(5403),le=k(576);function ie(Ce,X,ce=1/0){return(0,le.m)(X)?ie((Oe,et)=>(0,p.U)((ut,st)=>X(Oe,ut,et,st))((0,l.Xf)(Ce(Oe,et))),ce):("number"==typeof X&&(ce=X),(0,V.e)((Oe,et)=>function de(Ce,X,ce,Oe,et,ut,st,xt){const Be=[];let it=0,ge=0,Xe=!1;const Ae=()=>{Xe&&!Be.length&&!it&&X.complete()},oe=Le=>it<Oe?Je(Le):Be.push(Le),Je=Le=>{ut&&X.next(Le),it++;let Ge=!1;(0,l.Xf)(ce(Le,ge++)).subscribe((0,L.x)(X,Ye=>{et?.(Ye),ut?oe(Ye):X.next(Ye)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(it--;Be.length&&it<Oe;){const Ye=Be.shift();st?(0,Te.f)(X,st,()=>Je(Ye)):Je(Ye)}Ae()}catch(Ye){X.error(Ye)}}))};return Ce.subscribe((0,L.x)(X,oe,()=>{Xe=!0,Ae()})),()=>{xt?.()}}(Oe,et,Ce,ce)))}},5363:(dn,dt,k)=>{k.d(dt,{Q:()=>Te});var p=k(9672),l=k(4482),V=k(5403);function Te(L,de=0){return(0,l.e)((le,ie)=>{le.subscribe((0,V.x)(ie,Ce=>(0,p.f)(ie,L,()=>ie.next(Ce),de),()=>(0,p.f)(ie,L,()=>ie.complete(),de),Ce=>(0,p.f)(ie,L,()=>ie.error(Ce),de)))})}},5026:(dn,dt,k)=>{k.d(dt,{R:()=>Te});var p=k(4482),l=k(5403);function V(L,de,le,ie,Ce){return(X,ce)=>{let Oe=le,et=de,ut=0;X.subscribe((0,l.x)(ce,st=>{const xt=ut++;et=Oe?L(et,st,xt):(Oe=!0,st),ie&&ce.next(et)},Ce&&(()=>{Oe&&ce.next(et),ce.complete()})))}}function Te(L,de){return(0,p.e)(V(L,de,arguments.length>=2,!0))}},3099:(dn,dt,k)=>{k.d(dt,{B:()=>L});var p=k(8421),l=k(7579),V=k(930),Te=k(4482);function L(le={}){const{connector:ie=(()=>new l.x),resetOnError:Ce=!0,resetOnComplete:X=!0,resetOnRefCountZero:ce=!0}=le;return Oe=>{let et,ut,st,xt=0,Be=!1,it=!1;const ge=()=>{ut?.unsubscribe(),ut=void 0},Xe=()=>{ge(),et=st=void 0,Be=it=!1},Ae=()=>{const oe=et;Xe(),oe?.unsubscribe()};return(0,Te.e)((oe,Je)=>{xt++,!it&&!Be&&ge();const Le=st=st??ie();Je.add(()=>{xt--,0===xt&&!it&&!Be&&(ut=de(Ae,ce))}),Le.subscribe(Je),!et&&xt>0&&(et=new V.Hp({next:Ge=>Le.next(Ge),error:Ge=>{it=!0,ge(),ut=de(Xe,Ce,Ge),Le.error(Ge)},complete:()=>{Be=!0,ge(),ut=de(Xe,X),Le.complete()}}),(0,p.Xf)(oe).subscribe(et))})(Oe)}}function de(le,ie,...Ce){if(!0===ie)return void le();if(!1===ie)return;const X=new V.Hp({next:()=>{X.unsubscribe(),le()}});return(0,p.Xf)(ie(...Ce)).subscribe(X)}},8675:(dn,dt,k)=>{k.d(dt,{O:()=>Te});var p=k(7272),l=k(3269),V=k(4482);function Te(...L){const de=(0,l.yG)(L);return(0,V.e)((le,ie)=>{(de?(0,p.z)(L,le,de):(0,p.z)(L,le)).subscribe(ie)})}},9468:(dn,dt,k)=>{k.d(dt,{R:()=>l});var p=k(4482);function l(V,Te=0){return(0,p.e)((L,de)=>{de.add(V.schedule(()=>L.subscribe(de),Te))})}},3900:(dn,dt,k)=>{k.d(dt,{w:()=>Te});var p=k(8421),l=k(4482),V=k(5403);function Te(L,de){return(0,l.e)((le,ie)=>{let Ce=null,X=0,ce=!1;const Oe=()=>ce&&!Ce&&ie.complete();le.subscribe((0,V.x)(ie,et=>{Ce?.unsubscribe();let ut=0;const st=X++;(0,p.Xf)(L(et,st)).subscribe(Ce=(0,V.x)(ie,xt=>ie.next(de?de(et,xt,st,ut++):xt),()=>{Ce=null,Oe()}))},()=>{ce=!0,Oe()}))})}},5698:(dn,dt,k)=>{k.d(dt,{q:()=>Te});var p=k(515),l=k(4482),V=k(5403);function Te(L){return L<=0?()=>p.E:(0,l.e)((de,le)=>{let ie=0;de.subscribe((0,V.x)(le,Ce=>{++ie<=L&&(le.next(Ce),L<=ie&&le.complete())}))})}},2722:(dn,dt,k)=>{k.d(dt,{R:()=>L});var p=k(4482),l=k(5403),V=k(8421),Te=k(5032);function L(de){return(0,p.e)((le,ie)=>{(0,V.Xf)(de).subscribe((0,l.x)(ie,()=>ie.complete(),Te.Z)),!ie.closed&&le.subscribe(ie)})}},8505:(dn,dt,k)=>{k.d(dt,{b:()=>L});var p=k(576),l=k(4482),V=k(5403),Te=k(4671);function L(de,le,ie){const Ce=(0,p.m)(de)||le||ie?{next:de,error:le,complete:ie}:de;return Ce?(0,l.e)((X,ce)=>{var Oe;null===(Oe=Ce.subscribe)||void 0===Oe||Oe.call(Ce);let et=!0;X.subscribe((0,V.x)(ce,ut=>{var st;null===(st=Ce.next)||void 0===st||st.call(Ce,ut),ce.next(ut)},()=>{var ut;et=!1,null===(ut=Ce.complete)||void 0===ut||ut.call(Ce),ce.complete()},ut=>{var st;et=!1,null===(st=Ce.error)||void 0===st||st.call(Ce,ut),ce.error(ut)},()=>{var ut,st;et&&(null===(ut=Ce.unsubscribe)||void 0===ut||ut.call(Ce)),null===(st=Ce.finalize)||void 0===st||st.call(Ce)}))}):Te.y}},8068:(dn,dt,k)=>{k.d(dt,{T:()=>Te});var p=k(6805),l=k(4482),V=k(5403);function Te(de=L){return(0,l.e)((le,ie)=>{let Ce=!1;le.subscribe((0,V.x)(ie,X=>{Ce=!0,ie.next(X)},()=>Ce?ie.complete():ie.error(de())))})}function L(){return new p.K}},4408:(dn,dt,k)=>{k.d(dt,{o:()=>L});var p=k(727);class l extends p.w0{constructor(le,ie){super()}schedule(le,ie=0){return this}}const V={setInterval(de,le,...ie){const{delegate:Ce}=V;return Ce?.setInterval?Ce.setInterval(de,le,...ie):setInterval(de,le,...ie)},clearInterval(de){const{delegate:le}=V;return(le?.clearInterval||clearInterval)(de)},delegate:void 0};var Te=k(8737);class L extends l{constructor(le,ie){super(le,ie),this.scheduler=le,this.work=ie,this.pending=!1}schedule(le,ie=0){var Ce;if(this.closed)return this;this.state=le;const X=this.id,ce=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(ce,X,ie)),this.pending=!0,this.delay=ie,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(ce,this.id,ie),this}requestAsyncId(le,ie,Ce=0){return V.setInterval(le.flush.bind(le,this),Ce)}recycleAsyncId(le,ie,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return ie;null!=ie&&V.clearInterval(ie)}execute(le,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(le,ie);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ie){let X,Ce=!1;try{this.work(le)}catch(ce){Ce=!0,X=ce||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:le,scheduler:ie}=this,{actions:Ce}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(Ce,this),null!=le&&(this.id=this.recycleAsyncId(ie,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(dn,dt,k)=>{k.d(dt,{v:()=>V});var p=k(6063);class l{constructor(L,de=l.now){this.schedulerActionCtor=L,this.now=de}schedule(L,de=0,le){return new this.schedulerActionCtor(this,L).schedule(le,de)}}l.now=p.l.now;class V extends l{constructor(L,de=l.now){super(L,de),this.actions=[],this._active=!1}flush(L){const{actions:de}=this;if(this._active)return void de.push(L);let le;this._active=!0;do{if(le=L.execute(L.state,L.delay))break}while(L=de.shift());if(this._active=!1,le){for(;L=de.shift();)L.unsubscribe();throw le}}}},4986:(dn,dt,k)=>{k.d(dt,{P:()=>Te,z:()=>V});var p=k(4408);const V=new(k(7565).v)(p.o),Te=V},6063:(dn,dt,k)=>{k.d(dt,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(dn,dt,k)=>{k.d(dt,{z:()=>p});const p={setTimeout(l,V,...Te){const{delegate:L}=p;return L?.setTimeout?L.setTimeout(l,V,...Te):setTimeout(l,V,...Te)},clearTimeout(l){const{delegate:V}=p;return(V?.clearTimeout||clearTimeout)(l)},delegate:void 0}},2202:(dn,dt,k)=>{k.d(dt,{h:()=>l});const l=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dn,dt,k)=>{k.d(dt,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(dn,dt,k)=>{k.d(dt,{K:()=>l});const l=(0,k(3888).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(dn,dt,k)=>{k.d(dt,{_6:()=>de,jO:()=>Te,yG:()=>L});var p=k(576),l=k(3532);function V(le){return le[le.length-1]}function Te(le){return(0,p.m)(V(le))?le.pop():void 0}function L(le){return(0,l.K)(V(le))?le.pop():void 0}function de(le,ie){return"number"==typeof V(le)?le.pop():ie}},4742:(dn,dt,k)=>{k.d(dt,{D:()=>L});const{isArray:p}=Array,{getPrototypeOf:l,prototype:V,keys:Te}=Object;function L(le){if(1===le.length){const ie=le[0];if(p(ie))return{args:ie,keys:null};if(function de(le){return le&&"object"==typeof le&&l(le)===V}(ie)){const Ce=Te(ie);return{args:Ce.map(X=>ie[X]),keys:Ce}}}return{args:le,keys:null}}},8737:(dn,dt,k)=>{function p(l,V){if(l){const Te=l.indexOf(V);0<=Te&&l.splice(Te,1)}}k.d(dt,{P:()=>p})},3888:(dn,dt,k)=>{function p(l){const Te=l(L=>{Error.call(L),L.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}k.d(dt,{d:()=>p})},1810:(dn,dt,k)=>{function p(l,V){return l.reduce((Te,L,de)=>(Te[L]=V[de],Te),{})}k.d(dt,{n:()=>p})},2806:(dn,dt,k)=>{k.d(dt,{O:()=>Te,x:()=>V});var p=k(2416);let l=null;function V(L){if(p.v.useDeprecatedSynchronousErrorHandling){const de=!l;if(de&&(l={errorThrown:!1,error:null}),L(),de){const{errorThrown:le,error:ie}=l;if(l=null,le)throw ie}}else L()}function Te(L){p.v.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=L)}},9672:(dn,dt,k)=>{function p(l,V,Te,L=0,de=!1){const le=V.schedule(function(){Te(),de?l.add(this.schedule(null,L)):this.unsubscribe()},L);if(l.add(le),!de)return le}k.d(dt,{f:()=>p})},4671:(dn,dt,k)=>{function p(l){return l}k.d(dt,{y:()=>p})},1144:(dn,dt,k)=>{k.d(dt,{z:()=>p});const p=l=>l&&"number"==typeof l.length&&"function"!=typeof l},2206:(dn,dt,k)=>{k.d(dt,{D:()=>l});var p=k(576);function l(V){return Symbol.asyncIterator&&(0,p.m)(V?.[Symbol.asyncIterator])}},576:(dn,dt,k)=>{function p(l){return"function"==typeof l}k.d(dt,{m:()=>p})},3670:(dn,dt,k)=>{k.d(dt,{c:()=>V});var p=k(8822),l=k(576);function V(Te){return(0,l.m)(Te[p.L])}},6495:(dn,dt,k)=>{k.d(dt,{T:()=>V});var p=k(2202),l=k(576);function V(Te){return(0,l.m)(Te?.[p.h])}},8239:(dn,dt,k)=>{k.d(dt,{t:()=>l});var p=k(576);function l(V){return(0,p.m)(V?.then)}},3260:(dn,dt,k)=>{k.d(dt,{L:()=>Te,Q:()=>V});var p=k(655),l=k(576);function V(L){return(0,p.FC)(this,arguments,function*(){const le=L.getReader();try{for(;;){const{value:ie,done:Ce}=yield(0,p.qq)(le.read());if(Ce)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ie)}}finally{le.releaseLock()}})}function Te(L){return(0,l.m)(L?.getReader)}},3532:(dn,dt,k)=>{k.d(dt,{K:()=>l});var p=k(576);function l(V){return V&&(0,p.m)(V.schedule)}},4482:(dn,dt,k)=>{k.d(dt,{A:()=>l,e:()=>V});var p=k(576);function l(Te){return(0,p.m)(Te?.lift)}function V(Te){return L=>{if(l(L))return L.lift(function(de){try{return Te(de,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(dn,dt,k)=>{k.d(dt,{Z:()=>Te});var p=k(4004);const{isArray:l}=Array;function Te(L){return(0,p.U)(de=>function V(L,de){return l(de)?L(...de):L(de)}(L,de))}},5032:(dn,dt,k)=>{function p(){}k.d(dt,{Z:()=>p})},9635:(dn,dt,k)=>{k.d(dt,{U:()=>V,z:()=>l});var p=k(4671);function l(...Te){return V(Te)}function V(Te){return 0===Te.length?p.y:1===Te.length?Te[0]:function(de){return Te.reduce((le,ie)=>ie(le),de)}}},7849:(dn,dt,k)=>{k.d(dt,{h:()=>V});var p=k(2416),l=k(3410);function V(Te){l.z.setTimeout(()=>{const{onUnhandledError:L}=p.v;if(!L)throw Te;L(Te)})}},4532:(dn,dt,k)=>{function p(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(dt,{z:()=>p})},655:(dn,dt,k)=>{function Te(It,At){var Dt={};for(var Nt in It)Object.prototype.hasOwnProperty.call(It,Nt)&&At.indexOf(Nt)<0&&(Dt[Nt]=It[Nt]);if(null!=It&&"function"==typeof Object.getOwnPropertySymbols){var Zt=0;for(Nt=Object.getOwnPropertySymbols(It);Zt<Nt.length;Zt++)At.indexOf(Nt[Zt])<0&&Object.prototype.propertyIsEnumerable.call(It,Nt[Zt])&&(Dt[Nt[Zt]]=It[Nt[Zt]])}return Dt}function Oe(It,At,Dt,Nt){return new(Dt||(Dt=Promise))(function(rt,Bt){function Re(tn){try{Pt(Nt.next(tn))}catch(Ht){Bt(Ht)}}function $t(tn){try{Pt(Nt.throw(tn))}catch(Ht){Bt(Ht)}}function Pt(tn){tn.done?rt(tn.value):function Zt(rt){return rt instanceof Dt?rt:new Dt(function(Bt){Bt(rt)})}(tn.value).then(Re,$t)}Pt((Nt=Nt.apply(It,At||[])).next())})}function Ae(It){return this instanceof Ae?(this.v=It,this):new Ae(It)}function oe(It,At,Dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Zt,Nt=Dt.apply(It,At||[]),rt=[];return Zt={},Bt("next"),Bt("throw"),Bt("return"),Zt[Symbol.asyncIterator]=function(){return this},Zt;function Bt(Fn){Nt[Fn]&&(Zt[Fn]=function(Jn){return new Promise(function(Un,Ii){rt.push([Fn,Jn,Un,Ii])>1||Re(Fn,Jn)})})}function Re(Fn,Jn){try{!function $t(Fn){Fn.value instanceof Ae?Promise.resolve(Fn.value.v).then(Pt,tn):Ht(rt[0][2],Fn)}(Nt[Fn](Jn))}catch(Un){Ht(rt[0][3],Un)}}function Pt(Fn){Re("next",Fn)}function tn(Fn){Re("throw",Fn)}function Ht(Fn,Jn){Fn(Jn),rt.shift(),rt.length&&Re(rt[0][0],rt[0][1])}}function Le(It){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt,At=It[Symbol.asyncIterator];return At?At.call(It):(It=function xt(It){var At="function"==typeof Symbol&&Symbol.iterator,Dt=At&&It[At],Nt=0;if(Dt)return Dt.call(It);if(It&&"number"==typeof It.length)return{next:function(){return It&&Nt>=It.length&&(It=void 0),{value:It&&It[Nt++],done:!It}}};throw new TypeError(At?"Object is not iterable.":"Symbol.iterator is not defined.")}(It),Dt={},Nt("next"),Nt("throw"),Nt("return"),Dt[Symbol.asyncIterator]=function(){return this},Dt);function Nt(rt){Dt[rt]=It[rt]&&function(Bt){return new Promise(function(Re,$t){!function Zt(rt,Bt,Re,$t){Promise.resolve($t).then(function(Pt){rt({value:Pt,done:Re})},Bt)}(Re,$t,(Bt=It[rt](Bt)).done,Bt.value)})}}}k.d(dt,{FC:()=>oe,KL:()=>Le,_T:()=>Te,mG:()=>Oe,qq:()=>Ae})},7340:(dn,dt,k)=>{k.d(dt,{IO:()=>st,LC:()=>l,SB:()=>Ce,X$:()=>Te,ZE:()=>ge,ZN:()=>it,_7:()=>ut,_j:()=>p,eR:()=>ce,jt:()=>L,k1:()=>Xe,l3:()=>V,oB:()=>ie,oQ:()=>Oe,pV:()=>et,vP:()=>le});class p{}class l{}const V="*";function Te(Ae,oe){return{type:7,name:Ae,definitions:oe,options:{}}}function L(Ae,oe=null){return{type:4,styles:oe,timings:Ae}}function le(Ae,oe=null){return{type:2,steps:Ae,options:oe}}function ie(Ae){return{type:6,styles:Ae,offset:null}}function Ce(Ae,oe,Je){return{type:0,name:Ae,styles:oe,options:Je}}function ce(Ae,oe,Je=null){return{type:1,expr:Ae,animation:oe,options:Je}}function Oe(Ae,oe=null){return{type:8,animation:Ae,options:oe}}function et(Ae=null){return{type:9,options:Ae}}function ut(Ae,oe=null){return{type:10,animation:Ae,options:oe}}function st(Ae,oe,Je=null){return{type:11,selector:Ae,animation:oe,options:Je}}function Be(Ae){Promise.resolve().then(Ae)}class it{constructor(oe=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=oe+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}onStart(oe){this._originalOnStartFns.push(oe),this._onStartFns.push(oe)}onDone(oe){this._originalOnDoneFns.push(oe),this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Be(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(oe=>oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(oe){this._position=this.totalTime?oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(oe){const Je="start"==oe?this._onStartFns:this._onDoneFns;Je.forEach(Le=>Le()),Je.length=0}}class ge{constructor(oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=oe;let Je=0,Le=0,Ge=0;const Ye=this.players.length;0==Ye?Be(()=>this._onFinish()):this.players.forEach(Vt=>{Vt.onDone(()=>{++Je==Ye&&this._onFinish()}),Vt.onDestroy(()=>{++Le==Ye&&this._onDestroy()}),Vt.onStart(()=>{++Ge==Ye&&this._onStart()})}),this.totalTime=this.players.reduce((Vt,pn)=>Math.max(Vt,pn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}init(){this.players.forEach(oe=>oe.init())}onStart(oe){this._onStartFns.push(oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(oe=>oe()),this._onStartFns=[])}onDone(oe){this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(oe=>oe.play())}pause(){this.players.forEach(oe=>oe.pause())}restart(){this.players.forEach(oe=>oe.restart())}finish(){this._onFinish(),this.players.forEach(oe=>oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(oe=>oe.destroy()),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this.players.forEach(oe=>oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(oe){const Je=oe*this.totalTime;this.players.forEach(Le=>{const Ge=Le.totalTime?Math.min(1,Je/Le.totalTime):1;Le.setPosition(Ge)})}getPosition(){const oe=this.players.reduce((Je,Le)=>null===Je||Le.totalTime>Je.totalTime?Le:Je,null);return null!=oe?oe.getPosition():0}beforeDestroy(){this.players.forEach(oe=>{oe.beforeDestroy&&oe.beforeDestroy()})}triggerCallback(oe){const Je="start"==oe?this._onStartFns:this._onDoneFns;Je.forEach(Le=>Le()),Je.length=0}}const Xe="!"},6895:(dn,dt,k)=>{k.d(dt,{Do:()=>ge,EM:()=>Na,HT:()=>Te,JF:()=>Ka,K0:()=>de,Mn:()=>Nt,Mx:()=>Kr,NF:()=>vo,O5:()=>Ze,OU:()=>ua,Ov:()=>zt,PC:()=>Hs,PM:()=>Jo,S$:()=>xt,Tn:()=>Yt,UT:()=>Zt,V_:()=>Ce,Ye:()=>Xe,Zx:()=>Aa,ax:()=>Kt,b0:()=>it,bD:()=>Ma,ez:()=>js,mk:()=>Ti,ol:()=>Dt,p6:()=>Oi,q:()=>V,sg:()=>Kt,tP:()=>Cr,w_:()=>L,x:()=>pn});var p=k(4650);let l=null;function V(){return l}function Te(U){l||(l=U)}class L{}const de=new p.OlP("DocumentToken");let le=(()=>{class U{historyGo(K){throw new Error("Not implemented")}}return U.\u0275fac=function(K){return new(K||U)},U.\u0275prov=p.Yz7({token:U,factory:function(){return function ie(){return(0,p.LFG)(X)}()},providedIn:"platform"}),U})();const Ce=new p.OlP("Location Initialized");let X=(()=>{class U extends le{constructor(K){super(),this._doc=K,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(K){const pe=V().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("popstate",K,!1),()=>pe.removeEventListener("popstate",K)}onHashChange(K){const pe=V().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("hashchange",K,!1),()=>pe.removeEventListener("hashchange",K)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(K){this._location.pathname=K}pushState(K,pe,We){ce()?this._history.pushState(K,pe,We):this._location.hash=We}replaceState(K,pe,We){ce()?this._history.replaceState(K,pe,We):this._location.hash=We}forward(){this._history.forward()}back(){this._history.back()}historyGo(K=0){this._history.go(K)}getState(){return this._history.state}}return U.\u0275fac=function(K){return new(K||U)(p.LFG(de))},U.\u0275prov=p.Yz7({token:U,factory:function(){return function Oe(){return new X((0,p.LFG)(de))}()},providedIn:"platform"}),U})();function ce(){return!!window.history.pushState}function et(U,te){if(0==U.length)return te;if(0==te.length)return U;let K=0;return U.endsWith("/")&&K++,te.startsWith("/")&&K++,2==K?U+te.substring(1):1==K?U+te:U+"/"+te}function ut(U){const te=U.match(/#|\?|$/),K=te&&te.index||U.length;return U.slice(0,K-("/"===U[K-1]?1:0))+U.slice(K)}function st(U){return U&&"?"!==U[0]?"?"+U:U}let xt=(()=>{class U{historyGo(K){throw new Error("Not implemented")}}return U.\u0275fac=function(K){return new(K||U)},U.\u0275prov=p.Yz7({token:U,factory:function(){return(0,p.f3M)(it)},providedIn:"root"}),U})();const Be=new p.OlP("appBaseHref");let it=(()=>{class U extends xt{constructor(K,pe){super(),this._platformLocation=K,this._removeListenerFns=[],this._baseHref=pe??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}prepareExternalUrl(K){return et(this._baseHref,K)}path(K=!1){const pe=this._platformLocation.pathname+st(this._platformLocation.search),We=this._platformLocation.hash;return We&&K?`${pe}${We}`:pe}pushState(K,pe,We,kt){const Jt=this.prepareExternalUrl(We+st(kt));this._platformLocation.pushState(K,pe,Jt)}replaceState(K,pe,We,kt){const Jt=this.prepareExternalUrl(We+st(kt));this._platformLocation.replaceState(K,pe,Jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}}return U.\u0275fac=function(K){return new(K||U)(p.LFG(le),p.LFG(Be,8))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),ge=(()=>{class U extends xt{constructor(K,pe){super(),this._platformLocation=K,this._baseHref="",this._removeListenerFns=[],null!=pe&&(this._baseHref=pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){let pe=this._platformLocation.hash;return null==pe&&(pe="#"),pe.length>0?pe.substring(1):pe}prepareExternalUrl(K){const pe=et(this._baseHref,K);return pe.length>0?"#"+pe:pe}pushState(K,pe,We,kt){let Jt=this.prepareExternalUrl(We+st(kt));0==Jt.length&&(Jt=this._platformLocation.pathname),this._platformLocation.pushState(K,pe,Jt)}replaceState(K,pe,We,kt){let Jt=this.prepareExternalUrl(We+st(kt));0==Jt.length&&(Jt=this._platformLocation.pathname),this._platformLocation.replaceState(K,pe,Jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}}return U.\u0275fac=function(K){return new(K||U)(p.LFG(le),p.LFG(Be,8))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac}),U})(),Xe=(()=>{class U{constructor(K){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=K;const pe=this._locationStrategy.getBaseHref();this._basePath=function Le(U){if(new RegExp("^(https?:)?//").test(U)){const[,K]=U.split(/\/\/[^\/]+/);return K}return U}(ut(Je(pe))),this._locationStrategy.onPopState(We=>{this._subject.emit({url:this.path(!0),pop:!0,state:We.state,type:We.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(K=!1){return this.normalize(this._locationStrategy.path(K))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(K,pe=""){return this.path()==this.normalize(K+st(pe))}normalize(K){return U.stripTrailingSlash(function oe(U,te){return U&&new RegExp(`^${U}([/;?#]|$)`).test(te)?te.substring(U.length):te}(this._basePath,Je(K)))}prepareExternalUrl(K){return K&&"/"!==K[0]&&(K="/"+K),this._locationStrategy.prepareExternalUrl(K)}go(K,pe="",We=null){this._locationStrategy.pushState(We,"",K,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+st(pe)),We)}replaceState(K,pe="",We=null){this._locationStrategy.replaceState(We,"",K,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+st(pe)),We)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(K=0){this._locationStrategy.historyGo?.(K)}onUrlChange(K){return this._urlChangeListeners.push(K),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(pe=>{this._notifyUrlChangeListeners(pe.url,pe.state)})),()=>{const pe=this._urlChangeListeners.indexOf(K);this._urlChangeListeners.splice(pe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(K="",pe){this._urlChangeListeners.forEach(We=>We(K,pe))}subscribe(K,pe,We){return this._subject.subscribe({next:K,error:pe,complete:We})}}return U.normalizeQueryParams=st,U.joinWithSlash=et,U.stripTrailingSlash=ut,U.\u0275fac=function(K){return new(K||U)(p.LFG(xt))},U.\u0275prov=p.Yz7({token:U,factory:function(){return function Ae(){return new Xe((0,p.LFG)(xt))}()},providedIn:"root"}),U})();function Je(U){return U.replace(/\/index.html$/,"")}var Ye=(()=>((Ye=Ye||{})[Ye.Decimal=0]="Decimal",Ye[Ye.Percent=1]="Percent",Ye[Ye.Currency=2]="Currency",Ye[Ye.Scientific=3]="Scientific",Ye))(),pn=(()=>((pn=pn||{})[pn.Format=0]="Format",pn[pn.Standalone=1]="Standalone",pn))(),Yt=(()=>((Yt=Yt||{})[Yt.Narrow=0]="Narrow",Yt[Yt.Abbreviated=1]="Abbreviated",Yt[Yt.Wide=2]="Wide",Yt[Yt.Short=3]="Short",Yt))(),Dn=(()=>((Dn=Dn||{})[Dn.Short=0]="Short",Dn[Dn.Medium=1]="Medium",Dn[Dn.Long=2]="Long",Dn[Dn.Full=3]="Full",Dn))(),ln=(()=>((ln=ln||{})[ln.Decimal=0]="Decimal",ln[ln.Group=1]="Group",ln[ln.List=2]="List",ln[ln.PercentSign=3]="PercentSign",ln[ln.PlusSign=4]="PlusSign",ln[ln.MinusSign=5]="MinusSign",ln[ln.Exponential=6]="Exponential",ln[ln.SuperscriptingExponent=7]="SuperscriptingExponent",ln[ln.PerMille=8]="PerMille",ln[ln.Infinity=9]="Infinity",ln[ln.NaN=10]="NaN",ln[ln.TimeSeparator=11]="TimeSeparator",ln[ln.CurrencyDecimal=12]="CurrencyDecimal",ln[ln.CurrencyGroup=13]="CurrencyGroup",ln))();function Dt(U,te,K){const pe=(0,p.cg1)(U),kt=Ie([pe[p.wAp.DayPeriodsFormat],pe[p.wAp.DayPeriodsStandalone]],te);return Ie(kt,K)}function Nt(U,te,K){const pe=(0,p.cg1)(U),kt=Ie([pe[p.wAp.DaysFormat],pe[p.wAp.DaysStandalone]],te);return Ie(kt,K)}function Zt(U,te,K){const pe=(0,p.cg1)(U),kt=Ie([pe[p.wAp.MonthsFormat],pe[p.wAp.MonthsStandalone]],te);return Ie(kt,K)}function $t(U,te){return Ie((0,p.cg1)(U)[p.wAp.DateFormat],te)}function Pt(U,te){return Ie((0,p.cg1)(U)[p.wAp.TimeFormat],te)}function tn(U,te){return Ie((0,p.cg1)(U)[p.wAp.DateTimeFormat],te)}function Ht(U,te){const K=(0,p.cg1)(U),pe=K[p.wAp.NumberSymbols][te];if(typeof pe>"u"){if(te===ln.CurrencyDecimal)return K[p.wAp.NumberSymbols][ln.Decimal];if(te===ln.CurrencyGroup)return K[p.wAp.NumberSymbols][ln.Group]}return pe}function ki(U){if(!U[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ie(U,te){for(let K=te;K>-1;K--)if(typeof U[K]<"u")return U[K];throw new Error("Locale data API: locale data undefined")}function ft(U){const[te,K]=U.split(":");return{hours:+te,minutes:+K}}const hn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pn={},ai=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var En=(()=>((En=En||{})[En.Short=0]="Short",En[En.ShortGMT=1]="ShortGMT",En[En.Long=2]="Long",En[En.Extended=3]="Extended",En))(),wn=(()=>((wn=wn||{})[wn.FullYear=0]="FullYear",wn[wn.Month=1]="Month",wn[wn.Date=2]="Date",wn[wn.Hours=3]="Hours",wn[wn.Minutes=4]="Minutes",wn[wn.Seconds=5]="Seconds",wn[wn.FractionalSeconds=6]="FractionalSeconds",wn[wn.Day=7]="Day",wn))(),$n=(()=>(($n=$n||{})[$n.DayPeriods=0]="DayPeriods",$n[$n.Days=1]="Days",$n[$n.Months=2]="Months",$n[$n.Eras=3]="Eras",$n))();function Oi(U,te,K,pe){let We=function fe(U){if(Gt(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[We,kt=1,Jt=1]=U.split("-").map(ei=>+ei);return Yn(We,kt-1,Jt)}const K=parseFloat(U);if(!isNaN(U-K))return new Date(K);let pe;if(pe=U.match(hn))return function pt(U){const te=new Date(0);let K=0,pe=0;const We=U[8]?te.setUTCFullYear:te.setFullYear,kt=U[8]?te.setUTCHours:te.setHours;U[9]&&(K=Number(U[9]+U[10]),pe=Number(U[9]+U[11])),We.call(te,Number(U[1]),Number(U[2])-1,Number(U[3]));const Jt=Number(U[4]||0)-K,ei=Number(U[5]||0)-pe,ir=Number(U[6]||0),wr=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return kt.call(te,Jt,ei,ir,wr),te}(pe)}const te=new Date(U);if(!Gt(te))throw new Error(`Unable to convert "${U}" into a date`);return te}(U);te=kn(K,te)||te;let ei,Jt=[];for(;te;){if(ei=ai.exec(te),!ei){Jt.push(te);break}{Jt=Jt.concat(ei.slice(1));const fi=Jt.pop();if(!fi)break;te=fi}}let ir=We.getTimezoneOffset();pe&&(ir=Ue(pe,ir),We=function De(U,te,K){const pe=K?-1:1,We=U.getTimezoneOffset();return function be(U,te){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+te),U}(U,pe*(Ue(te,We)-We))}(We,pe,!0));let wr="";return Jt.forEach(fi=>{const Ri=function ze(U){if(Ni[U])return Ni[U];let te;switch(U){case"G":case"GG":case"GGG":te=mi($n.Eras,Yt.Abbreviated);break;case"GGGG":te=mi($n.Eras,Yt.Wide);break;case"GGGGG":te=mi($n.Eras,Yt.Narrow);break;case"y":te=gi(wn.FullYear,1,0,!1,!0);break;case"yy":te=gi(wn.FullYear,2,0,!0,!0);break;case"yyy":te=gi(wn.FullYear,3,0,!1,!0);break;case"yyyy":te=gi(wn.FullYear,4,0,!1,!0);break;case"Y":te=Bn(1);break;case"YY":te=Bn(2,!0);break;case"YYY":te=Bn(3);break;case"YYYY":te=Bn(4);break;case"M":case"L":te=gi(wn.Month,1,1);break;case"MM":case"LL":te=gi(wn.Month,2,1);break;case"MMM":te=mi($n.Months,Yt.Abbreviated);break;case"MMMM":te=mi($n.Months,Yt.Wide);break;case"MMMMM":te=mi($n.Months,Yt.Narrow);break;case"LLL":te=mi($n.Months,Yt.Abbreviated,pn.Standalone);break;case"LLLL":te=mi($n.Months,Yt.Wide,pn.Standalone);break;case"LLLLL":te=mi($n.Months,Yt.Narrow,pn.Standalone);break;case"w":te=an(1);break;case"ww":te=an(2);break;case"W":te=an(1,!0);break;case"d":te=gi(wn.Date,1);break;case"dd":te=gi(wn.Date,2);break;case"c":case"cc":te=gi(wn.Day,1);break;case"ccc":te=mi($n.Days,Yt.Abbreviated,pn.Standalone);break;case"cccc":te=mi($n.Days,Yt.Wide,pn.Standalone);break;case"ccccc":te=mi($n.Days,Yt.Narrow,pn.Standalone);break;case"cccccc":te=mi($n.Days,Yt.Short,pn.Standalone);break;case"E":case"EE":case"EEE":te=mi($n.Days,Yt.Abbreviated);break;case"EEEE":te=mi($n.Days,Yt.Wide);break;case"EEEEE":te=mi($n.Days,Yt.Narrow);break;case"EEEEEE":te=mi($n.Days,Yt.Short);break;case"a":case"aa":case"aaa":te=mi($n.DayPeriods,Yt.Abbreviated);break;case"aaaa":te=mi($n.DayPeriods,Yt.Wide);break;case"aaaaa":te=mi($n.DayPeriods,Yt.Narrow);break;case"b":case"bb":case"bbb":te=mi($n.DayPeriods,Yt.Abbreviated,pn.Standalone,!0);break;case"bbbb":te=mi($n.DayPeriods,Yt.Wide,pn.Standalone,!0);break;case"bbbbb":te=mi($n.DayPeriods,Yt.Narrow,pn.Standalone,!0);break;case"B":case"BB":case"BBB":te=mi($n.DayPeriods,Yt.Abbreviated,pn.Format,!0);break;case"BBBB":te=mi($n.DayPeriods,Yt.Wide,pn.Format,!0);break;case"BBBBB":te=mi($n.DayPeriods,Yt.Narrow,pn.Format,!0);break;case"h":te=gi(wn.Hours,1,-12);break;case"hh":te=gi(wn.Hours,2,-12);break;case"H":te=gi(wn.Hours,1);break;case"HH":te=gi(wn.Hours,2);break;case"m":te=gi(wn.Minutes,1);break;case"mm":te=gi(wn.Minutes,2);break;case"s":te=gi(wn.Seconds,1);break;case"ss":te=gi(wn.Seconds,2);break;case"S":te=gi(wn.FractionalSeconds,1);break;case"SS":te=gi(wn.FractionalSeconds,2);break;case"SSS":te=gi(wn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":te=sr(En.Short);break;case"ZZZZZ":te=sr(En.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":te=sr(En.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":te=sr(En.Long);break;default:return null}return Ni[U]=te,te}(fi);wr+=Ri?Ri(We,K,ir):"''"===fi?"'":fi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wr}function Yn(U,te,K){const pe=new Date(0);return pe.setFullYear(U,te,K),pe.setHours(0,0,0),pe}function kn(U,te){const K=function At(U){return(0,p.cg1)(U)[p.wAp.LocaleId]}(U);if(Pn[K]=Pn[K]||{},Pn[K][te])return Pn[K][te];let pe="";switch(te){case"shortDate":pe=$t(U,Dn.Short);break;case"mediumDate":pe=$t(U,Dn.Medium);break;case"longDate":pe=$t(U,Dn.Long);break;case"fullDate":pe=$t(U,Dn.Full);break;case"shortTime":pe=Pt(U,Dn.Short);break;case"mediumTime":pe=Pt(U,Dn.Medium);break;case"longTime":pe=Pt(U,Dn.Long);break;case"fullTime":pe=Pt(U,Dn.Full);break;case"short":const We=kn(U,"shortTime"),kt=kn(U,"shortDate");pe=bi(tn(U,Dn.Short),[We,kt]);break;case"medium":const Jt=kn(U,"mediumTime"),ei=kn(U,"mediumDate");pe=bi(tn(U,Dn.Medium),[Jt,ei]);break;case"long":const ir=kn(U,"longTime"),wr=kn(U,"longDate");pe=bi(tn(U,Dn.Long),[ir,wr]);break;case"full":const fi=kn(U,"fullTime"),Ri=kn(U,"fullDate");pe=bi(tn(U,Dn.Full),[fi,Ri])}return pe&&(Pn[K][te]=pe),pe}function bi(U,te){return te&&(U=U.replace(/\{([^}]+)}/g,function(K,pe){return null!=te&&pe in te?te[pe]:K})),U}function Gi(U,te,K="-",pe,We){let kt="";(U<0||We&&U<=0)&&(We?U=1-U:(U=-U,kt=K));let Jt=String(U);for(;Jt.length<te;)Jt="0"+Jt;return pe&&(Jt=Jt.slice(Jt.length-te)),kt+Jt}function gi(U,te,K=0,pe=!1,We=!1){return function(kt,Jt){let ei=function Ur(U,te){switch(U){case wn.FullYear:return te.getFullYear();case wn.Month:return te.getMonth();case wn.Date:return te.getDate();case wn.Hours:return te.getHours();case wn.Minutes:return te.getMinutes();case wn.Seconds:return te.getSeconds();case wn.FractionalSeconds:return te.getMilliseconds();case wn.Day:return te.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,kt);if((K>0||ei>-K)&&(ei+=K),U===wn.Hours)0===ei&&-12===K&&(ei=12);else if(U===wn.FractionalSeconds)return function tr(U,te){return Gi(U,3).substring(0,te)}(ei,te);const ir=Ht(Jt,ln.MinusSign);return Gi(ei,te,ir,pe,We)}}function mi(U,te,K=pn.Format,pe=!1){return function(We,kt){return function vr(U,te,K,pe,We,kt){switch(K){case $n.Months:return Zt(te,We,pe)[U.getMonth()];case $n.Days:return Nt(te,We,pe)[U.getDay()];case $n.DayPeriods:const Jt=U.getHours(),ei=U.getMinutes();if(kt){const wr=function er(U){const te=(0,p.cg1)(U);return ki(te),(te[p.wAp.ExtraData][2]||[]).map(pe=>"string"==typeof pe?ft(pe):[ft(pe[0]),ft(pe[1])])}(te),fi=function ht(U,te,K){const pe=(0,p.cg1)(U);ki(pe);const kt=Ie([pe[p.wAp.ExtraData][0],pe[p.wAp.ExtraData][1]],te)||[];return Ie(kt,K)||[]}(te,We,pe),Ri=wr.findIndex(Mr=>{if(Array.isArray(Mr)){const[Nr,xr]=Mr,sn=Jt>=Nr.hours&&ei>=Nr.minutes,qi=Jt<xr.hours||Jt===xr.hours&&ei<xr.minutes;if(Nr.hours<xr.hours){if(sn&&qi)return!0}else if(sn||qi)return!0}else if(Mr.hours===Jt&&Mr.minutes===ei)return!0;return!1});if(-1!==Ri)return fi[Ri]}return Dt(te,We,pe)[Jt<12?0:1];case $n.Eras:return function rt(U,te){return Ie((0,p.cg1)(U)[p.wAp.Eras],te)}(te,pe)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${K}`)}}(We,kt,U,te,K,pe)}}function sr(U){return function(te,K,pe){const We=-1*pe,kt=Ht(K,ln.MinusSign),Jt=We>0?Math.floor(We/60):Math.ceil(We/60);switch(U){case En.Short:return(We>=0?"+":"")+Gi(Jt,2,kt)+Gi(Math.abs(We%60),2,kt);case En.ShortGMT:return"GMT"+(We>=0?"+":"")+Gi(Jt,1,kt);case En.Long:return"GMT"+(We>=0?"+":"")+Gi(Jt,2,kt)+":"+Gi(Math.abs(We%60),2,kt);case En.Extended:return 0===pe?"Z":(We>=0?"+":"")+Gi(Jt,2,kt)+":"+Gi(Math.abs(We%60),2,kt);default:throw new Error(`Unknown zone width "${U}"`)}}}function wt(U){return Yn(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function an(U,te=!1){return function(K,pe){let We;if(te){const kt=new Date(K.getFullYear(),K.getMonth(),1).getDay()-1,Jt=K.getDate();We=1+Math.floor((Jt+kt)/7)}else{const kt=wt(K),Jt=function Fe(U){const te=Yn(U,0,1).getDay();return Yn(U,0,1+(te<=4?4:11)-te)}(kt.getFullYear()),ei=kt.getTime()-Jt.getTime();We=1+Math.round(ei/6048e5)}return Gi(We,U,Ht(pe,ln.MinusSign))}}function Bn(U,te=!1){return function(K,pe){return Gi(wt(K).getFullYear(),U,Ht(pe,ln.MinusSign),te)}}const Ni={};function Ue(U,te){U=U.replace(/:/g,"");const K=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(K)?te:K}function Gt(U){return U instanceof Date&&!isNaN(U.valueOf())}const bn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function br(U){const te=parseInt(U);if(isNaN(te))throw new Error("Invalid integer literal when parsing "+U);return te}function Kr(U,te){te=encodeURIComponent(te);for(const K of U.split(";")){const pe=K.indexOf("="),[We,kt]=-1==pe?[K,""]:[K.slice(0,pe),K.slice(pe+1)];if(We.trim()===te)return decodeURIComponent(kt)}return null}const Zr=/\s+/,fn=[];let Ti=(()=>{class U{constructor(K,pe,We,kt){this._iterableDiffers=K,this._keyValueDiffers=pe,this._ngEl=We,this._renderer=kt,this.initialClasses=fn,this.stateMap=new Map}set klass(K){this.initialClasses=null!=K?K.trim().split(Zr):fn}set ngClass(K){this.rawClass="string"==typeof K?K.trim().split(Zr):K}ngDoCheck(){for(const pe of this.initialClasses)this._updateState(pe,!0);const K=this.rawClass;if(Array.isArray(K)||K instanceof Set)for(const pe of K)this._updateState(pe,!0);else if(null!=K)for(const pe of Object.keys(K))this._updateState(pe,Boolean(K[pe]));this._applyStateDiff()}_updateState(K,pe){const We=this.stateMap.get(K);void 0!==We?(We.enabled!==pe&&(We.changed=!0,We.enabled=pe),We.touched=!0):this.stateMap.set(K,{enabled:pe,changed:!0,touched:!0})}_applyStateDiff(){for(const K of this.stateMap){const pe=K[0],We=K[1];We.changed?(this._toggleClass(pe,We.enabled),We.changed=!1):We.touched||(We.enabled&&this._toggleClass(pe,!1),this.stateMap.delete(pe)),We.touched=!1}}_toggleClass(K,pe){(K=K.trim()).length>0&&K.split(Zr).forEach(We=>{pe?this._renderer.addClass(this._ngEl.nativeElement,We):this._renderer.removeClass(this._ngEl.nativeElement,We)})}}return U.\u0275fac=function(K){return new(K||U)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},U.\u0275dir=p.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),U})();class Pe{constructor(te,K,pe,We){this.$implicit=te,this.ngForOf=K,this.index=pe,this.count=We}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kt=(()=>{class U{set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}constructor(K,pe,We){this._viewContainer=K,this._template=pe,this._differs=We,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const pe=this._viewContainer;K.forEachOperation((We,kt,Jt)=>{if(null==We.previousIndex)pe.createEmbeddedView(this._template,new Pe(We.item,this._ngForOf,-1,-1),null===Jt?void 0:Jt);else if(null==Jt)pe.remove(null===kt?void 0:kt);else if(null!==kt){const ei=pe.get(kt);pe.move(ei,Jt),B(ei,We)}});for(let We=0,kt=pe.length;We<kt;We++){const ei=pe.get(We).context;ei.index=We,ei.count=kt,ei.ngForOf=this._ngForOf}K.forEachIdentityChange(We=>{B(pe.get(We.currentIndex),We)})}static ngTemplateContextGuard(K,pe){return!0}}return U.\u0275fac=function(K){return new(K||U)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},U.\u0275dir=p.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function B(U,te){U.context.$implicit=te.item}let Ze=(()=>{class U{constructor(K,pe){this._viewContainer=K,this._context=new Ke,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=pe}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){mn("ngIfThen",K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){mn("ngIfElse",K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(K,pe){return!0}}return U.\u0275fac=function(K){return new(K||U)(p.Y36(p.s_b),p.Y36(p.Rgc))},U.\u0275dir=p.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class Ke{constructor(){this.$implicit=null,this.ngIf=null}}function mn(U,te){if(te&&!te.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,p.AaK)(te)}'.`)}let Hs=(()=>{class U{constructor(K,pe,We){this._ngEl=K,this._differs=pe,this._renderer=We,this._ngStyle=null,this._differ=null}set ngStyle(K){this._ngStyle=K,!this._differ&&K&&(this._differ=this._differs.find(K).create())}ngDoCheck(){if(this._differ){const K=this._differ.diff(this._ngStyle);K&&this._applyChanges(K)}}_setStyle(K,pe){const[We,kt]=K.split("."),Jt=-1===We.indexOf("-")?void 0:p.JOm.DashCase;null!=pe?this._renderer.setStyle(this._ngEl.nativeElement,We,kt?`${pe}${kt}`:pe,Jt):this._renderer.removeStyle(this._ngEl.nativeElement,We,Jt)}_applyChanges(K){K.forEachRemovedItem(pe=>this._setStyle(pe.key,null)),K.forEachAddedItem(pe=>this._setStyle(pe.key,pe.currentValue)),K.forEachChangedItem(pe=>this._setStyle(pe.key,pe.currentValue))}}return U.\u0275fac=function(K){return new(K||U)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},U.\u0275dir=p.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),U})(),Cr=(()=>{class U{constructor(K){this._viewContainerRef=K,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(K){if(K.ngTemplateOutlet||K.ngTemplateOutletInjector){const pe=this._viewContainerRef;if(this._viewRef&&pe.remove(pe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:We,ngTemplateOutletContext:kt,ngTemplateOutletInjector:Jt}=this;this._viewRef=pe.createEmbeddedView(We,kt,Jt?{injector:Jt}:void 0)}else this._viewRef=null}else this._viewRef&&K.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(K){return new(K||U)(p.Y36(p.s_b))},U.\u0275dir=p.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]}),U})();function cr(U,te){return new p.vHH(2100,!1)}class Sr{createSubscription(te,K){return te.subscribe({next:K,error:pe=>{throw pe}})}dispose(te){te.unsubscribe()}}class at{createSubscription(te,K){return te.then(K,pe=>{throw pe})}dispose(te){}}const tt=new at,vt=new Sr;let zt=(()=>{class U{constructor(K){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=K}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(K){return this._obj?K!==this._obj?(this._dispose(),this.transform(K)):this._latestValue:(K&&this._subscribe(K),this._latestValue)}_subscribe(K){this._obj=K,this._strategy=this._selectStrategy(K),this._subscription=this._strategy.createSubscription(K,pe=>this._updateLatestValue(K,pe))}_selectStrategy(K){if((0,p.QGY)(K))return tt;if((0,p.F4k)(K))return vt;throw cr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(K,pe){K===this._obj&&(this._latestValue=pe,this._ref.markForCheck())}}return U.\u0275fac=function(K){return new(K||U)(p.Y36(p.sBO,16))},U.\u0275pipe=p.Yjl({name:"async",type:U,pure:!1,standalone:!0}),U})(),Aa=(()=>{class U{constructor(K){this._locale=K}transform(K,pe,We){if(!function Oa(U){return!(null==U||""===U||U!=U)}(K))return null;We=We||this._locale;try{return function Xt(U,te,K){return function St(U,te,K,pe,We,kt,Jt=!1){let ei="",ir=!1;if(isFinite(U)){let wr=function Mi(U){let pe,We,kt,Jt,ei,te=Math.abs(U)+"",K=0;for((We=te.indexOf("."))>-1&&(te=te.replace(".","")),(kt=te.search(/e/i))>0?(We<0&&(We=kt),We+=+te.slice(kt+1),te=te.substring(0,kt)):We<0&&(We=te.length),kt=0;"0"===te.charAt(kt);kt++);if(kt===(ei=te.length))pe=[0],We=1;else{for(ei--;"0"===te.charAt(ei);)ei--;for(We-=kt,pe=[],Jt=0;kt<=ei;kt++,Jt++)pe[Jt]=Number(te.charAt(kt))}return We>22&&(pe=pe.splice(0,21),K=We-1,We=1),{digits:pe,exponent:K,integerLen:We}}(U);Jt&&(wr=function _i(U){if(0===U.digits[0])return U;const te=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===te?U.digits.push(0,0):1===te&&U.digits.push(0),U.integerLen+=2),U}(wr));let fi=te.minInt,Ri=te.minFrac,Mr=te.maxFrac;if(kt){const eo=kt.match(bn);if(null===eo)throw new Error(`${kt} is not a valid digit info`);const On=eo[1],Mn=eo[3],Ms=eo[5];null!=On&&(fi=br(On)),null!=Mn&&(Ri=br(Mn)),null!=Ms?Mr=br(Ms):null!=Mn&&Ri>Mr&&(Mr=Ri)}!function Rr(U,te,K){if(te>K)throw new Error(`The minimum number of digits after fraction (${te}) is higher than the maximum (${K}).`);let pe=U.digits,We=pe.length-U.integerLen;const kt=Math.min(Math.max(te,We),K);let Jt=kt+U.integerLen,ei=pe[Jt];if(Jt>0){pe.splice(Math.max(U.integerLen,Jt));for(let Ri=Jt;Ri<pe.length;Ri++)pe[Ri]=0}else{We=Math.max(0,We),U.integerLen=1,pe.length=Math.max(1,Jt=kt+1),pe[0]=0;for(let Ri=1;Ri<Jt;Ri++)pe[Ri]=0}if(ei>=5)if(Jt-1<0){for(let Ri=0;Ri>Jt;Ri--)pe.unshift(0),U.integerLen++;pe.unshift(1),U.integerLen++}else pe[Jt-1]++;for(;We<Math.max(0,kt);We++)pe.push(0);let ir=0!==kt;const wr=te+U.integerLen,fi=pe.reduceRight(function(Ri,Mr,Nr,xr){return xr[Nr]=(Mr+=Ri)<10?Mr:Mr-10,ir&&(0===xr[Nr]&&Nr>=wr?xr.pop():ir=!1),Mr>=10?1:0},0);fi&&(pe.unshift(fi),U.integerLen++)}(wr,Ri,Mr);let Nr=wr.digits,xr=wr.integerLen;const sn=wr.exponent;let qi=[];for(ir=Nr.every(eo=>!eo);xr<fi;xr++)Nr.unshift(0);for(;xr<0;xr++)Nr.unshift(0);xr>0?qi=Nr.splice(xr,Nr.length):(qi=Nr,Nr=[0]);const _r=[];for(Nr.length>=te.lgSize&&_r.unshift(Nr.splice(-te.lgSize,Nr.length).join(""));Nr.length>te.gSize;)_r.unshift(Nr.splice(-te.gSize,Nr.length).join(""));Nr.length&&_r.unshift(Nr.join("")),ei=_r.join(Ht(K,pe)),qi.length&&(ei+=Ht(K,We)+qi.join("")),sn&&(ei+=Ht(K,ln.Exponential)+"+"+sn)}else ei=Ht(K,ln.Infinity);return ei=U<0&&!ir?te.negPre+ei+te.negSuf:te.posPre+ei+te.posSuf,ei}(U,function qn(U,te="-"){const K={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},pe=U.split(";"),We=pe[0],kt=pe[1],Jt=-1!==We.indexOf(".")?We.split("."):[We.substring(0,We.lastIndexOf("0")+1),We.substring(We.lastIndexOf("0")+1)],ei=Jt[0],ir=Jt[1]||"";K.posPre=ei.substring(0,ei.indexOf("#"));for(let fi=0;fi<ir.length;fi++){const Ri=ir.charAt(fi);"0"===Ri?K.minFrac=K.maxFrac=fi+1:"#"===Ri?K.maxFrac=fi+1:K.posSuf+=Ri}const wr=ei.split(",");if(K.gSize=wr[1]?wr[1].length:0,K.lgSize=wr[2]||wr[1]?(wr[2]||wr[1]).length:0,kt){const fi=We.length-K.posPre.length-K.posSuf.length,Ri=kt.indexOf("#");K.negPre=kt.substring(0,Ri).replace(/'/g,""),K.negSuf=kt.slice(Ri+fi).replace(/'/g,"")}else K.negPre=te+K.posPre,K.negSuf=K.posSuf;return K}(function Fn(U,te){return(0,p.cg1)(U)[p.wAp.NumberFormats][te]}(te,Ye.Percent),Ht(te,ln.MinusSign)),te,ln.Group,ln.Decimal,K,!0).replace(new RegExp("%","g"),Ht(te,ln.PercentSign))}(function vl(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(K),We,pe)}catch(kt){throw cr()}}}return U.\u0275fac=function(K){return new(K||U)(p.Y36(p.soG,16))},U.\u0275pipe=p.Yjl({name:"percent",type:U,pure:!0,standalone:!0}),U})();let ua=(()=>{class U{transform(K,pe,We){if(null==K)return null;if(!this.supports(K))throw cr();return K.slice(pe,We)}supports(K){return"string"==typeof K||Array.isArray(K)}}return U.\u0275fac=function(K){return new(K||U)},U.\u0275pipe=p.Yjl({name:"slice",type:U,pure:!1,standalone:!0}),U})(),js=(()=>{class U{}return U.\u0275fac=function(K){return new(K||U)},U.\u0275mod=p.oAB({type:U}),U.\u0275inj=p.cJS({}),U})();const Ma="browser";function vo(U){return U===Ma}function Jo(U){return"server"===U}let Na=(()=>{class U{}return U.\u0275prov=(0,p.Yz7)({token:U,providedIn:"root",factory:()=>new hl((0,p.LFG)(de),window)}),U})();class hl{constructor(te,K){this.document=te,this.window=K,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const K=function ho(U,te){const K=U.getElementById(te)||U.getElementsByName(te)[0];if(K)return K;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const pe=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let We=pe.currentNode;for(;We;){const kt=We.shadowRoot;if(kt){const Jt=kt.getElementById(te)||kt.querySelector(`[name="${te}"]`);if(Jt)return Jt}We=pe.nextNode()}}return null}(this.document,te);K&&(this.scrollToElement(K),K.focus())}setHistoryScrollRestoration(te){if(this.supportScrollRestoration()){const K=this.window.history;K&&K.scrollRestoration&&(K.scrollRestoration=te)}}scrollToElement(te){const K=te.getBoundingClientRect(),pe=K.left+this.window.pageXOffset,We=K.top+this.window.pageYOffset,kt=this.offset();this.window.scrollTo(pe-kt[0],We-kt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const te=xs(this.window.history)||xs(Object.getPrototypeOf(this.window.history));return!(!te||!te.writable&&!te.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xs(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Ka{}},4650:(dn,dt,k)=>{k.d(dt,{$8M:()=>tl,$WT:()=>Ts,$Z:()=>_p,AFp:()=>cb,ALo:()=>A0,AaK:()=>ie,Akn:()=>Lc,AsE:()=>Tu,BQk:()=>Mf,CHM:()=>W,CRH:()=>V0,CZH:()=>Ay,CqO:()=>rd,D6c:()=>ME,DdM:()=>_0,Dn7:()=>M0,EJc:()=>Ww,EiD:()=>Eg,EpF:()=>Nf,F$t:()=>$p,F4k:()=>jp,FYo:()=>mu,FiY:()=>ro,Gf:()=>L0,GfV:()=>cf,GkF:()=>Zd,Gpc:()=>ce,Gre:()=>m_,Hsn:()=>Wp,Ikx:()=>ig,JOm:()=>Ha,JVY:()=>Wf,JZr:()=>xt,KtG:()=>ve,L6k:()=>Uu,LAX:()=>Kf,LFG:()=>Ft,LMc:()=>xE,LSH:()=>Sd,Lbi:()=>Gw,Lck:()=>$b,MAs:()=>cl,MGl:()=>kf,MMx:()=>wv,MR2:()=>Nm,MT6:()=>Jp,NdJ:()=>zp,OlP:()=>_t,Oqu:()=>Lh,P3R:()=>zc,PXZ:()=>aE,Q2q:()=>is,Q6J:()=>ls,QGY:()=>Ph,QbO:()=>jw,Qsj:()=>Kc,QtT:()=>co,R0b:()=>Cu,RDi:()=>Yh,Rgc:()=>A_,SBq:()=>gh,SDv:()=>Er,Sil:()=>Zw,Suo:()=>B0,TTD:()=>ha,TgZ:()=>Ns,Tol:()=>dm,Udp:()=>u_,VKq:()=>y0,W1O:()=>j0,WLB:()=>v0,X6Q:()=>hE,XFs:()=>Ne,Xpm:()=>St,Xts:()=>Qf,Y36:()=>Yu,YKP:()=>l0,YNc:()=>ja,Yjl:()=>br,Yz7:()=>Ht,Z0I:()=>Ii,ZZ4:()=>Wv,_Bn:()=>a0,_UZ:()=>Sa,_Vd:()=>Rd,_c5:()=>AE,_uU:()=>p_,aQg:()=>Kv,c2e:()=>zw,cJS:()=>Jn,cg1:()=>ly,dDg:()=>iE,dqk:()=>En,eBb:()=>$o,eFA:()=>Eb,ekj:()=>d_,eoX:()=>vb,f3M:()=>Fe,g9A:()=>db,h0i:()=>wm,hGG:()=>OE,hij:()=>hm,iGM:()=>F0,ifc:()=>Gt,ip1:()=>lb,jDz:()=>u0,kEZ:()=>b0,kL8:()=>uy,kYT:()=>_i,l5B:()=>w0,lG2:()=>Rr,lcZ:()=>O0,lqb:()=>Zl,lri:()=>_b,mCW:()=>Hu,n5z:()=>Zs,oAB:()=>qn,oJD:()=>Om,oxw:()=>Pf,pB0:()=>Sm,pQV:()=>Ao,q3G:()=>oo,q4F:()=>op,qLn:()=>Fd,qOj:()=>If,qZA:()=>la,qzn:()=>uu,rFY:()=>E0,rWj:()=>yb,s9C:()=>sd,sBO:()=>fE,s_b:()=>Cy,soG:()=>Oy,tb:()=>hb,tp0:()=>tc,uIk:()=>Kn,uOi:()=>yo,vHH:()=>Be,vpe:()=>th,wAp:()=>zi,xp6:()=>Pg,ynx:()=>Jl,z2F:()=>My,z3N:()=>Mc,zSh:()=>rf,zs3:()=>ao});var p=k(7579),l=k(727),V=k(9751),Te=k(6451),L=k(3099);function de(n){for(let r in n)if(n[r]===de)return r;throw Error("Could not find renamed property on target object.")}function le(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Ce(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const X=de({__forward_ref__:de});function ce(n){return n.__forward_ref__=ce,n.toString=function(){return ie(this())},n}function Oe(n){return et(n)?n():n}function et(n){return"function"==typeof n&&n.hasOwnProperty(X)&&n.__forward_ref__===ce}function ut(n){return n&&!!n.\u0275providers}const xt="https://g.co/ng/security#xss";class Be extends Error{constructor(r,a){super(function it(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,a)),this.code=r}}function ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Le(n,r){throw new Be(-201,!1)}function Re(n,r,a,h){throw new Error(`ASSERTION ERROR: ${n}`+(null==h?"":` [Expected=> ${a} ${h} ${r} <=Actual]`))}function Ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Un(n){return Pi(n,ht)||Pi(n,Ie)}function Ii(n){return null!==Un(n)}function Pi(n,r){return n.hasOwnProperty(r)?n[r]:null}function er(n){return n&&(n.hasOwnProperty(ot)||n.hasOwnProperty(ft))?n[ot]:null}const ht=de({\u0275prov:de}),ot=de({\u0275inj:de}),Ie=de({ngInjectableDef:de}),ft=de({ngInjectorDef:de});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let lt;function hn(n){const r=lt;return lt=n,r}function Pn(n,r,a){const h=Un(n);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:a&Ne.Optional?null:void 0!==r?r:void Le(ie(n))}const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yn={},kn="__NG_DI_FLAG__",bi="ngTempTokenPath",tr=/\n/gm,Ur="__source";let mi;function vr(n){const r=mi;return mi=n,r}function sr(n,r=Ne.Default){if(void 0===mi)throw new Be(-203,!1);return null===mi?Pn(n,void 0,r):mi.get(n,r&Ne.Optional?null:void 0,r)}function Ft(n,r=Ne.Default){return(function An(){return lt}()||sr)(Oe(n),r)}function Fe(n,r=Ne.Default){return Ft(n,wt(r))}function wt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function an(n){const r=[];for(let a=0;a<n.length;a++){const h=Oe(n[a]);if(Array.isArray(h)){if(0===h.length)throw new Be(900,!1);let g,y=Ne.Default;for(let D=0;D<h.length;D++){const F=h[D],z=Ni(F);"number"==typeof z?-1===z?g=F.token:y|=z:g=F}r.push(Ft(g,y))}else r.push(Ft(h))}return r}function Bn(n,r){return n[kn]=r,n.prototype[kn]=r,n}function Ni(n){return n[kn]}function be(n){return{toString:n}.toString()}var De=(()=>((De=De||{})[De.OnPush=0]="OnPush",De[De.Default=1]="Default",De))(),Gt=(()=>{return(n=Gt||(Gt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Gt;var n})();const bn={},$e=[],je=de({\u0275cmp:de}),Me=de({\u0275dir:de}),nt=de({\u0275pipe:de}),Lt=de({\u0275mod:de}),qt=de({\u0275fac:de}),Ln=de({__NG_ELEMENT_ID__:de});let xi=0;function St(n){return be(()=>{const a=!0===n.standalone,h={},g={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===De.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||$e,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Gt.Emulated,id:"c"+xi++,styles:n.styles||$e,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},y=n.dependencies,D=n.features;return g.inputs=Mi(n.inputs,h),g.outputs=Mi(n.outputs),D&&D.forEach(F=>F(g)),g.directiveDefs=y?()=>("function"==typeof y?y():y).map(Xt).filter(Nn):null,g.pipeDefs=y?()=>("function"==typeof y?y():y).map(Pr).filter(Nn):null,g})}function Xt(n){return Hn(n)||Dr(n)}function Nn(n){return null!==n}function qn(n){return be(()=>({type:n.type,bootstrap:n.bootstrap||$e,declarations:n.declarations||$e,imports:n.imports||$e,exports:n.exports||$e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function _i(n,r){return be(()=>{const a=Kr(n,!0);a.declarations=r.declarations||$e,a.imports=r.imports||$e,a.exports=r.exports||$e})}function Mi(n,r){if(null==n)return bn;const a={};for(const h in n)if(n.hasOwnProperty(h)){let g=n[h],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=h,r&&(r[g]=y)}return a}const Rr=St;function br(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Hn(n){return n[je]||null}function Dr(n){return n[Me]||null}function Pr(n){return n[nt]||null}function Ts(n){const r=Hn(n)||Dr(n)||Pr(n);return null!==r&&r.standalone}function Kr(n,r){const a=n[Lt]||null;if(!a&&!0===r)throw new Error(`Type ${ie(n)} does not have '\u0275mod' property.`);return a}function Ei(n){return Array.isArray(n)&&"object"==typeof n[1]}function Di(n){return Array.isArray(n)&&!0===n[1]}function ji(n){return 0!=(4&n.flags)}function Xr(n){return n.componentOffset>-1}function us(n){return 1==(1&n.flags)}function nr(n){return null!==n.template}function qs(n){return 0!=(256&n[2])}function Ds(n,r){return n.hasOwnProperty(qt)?n[qt]:null}class Wa{constructor(r,a,h){this.previousValue=r,this.currentValue=a,this.firstChange=h}isFirstChange(){return this.firstChange}}function ha(){return Na}function Na(n){return n.type.prototype.ngOnChanges&&(n.setInput=xs),hl}function hl(){const n=Is(this),r=n?.current;if(r){const a=n.previous;if(a===bn)n.previous=r;else for(let h in r)a[h]=r[h];n.current=null,this.ngOnChanges(r)}}function xs(n,r,a,h){const g=this.declaredInputs[a],y=Is(n)||function Ka(n,r){return n[ho]=r}(n,{previous:bn,current:null}),D=y.current||(y.current={}),F=y.previous,z=F[g];D[g]=new Wa(z&&z.currentValue,r,F===bn),n[h]=r}ha.ngInherit=!0;const ho="__ngSimpleChanges__";function Is(n){return n[ho]||null}function Gr(n){for(;Array.isArray(n);)n=n[0];return n}function jr(n,r){return Gr(r[n])}function Yr(n,r){return Gr(r[n.index])}function fa(n,r){return n.data[r]}function Bi(n,r){return n[r]}function gr(n,r){const a=r[n];return Ei(a)?a:a[0]}function Xo(n){return 64==(64&n[2])}function Os(n,r){return null==r?null:n[r]}function po(n){n[18]=0}function ko(n,r){n[5]+=r;let a=n,h=n[3];for(;null!==h&&(1===r&&1===a[5]||-1===r&&0===a[5]);)h[5]+=r,a=h,h=h[3]}const ui={lFrame:ns(null),bindingsEnabled:!0};function Ya(){return ui.bindingsEnabled}function G(){return ui.lFrame.lView}function $(){return ui.lFrame.tView}function W(n){return ui.lFrame.contextLView=n,n[8]}function ve(n){return ui.lFrame.contextLView=null,n}function Tt(){let n=Zn();for(;null!==n&&64===n.type;)n=n.parent;return n}function Zn(){return ui.lFrame.currentTNode}function mr(){const n=ui.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function Br(n,r){const a=ui.lFrame;a.currentTNode=n,a.isParent=r}function Js(){return ui.lFrame.isParent}function Lo(){ui.lFrame.isParent=!1}function vs(){const n=ui.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function rs(){return ui.lFrame.bindingIndex}function bo(){return ui.lFrame.bindingIndex++}function Bo(n){const r=ui.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}function go(n){ui.lFrame.inI18n=n}function Rs(n,r){const a=ui.lFrame;a.bindingIndex=a.bindingRootIndex=n,ts(r)}function ts(n){ui.lFrame.currentDirectiveIndex=n}function qr(){return ui.lFrame.currentQueryIndex}function Fr(n){ui.lFrame.currentQueryIndex=n}function Uo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Wi(n,r,a){if(a&Ne.SkipSelf){let g=r,y=n;for(;!(g=g.parent,null!==g||a&Ne.Host||(g=Uo(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;r=g,n=y}const h=ui.lFrame=Pa();return h.currentTNode=r,h.lView=n,!0}function Xs(n){const r=Pa(),a=n[1];ui.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function Pa(){const n=ui.lFrame,r=null===n?null:n.child;return null===r?ns(n):r}function ns(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function qa(){const n=ui.lFrame;return ui.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Qa=qa;function mo(){const n=qa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Or(){return ui.lFrame.selectedIndex}function ss(n){ui.lFrame.selectedIndex=n}function Vi(){const n=ui.lFrame;return fa(n.tView,n.selectedIndex)}function bs(n,r){for(let a=r.directiveStart,h=r.directiveEnd;a<h;a++){const y=n.data[a].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:F,ngAfterViewInit:z,ngAfterViewChecked:ee,ngOnDestroy:ye}=y;D&&(n.contentHooks||(n.contentHooks=[])).push(-a,D),F&&((n.contentHooks||(n.contentHooks=[])).push(a,F),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(a,F)),z&&(n.viewHooks||(n.viewHooks=[])).push(-a,z),ee&&((n.viewHooks||(n.viewHooks=[])).push(a,ee),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(a,ee)),null!=ye&&(n.destroyHooks||(n.destroyHooks=[])).push(a,ye)}}function na(n,r,a){K(n,r,3,a)}function U(n,r,a,h){(3&n[2])===a&&K(n,r,a,h)}function te(n,r){let a=n[2];(3&a)===r&&(a&=2047,a+=1,n[2]=a)}function K(n,r,a,h){const y=h??-1,D=r.length-1;let F=0;for(let z=void 0!==h?65535&n[18]:0;z<D;z++)if("number"==typeof r[z+1]){if(F=r[z],null!=h&&F>=h)break}else r[z]<0&&(n[18]+=65536),(F<y||-1==y)&&(pe(n,a,r,z),n[18]=(4294901760&n[18])+z+2),z++}function pe(n,r,a,h){const g=a[h]<0,y=a[h+1],F=n[g?-a[h]:a[h]];if(g){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{y.call(F)}finally{}}}else try{y.call(F)}finally{}}class kt{constructor(r,a,h){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=h}}function xr(n,r,a){let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],D=a[h++],F=a[h++];n.setAttribute(r,D,F,y)}else{const y=g,D=a[++h];qi(y)?n.setProperty(r,y,D):n.setAttribute(r,y,D),h++}}return h}function sn(n){return 3===n||4===n||6===n}function qi(n){return 64===n.charCodeAt(0)}function _r(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let h=0;h<r.length;h++){const g=r[h];"number"==typeof g?a=g:0===a||eo(n,a,g,null,-1===a||2===a?r[++h]:null)}}return n}function eo(n,r,a,h,g){let y=0,D=n.length;if(-1===r)D=-1;else for(;y<n.length;){const F=n[y++];if("number"==typeof F){if(F===r){D=-1;break}if(F>r){D=y-1;break}}}for(;y<n.length;){const F=n[y];if("number"==typeof F)break;if(F===a){if(null===h)return void(null!==g&&(n[y+1]=g));if(h===n[y+1])return void(n[y+2]=g)}y++,null!==h&&y++,null!==g&&y++}-1!==D&&(n.splice(D,0,r),y=D+1),n.splice(y++,0,a),null!==h&&n.splice(y++,0,h),null!==g&&n.splice(y++,0,g)}function On(n){return-1!==n}function Mn(n){return 32767&n}function yn(n,r){let a=function Ms(n){return n>>16}(n),h=r;for(;a>0;)h=h[15],a--;return h}let Mt=!0;function on(n){const r=Mt;return Mt=n,r}let Ll=0;const wo={};function Vl(n,r){const a=Tc(n,r);if(-1!==a)return a;const h=r[1];h.firstCreatePass&&(n.injectorIndex=r.length,ia(h.data,n),ia(r,null),ia(h.blueprint,null));const g=Cs(n,r),y=n.injectorIndex;if(On(g)){const D=Mn(g),F=yn(g,r),z=F[1].data;for(let ee=0;ee<8;ee++)r[y+ee]=F[D+ee]|z[D+ee]}return r[y+8]=g,y}function ia(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Tc(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Cs(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,h=null,g=r;for(;null!==g;){if(h=Ba(g),null===h)return-1;if(a++,g=g[15],-1!==h.injectorIndex)return h.injectorIndex|a<<16}return-1}function Ol(n,r,a){!function Bl(n,r,a){let h;"string"==typeof a?h=a.charCodeAt(0)||0:a.hasOwnProperty(Ln)&&(h=a[Ln]),null==h&&(h=a[Ln]=Ll++);const g=255&h;r.data[n+(g>>5)]|=1<<g}(n,r,a)}function Si(n,r,a){if(a&Ne.Optional||void 0!==n)return n;Le()}function Ho(n,r,a,h){if(a&Ne.Optional&&void 0===h&&(h=null),!(a&(Ne.Self|Ne.Host))){const g=n[9],y=hn(void 0);try{return g?g.get(r,h,a&Ne.Optional):Pn(r,h,a&Ne.Optional)}finally{hn(y)}}return Si(h,0,a)}function ec(n,r,a,h=Ne.Default,g){if(null!==n){if(1024&r[2]){const D=function _a(n,r,a,h,g){let y=n,D=r;for(;null!==y&&null!==D&&1024&D[2]&&!(256&D[2]);){const F=zr(y,D,a,h|Ne.Self,wo);if(F!==wo)return F;let z=y.parent;if(!z){const ee=D[21];if(ee){const ye=ee.get(a,wo,h);if(ye!==wo)return ye}z=Ba(D),D=D[15]}y=z}return g}(n,r,a,h,wo);if(D!==wo)return D}const y=zr(n,r,a,h,wo);if(y!==wo)return y}return Ho(r,a,h,g)}function zr(n,r,a,h,g){const y=function Eo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ln)?n[Ln]:void 0;return"number"==typeof r?r>=0?255&r:ma:r}(a);if("function"==typeof y){if(!Wi(r,n,h))return h&Ne.Host?Si(g,0,h):Ho(r,a,h,g);try{const D=y(h);if(null!=D||h&Ne.Optional)return D;Le()}finally{Qa()}}else if("number"==typeof y){let D=null,F=Tc(n,r),z=-1,ee=h&Ne.Host?r[16][6]:null;for((-1===F||h&Ne.SkipSelf)&&(z=-1===F?Cs(n,r):r[F+8],-1!==z&&gn(h,!1)?(D=r[1],F=Mn(z),r=yn(z,r)):F=-1);-1!==F;){const ye=r[1];if(hr(y,F,ye.data)){const He=Rn(F,r,a,D,h,ee);if(He!==wo)return He}z=r[F+8],-1!==z&&gn(h,r[1].data[F+8]===ee)&&hr(y,F,r)?(D=ye,F=Mn(z),r=yn(z,r)):F=-1}}return g}function Rn(n,r,a,h,g,y){const D=r[1],F=D.data[n+8],ye=La(F,D,a,null==h?Xr(F)&&Mt:h!=D&&0!=(3&F.type),g&Ne.Host&&y===F);return null!==ye?li(r,D,ye,F):wo}function La(n,r,a,h,g){const y=n.providerIndexes,D=r.data,F=1048575&y,z=n.directiveStart,ye=y>>20,mt=g?F+ye:n.directiveEnd;for(let Rt=h?F:F+ye;Rt<mt;Rt++){const nn=D[Rt];if(Rt<z&&a===nn||Rt>=z&&nn.type===a)return Rt}if(g){const Rt=D[z];if(Rt&&nr(Rt)&&Rt.type===a)return z}return null}function li(n,r,a,h){let g=n[a];const y=r.data;if(function Jt(n){return n instanceof kt}(g)){const D=g;D.resolving&&function Ae(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Be(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Xe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ge(n)}(y[a]));const F=on(D.canSeeViewProviders);D.resolving=!0;const z=D.injectImpl?hn(D.injectImpl):null;Wi(n,h,Ne.Default);try{g=n[a]=D.factory(void 0,y,n,h),r.firstCreatePass&&a>=h.directiveStart&&function Ks(n,r,a){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:y}=r.type.prototype;if(h){const D=Na(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(n,D),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,D)}g&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-n,g),y&&((a.preOrderHooks||(a.preOrderHooks=[])).push(n,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,y))}(a,y[a],r)}finally{null!==z&&hn(z),on(F),D.resolving=!1,Qa()}}return g}function hr(n,r,a){return!!(a[r+(n>>5)]&1<<n)}function gn(n,r){return!(n&Ne.Self||n&Ne.Host&&r)}class to{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,h){return ec(this._tNode,this._lView,r,wt(h),a)}}function ma(){return new to(Tt(),G())}function Zs(n){return be(()=>{const r=n.prototype.constructor,a=r[qt]||no(r),h=Object.prototype;let g=Object.getPrototypeOf(n.prototype).constructor;for(;g&&g!==h;){const y=g[qt]||no(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function no(n){return et(n)?()=>{const r=no(Oe(n));return r&&r()}:Ds(n)}function Ba(n){const r=n[1],a=r.type;return 2===a?r.declTNode:1===a?n[6]:null}function tl(n){return function Ps(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const h=a.length;let g=0;for(;g<h;){const y=a[g];if(sn(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<h&&"string"==typeof a[g];)g++;else{if(y===r)return a[g+1];g+=2}}}return null}(Tt(),n)}const sa="__parameters__";function il(n,r,a){return be(()=>{const h=function Go(n){return function(...a){if(n){const h=n(...a);for(const g in h)this[g]=h[g]}}}(r);function g(...y){if(this instanceof g)return h.apply(this,y),this;const D=new g(...y);return F.annotation=D,F;function F(z,ee,ye){const He=z.hasOwnProperty(sa)?z[sa]:Object.defineProperty(z,sa,{value:[]})[sa];for(;He.length<=ye;)He.push(null);return(He[ye]=He[ye]||[]).push(D),z}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=n,g.annotationCls=g,g})}class _t{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ht({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function os(n,r){n.forEach(a=>Array.isArray(a)?os(a,r):r(a))}function S(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function M(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function E(n,r){const a=[];for(let h=0;h<n;h++)a.push(r);return a}function T(n,r,a){let h=Q(n,r);return h>=0?n[1|h]=a:(h=~h,function he(n,r,a,h){let g=n.length;if(g==r)n.push(a,h);else if(1===g)n.push(h,n[0]),n[0]=a;else{for(g--,n.push(n[g-1],n[g]);g>r;)n[g]=n[g-2],g--;n[r]=a,n[r+1]=h}}(n,h,r,a)),h}function O(n,r){const a=Q(n,r);if(a>=0)return n[1|a]}function Q(n,r){return function Ve(n,r,a){let h=0,g=n.length>>a;for(;g!==h;){const y=h+(g-h>>1),D=n[y<<a];if(r===D)return y<<a;D>r?g=y:h=y+1}return~(g<<a)}(n,r,1)}const ro=Bn(il("Optional"),8),tc=Bn(il("SkipSelf"),4);var Ha=(()=>((Ha=Ha||{})[Ha.Important=1]="Important",Ha[Ha.DashCase=2]="DashCase",Ha))();const wa=/^>|^->|<!--|-->|--!>|<!-$/g,fd=/(<|>)/;const Nu=new Map;let xu=0;const bt="__ngContext__";function yt(n,r){Ei(r)?(n[bt]=r[20],function pd(n){Nu.set(n[20],n)}(r)):n[bt]=r}let Cl;function cc(n,r){return Cl(n,r)}function Ru(n){const r=n[3];return Di(r)?r[3]:r}function ou(n){return uc(n[13])}function au(n){return uc(n[4])}function uc(n){for(;null!==n&&!Di(n);)n=n[4];return n}function Gl(n,r,a,h,g){if(null!=h){let y,D=!1;Di(h)?y=h:Ei(h)&&(D=!0,h=h[0]);const F=Gr(h);0===n&&null!==a?null==g?Ea(r,a,F):Ki(r,a,F,g||null,!0):1===n&&null!==a?Ki(r,a,F,g||null,!0):2===n?Gf(r,F,D):3===n&&r.destroyNode(F),null!=y&&function Kh(n,r,a,h,g){const y=a[7];y!==Gr(a)&&Gl(r,n,h,y,g);for(let F=10;F<a.length;F++){const z=a[F];wd(z[1],z,n,r,h,y)}}(r,n,y,a,g)}}function lu(n,r){return n.createText(r)}function Pu(n,r,a){n.setValue(r,a)}function $h(n,r){return n.createComment(function sh(n){return n.replace(wa,r=>r.replace(fd,"\u200b$1\u200b"))}(r))}function gd(n,r,a){return n.createElement(r,a)}function x(n,r){const a=n[9],h=a.indexOf(r),g=r[3];512&r[2]&&(r[2]&=-513,ko(g,-1)),a.splice(h,1)}function se(n,r){if(n.length<=10)return;const a=10+r,h=n[a];if(h){const g=h[17];null!==g&&g!==n&&x(g,h),r>0&&(n[a-1][4]=h[4]);const y=M(n,10+r);!function jl(n,r){wd(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(h[1],h);const D=y[19];null!==D&&D.detachView(y[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function we(n,r){if(!(128&r[2])){const a=r[11];a.destroyNode&&wd(n,r,a,3,null,null),function I(n){let r=n[13];if(!r)return gt(n[1],n);for(;r;){let a=null;if(Ei(r))a=r[13];else{const h=r[10];h&&(a=h)}if(!a){for(;r&&!r[4]&&r!==n;)Ei(r)&&gt(r[1],r),r=r[3];null===r&&(r=n),Ei(r)&&gt(r[1],r),a=r&&r[4]}r=a}}(r)}}function gt(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Tn(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let h=0;h<a.length;h+=2){const g=r[a[h]];if(!(g instanceof kt)){const y=a[h+1];if(Array.isArray(y))for(let D=0;D<y.length;D+=2){const F=g[y[D]],z=y[D+1];try{z.call(F)}finally{}}else try{y.call(g)}finally{}}}}(n,r),function Ut(n,r){const a=n.cleanup,h=r[7];let g=-1;if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const D=a[y+3];D>=0?h[g=D]():h[g=-D].unsubscribe(),y+=2}else{const D=h[g=a[y+1]];a[y].call(D)}if(null!==h){for(let y=g+1;y<h.length;y++)(0,h[y])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const a=r[17];if(null!==a&&Di(r[3])){a!==r[3]&&x(a,r);const h=r[19];null!==h&&h.detachView(n)}!function N(n){Nu.delete(n[20])}(r)}}function jn(n,r,a){return hi(n,r.parent,a)}function hi(n,r,a){let h=r;for(;null!==h&&40&h.type;)h=(r=h).parent;if(null===h)return a[0];{const{componentOffset:g}=h;if(g>-1){const{encapsulation:y}=n.data[h.directiveStart+g];if(y===Gt.None||y===Gt.Emulated)return null}return Yr(h,a)}}function Ki(n,r,a,h,g){n.insertBefore(r,a,h,g)}function Ea(n,r,a){n.appendChild(r,a)}function zl(n,r,a,h,g){null!==h?Ki(n,r,a,h,g):Ea(n,r,a)}function Fu(n,r){return n.parentNode(r)}function _d(n,r,a){return yd(n,r,a)}function Ac(n,r,a){return 40&n.type?Yr(n,a):null}let gl,Oc,cu,Qi,yd=Ac;function Lu(n,r){yd=n,gl=r}function hc(n,r,a,h){const g=jn(n,h,r),y=r[11],F=_d(h.parent||r[6],h,r);if(null!=g)if(Array.isArray(a))for(let z=0;z<a.length;z++)zl(y,g,a[z],F,!1);else zl(y,g,a,F,!1);void 0!==gl&&gl(y,h,r,a,g)}function vd(n,r){if(null!==r){const a=r.type;if(3&a)return Yr(r,n);if(4&a)return or(-1,n[r.index]);if(8&a){const h=r.child;if(null!==h)return vd(n,h);{const g=n[r.index];return Di(g)?or(-1,g):Gr(g)}}if(32&a)return cc(r,n)()||Gr(n[r.index]);{const h=bd(n,r);return null!==h?Array.isArray(h)?h[0]:vd(Ru(n[16]),h):vd(n,r.next)}}return null}function bd(n,r){return null!==r?n[16][6].projection[r.projection]:null}function or(n,r){const a=10+n+1;if(a<r.length){const h=r[a],g=h[1].firstChild;if(null!==g)return vd(h,g)}return r[7]}function Gf(n,r,a){const h=Fu(n,r);h&&function md(n,r,a,h){n.removeChild(r,a,h)}(n,h,r,a)}function ah(n,r,a,h,g,y,D){for(;null!=a;){const F=h[a.index],z=a.type;if(D&&0===r&&(F&&yt(Gr(F),h),a.flags|=2),32!=(32&a.flags))if(8&z)ah(n,r,a.child,h,g,y,!1),Gl(r,n,g,F,y);else if(32&z){const ee=cc(a,h);let ye;for(;ye=ee();)Gl(r,n,g,ye,y);Gl(r,n,g,F,y)}else 16&z?jf(n,r,h,a,g,y):Gl(r,n,g,F,y);a=D?a.projectionNext:a.next}}function wd(n,r,a,h,g,y){ah(a,h,n.firstChild,r,g,y,!1)}function jf(n,r,a,h,g,y){const D=a[16],z=D[6].projection[h.projection];if(Array.isArray(z))for(let ee=0;ee<z.length;ee++)Gl(r,n,g,z[ee],y);else ah(n,r,z,D[3],g,y,!0)}function zf(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function Bu(n,r,a){const{mergedAttrs:h,classes:g,styles:y}=a;null!==h&&xr(n,r,h),null!==g&&zf(n,r,g),null!==y&&function Cm(n,r,a){n.setAttribute(r,"style",a)}(n,r,y)}function $l(n){return function Zh(){if(void 0===Oc&&(Oc=null,En.trustedTypes))try{Oc=En.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Oc}()?.createHTML(n)||n}function Yh(n){cu=n}function Td(){return void 0!==cu?cu:typeof document<"u"?document:void 0}function Es(){if(void 0===Qi&&(Qi=null,En.trustedTypes))try{Qi=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qi}function fc(n){return Es()?.createHTML(n)||n}function Vu(n){return Es()?.createScriptURL(n)||n}class pc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xt})`}}class gg extends pc{getTypeName(){return"HTML"}}class mg extends pc{getTypeName(){return"Style"}}class gc extends pc{getTypeName(){return"Script"}}class jc extends pc{getTypeName(){return"URL"}}class $f extends pc{getTypeName(){return"ResourceURL"}}function Mc(n){return n instanceof pc?n.changingThisBreaksApplicationSecurity:n}function uu(n,r){const a=function Dd(n){return n instanceof pc&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see ${xt})`)}return a===r}function Wf(n){return new gg(n)}function Uu(n){return new mg(n)}function $o(n){return new gc(n)}function Kf(n){return new jc(n)}function Sm(n){return new $f(n)}function Zf(n){const r=new Jr(n);return function _g(){try{return!!(new window.DOMParser).parseFromString($l(""),"text/html")}catch{return!1}}()?new Vs(r):r}class Vs{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString($l(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch{return null}}}class Jr{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const h=this.inertDocument.createElement("body");a.appendChild(h)}}getInertBodyElement(r){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=$l(r),a;const h=this.inertDocument.createElement("body");return h.innerHTML=$l(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(r){const a=r.attributes;for(let g=a.length-1;0<g;g--){const D=a.item(g).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&r.removeAttribute(D)}let h=r.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Qh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Hu(n){return(n=String(n)).match(Qh)?n:"unsafe:"+n}function kl(n){const r={};for(const a of n.split(","))r[a]=!0;return r}function du(...n){const r={};for(const a of n)for(const h in a)a.hasOwnProperty(h)&&(r[h]=!0);return r}const yg=kl("area,br,col,hr,img,wbr"),Jh=kl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lh=kl("rp,rt"),Gu=du(yg,du(Jh,kl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),du(lh,kl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),du(lh,Jh)),Cd=kl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ef=du(Cd,kl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uh=kl("script,style,template");class dh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,h=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?h=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,h&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!Gu.hasOwnProperty(a))return this.sanitizedSomething=!0,!uh.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const h=r.attributes;for(let g=0;g<h.length;g++){const y=h.item(g),D=y.name,F=D.toLowerCase();if(!ef.hasOwnProperty(F)){this.sanitizedSomething=!0;continue}let z=y.value;Cd[F]&&(z=Hu(z)),this.buf.push(" ",D,'="',wg(z),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();Gu.hasOwnProperty(a)&&!yg.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(wg(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const bg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Am=/([^\#-~ |!])/g;function wg(n){return n.replace(/&/g,"&amp;").replace(bg,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Am,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tf;function Eg(n,r){let a=null;try{tf=tf||Zf(n);let h=r?String(r):"";a=tf.getInertBodyElement(h);let g=5,y=h;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,h=y,y=a.innerHTML,a=tf.getInertBodyElement(h)}while(h!==y);return $l((new dh).sanitizeChildren(hh(a)||a))}finally{if(a){const h=hh(a)||a;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function hh(n){return"content"in n&&function Wl(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var oo=(()=>((oo=oo||{})[oo.NONE=0]="NONE",oo[oo.HTML=1]="HTML",oo[oo.STYLE=2]="STYLE",oo[oo.SCRIPT=3]="SCRIPT",oo[oo.URL=4]="URL",oo[oo.RESOURCE_URL=5]="RESOURCE_URL",oo))();function Om(n){const r=Id();return r?fc(r.sanitize(oo.HTML,n)||""):uu(n,"HTML")?fc(Mc(n)):Eg(Td(),ge(n))}function Sd(n){const r=Id();return r?r.sanitize(oo.URL,n)||"":uu(n,"URL")?Mc(n):Hu(ge(n))}function yo(n){const r=Id();if(r)return Vu(r.sanitize(oo.RESOURCE_URL,n)||"");if(uu(n,"ResourceURL"))return Vu(Mc(n));throw new Be(904,!1)}function zc(n,r,a){return function Tg(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?yo:Sd}(r,a)(n)}function Id(){const n=G();return n&&n[12]}const Qf=new _t("ENVIRONMENT_INITIALIZER"),Dg=new _t("INJECTOR",-1),Ad=new _t("INJECTOR_DEF_TYPES");class nf{get(r,a=Yn){if(a===Yn){const h=new Error(`NullInjectorError: No provider for ${ie(r)}!`);throw h.name="NullInjectorError",h}return a}}function Nm(n){return{\u0275providers:n}}function Jf(...n){return{\u0275providers:ju(0,n),\u0275fromNgModule:!0}}function ju(n,...r){const a=[],h=new Set;let g;return os(r,y=>{const D=y;Od(D,a,[],h)&&(g||(g=[]),g.push(D))}),void 0!==g&&Xf(g,a),a}function Xf(n,r){for(let a=0;a<n.length;a++){const{providers:g}=n[a];ep(g,y=>{r.push(y)})}}function Od(n,r,a,h){if(!(n=Oe(n)))return!1;let g=null,y=er(n);const D=!y&&Hn(n);if(y||D){if(D&&!D.standalone)return!1;g=n}else{const z=n.ngModule;if(y=er(z),!y)return!1;g=z}const F=h.has(g);if(D){if(F)return!1;if(h.add(g),D.dependencies){const z="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const ee of z)Od(ee,r,a,h)}}else{if(!y)return!1;{if(null!=y.imports&&!F){let ee;h.add(g);try{os(y.imports,ye=>{Od(ye,r,a,h)&&(ee||(ee=[]),ee.push(ye))})}finally{}void 0!==ee&&Xf(ee,r)}if(!F){const ee=Ds(g)||(()=>new g);r.push({provide:g,useFactory:ee,deps:$e},{provide:Ad,useValue:g,multi:!0},{provide:Qf,useValue:()=>Ft(g),multi:!0})}const z=y.providers;null==z||F||ep(z,ye=>{r.push(ye)})}}return g!==n&&void 0!==n.providers}function ep(n,r){for(let a of n)ut(a)&&(a=a.\u0275providers),Array.isArray(a)?ep(a,r):r(a)}const zu=de({provide:String,useValue:de});function tp(n){return null!==n&&"object"==typeof n&&zu in n}function fu(n){return"function"==typeof n}const rf=new _t("Set Injector scope."),ar={},Cg={};let fh;function ph(){return void 0===fh&&(fh=new nf),fh}class Zl{}class pu extends Zl{get destroyed(){return this._destroyed}constructor(r,a,h,g){super(),this.parent=a,this.source=h,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sf(r,D=>this.processProvider(D)),this.records.set(Dg,Wc(void 0,this)),g.has("environment")&&this.records.set(Zl,Wc(void 0,this));const y=this.records.get(rf);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Ad.multi,$e,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=vr(this),h=hn(void 0);try{return r()}finally{vr(a),hn(h)}}get(r,a=Yn,h=Ne.Default){this.assertNotDestroyed(),h=wt(h);const g=vr(this),y=hn(void 0);try{if(!(h&Ne.SkipSelf)){let F=this.records.get(r);if(void 0===F){const z=function ip(n){return"function"==typeof n||"object"==typeof n&&n instanceof _t}(r)&&Un(r);F=z&&this.injectableDefInScope(z)?Wc(xc(r),ar):null,this.records.set(r,F)}if(null!=F)return this.hydrate(r,F)}return(h&Ne.Self?ph():this.parent).get(r,a=h&Ne.Optional&&a===Yn?null:a)}catch(D){if("NullInjectorError"===D.name){if((D[bi]=D[bi]||[]).unshift(ie(r)),g)throw D;return function ze(n,r,a,h){const g=n[bi];throw r[Ur]&&g.unshift(r[Ur]),n.message=function Ue(n,r,a,h=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let g=ie(r);if(Array.isArray(r))g=r.map(ie).join(" -> ");else if("object"==typeof r){let y=[];for(let D in r)if(r.hasOwnProperty(D)){let F=r[D];y.push(D+":"+("string"==typeof F?JSON.stringify(F):ie(F)))}g=`{${y.join(", ")}}`}return`${a}${h?"("+h+")":""}[${g}]: ${n.replace(tr,"\n  ")}`}("\n"+n.message,g,a,h),n.ngTokenPath=g,n[bi]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{hn(y),vr(g)}}resolveInjectorInitializers(){const r=vr(this),a=hn(void 0);try{const h=this.get(Qf.multi,$e,Ne.Self);for(const g of h)g()}finally{vr(r),hn(a)}}toString(){const r=[],a=this.records;for(const h of a.keys())r.push(ie(h));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(r){let a=fu(r=Oe(r))?r:Oe(r&&r.provide);const h=function gu(n){return tp(n)?Wc(void 0,n.useValue):Wc(Md(n),ar)}(r);if(fu(r)||!0!==r.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=Wc(void 0,ar,!0),g.factory=()=>an(g.multi),this.records.set(a,g)),a=r,g.multi.push(r)}this.records.set(a,h)}hydrate(r,a){return a.value===ar&&(a.value=Cg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Sg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=Oe(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function xc(n){const r=Un(n),a=null!==r?r.factory:Ds(n);if(null!==a)return a;if(n instanceof _t)throw new Be(204,!1);if(n instanceof Function)return function $c(n){const r=n.length;if(r>0)throw E(r,"?"),new Be(204,!1);const a=function si(n){const r=n&&(n[ht]||n[Ie]);if(r){const a=function ki(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Be(204,!1)}function Md(n,r,a){let h;if(fu(n)){const g=Oe(n);return Ds(g)||xc(g)}if(tp(n))h=()=>Oe(n.useValue);else if(function Kl(n){return!(!n||!n.useFactory)}(n))h=()=>n.useFactory(...an(n.deps||[]));else if(function _c(n){return!(!n||!n.useExisting)}(n))h=()=>Ft(Oe(n.useExisting));else{const g=Oe(n&&(n.useClass||n.provide));if(!function np(n){return!!n.deps}(n))return Ds(g)||xc(g);h=()=>new g(...an(n.deps))}return h}function Wc(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function sf(n,r){for(const a of n)Array.isArray(a)?sf(a,r):a&&ut(a)?sf(a.\u0275providers,r):r(a)}class rp{}class af{}class Pm{resolveComponentFactory(r){throw function lf(n){const r=Error(`No component factory found for ${ie(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Rd=(()=>{class n{}return n.NULL=new Pm,n})();function km(){return Pd(Tt(),G())}function Pd(n,r){return new gh(Yr(n,r))}let gh=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=km,n})();function mh(n){return n instanceof gh?n.nativeElement:n}class mu{}let Kc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function sp(){const n=G(),a=gr(Tt().index,n);return(Ei(a)?a:n)[11]}(),n})(),Ig=(()=>{class n{}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:()=>null}),n})();class cf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const op=new cf("15.1.3"),_h={};function yh(n){return n.ngOriginalError}class Fd{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&yh(r);for(;a&&yh(a);)a=yh(a);return a||null}}function yc(n){return n instanceof Function?n():n}function df(n,r,a){let h=n.length;for(;;){const g=n.indexOf(r,a);if(-1===g)return g;if(0===g||n.charCodeAt(g-1)<=32){const y=r.length;if(g+y===h||n.charCodeAt(g+y)<=32)return g}a=g+1}}const xg="ng-template";function $u(n,r,a){let h=0;for(;h<n.length;){let g=n[h++];if(a&&"class"===g){if(g=n[h],-1!==df(g.toLowerCase(),r,0))return!0}else if(1===g){for(;h<n.length&&"string"==typeof(g=n[h++]);)if(g.toLowerCase()===r)return!0;return!1}}return!1}function Ld(n){return 4===n.type&&n.value!==xg}function cp(n,r,a){return r===(4!==n.type||a?n.value:xg)}function Bd(n,r,a){let h=4;const g=n.attrs||[],y=function hf(n){for(let r=0;r<n.length;r++)if(sn(n[r]))return r;return n.length}(g);let D=!1;for(let F=0;F<r.length;F++){const z=r[F];if("number"!=typeof z){if(!D)if(4&h){if(h=2|1&h,""!==z&&!cp(n,z,a)||""===z&&1===r.length){if(So(h))return!1;D=!0}}else{const ee=8&h?z:r[++F];if(8&h&&null!==n.attrs){if(!$u(n.attrs,ee,a)){if(So(h))return!1;D=!0}continue}const He=_s(8&h?"class":z,g,Ld(n),a);if(-1===He){if(So(h))return!1;D=!0;continue}if(""!==ee){let mt;mt=He>y?"":g[He+1].toLowerCase();const Rt=8&h?mt:null;if(Rt&&-1!==df(Rt,ee,0)||2&h&&ee!==mt){if(So(h))return!1;D=!0}}}}else{if(!D&&!So(h)&&!So(z))return!1;if(D&&So(z))continue;D=!1,h=z|1&h}}return So(h)||D}function So(n){return 0==(1&n)}function _s(n,r,a,h){if(null===r)return-1;let g=0;if(h||!a){let y=!1;for(;g<r.length;){const D=r[g];if(D===n)return g;if(3===D||6===D)y=!0;else{if(1===D||2===D){let F=r[++g];for(;"string"==typeof F;)F=r[++g];continue}if(4===D)break;if(0===D){g+=4;continue}}g+=y?1:2}return-1}return function Vm(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const h=n[a];if("number"==typeof h)return-1;if(h===r)return a;a++}return-1}(r,n)}function vh(n,r,a=!1){for(let h=0;h<r.length;h++)if(Bd(n,r[h],a))return!0;return!1}function Rg(n,r){e:for(let a=0;a<r.length;a++){const h=r[a];if(n.length===h.length){for(let g=0;g<n.length;g++)if(n[g]!==h[g])continue e;return!0}}return!1}function ff(n,r){return n?":not("+r.trim()+")":r}function Um(n){let r=n[0],a=1,h=2,g="",y=!1;for(;a<n.length;){let D=n[a];if("string"==typeof D)if(2&h){const F=n[++a];g+="["+D+(F.length>0?'="'+F+'"':"")+"]"}else 8&h?g+="."+D:4&h&&(g+=" "+D);else""!==g&&!So(D)&&(r+=ff(y,g),g=""),h=D,y=y||!So(h);a++}return""!==g&&(r+=ff(y,g)),r}const lr={};function Pg(n){up($(),G(),Or()+n,!1)}function up(n,r,a,h){if(!h)if(3==(3&r[2])){const y=n.preOrderCheckHooks;null!==y&&na(r,y,a)}else{const y=n.preOrderHooks;null!==y&&U(r,y,0,a)}ss(a)}function dp(n,r=null,a=null,h){const g=hp(n,r,a,h);return g.resolveInjectorInitializers(),g}function hp(n,r=null,a=null,h,g=new Set){const y=[a||$e,Jf(n)];return h=h||("object"==typeof n?void 0:ie(n)),new pu(y,r||ph(),h||null,g)}let ao=(()=>{class n{static create(a,h){if(Array.isArray(a))return dp({name:""},h,a,"");{const g=a.name??"";return dp({name:g},a.parent,a.providers,g)}}}return n.THROW_IF_NOT_FOUND=Yn,n.NULL=new nf,n.\u0275prov=Ht({token:n,providedIn:"any",factory:()=>Ft(Dg)}),n.__NG_ELEMENT_ID__=-1,n})();function Yu(n,r=Ne.Default){const a=G();return null===a?Ft(n,r):ec(Tt(),a,Oe(n),r)}function _p(){throw new Error("invalid")}function yf(n,r){const a=n.contentQueries;if(null!==a)for(let h=0;h<a.length;h+=2){const y=a[h+1];if(-1!==y){const D=n.data[y];Fr(a[h]),D.contentQueries(2,r[y],y)}}}function jd(n,r,a,h,g,y,D,F,z,ee,ye){const He=r.blueprint.slice();return He[0]=g,He[2]=76|h,(null!==ye||n&&1024&n[2])&&(He[2]|=1024),po(He),He[3]=He[15]=n,He[8]=a,He[10]=D||n&&n[10],He[11]=F||n&&n[11],He[12]=z||n&&n[12]||null,He[9]=ee||n&&n[9]||null,He[6]=y,He[20]=function Co(){return xu++}(),He[21]=ye,He[16]=2==r.type?n[16]:He,He}function qu(n,r,a,h,g){let y=n.data[r];if(null===y)y=zd(n,r,a,h,g),function Al(){return ui.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=h,y.attrs=g;const D=mr();y.injectorIndex=null===D?-1:D.injectorIndex}return Br(y,!0),y}function zd(n,r,a,h,g){const y=Zn(),D=Js(),z=n.data[r]=function Wg(n,r,a,h,g,y){return{type:a,index:h,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?y:y&&y.parent,a,r,h,g);return null===n.firstChild&&(n.firstChild=z),null!==y&&(D?null==y.child&&null!==z.parent&&(y.child=z):null===y.next&&(y.next=z)),z}function Rc(n,r,a,h){if(0===a)return-1;const g=r.length;for(let y=0;y<a;y++)r.push(h),n.blueprint.push(h),n.data.push(null);return g}function Qc(n,r,a){Xs(r);try{const h=n.viewQuery;null!==h&&Np(1,h,a);const g=n.template;null!==g&&vf(n,r,g,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yf(n,r),n.staticViewQueries&&Np(2,n.viewQuery,a);const y=n.components;null!==y&&function yp(n,r){for(let a=0;a<r.length;a++)Df(n,r[a])}(r,y)}catch(h){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),h}finally{r[2]&=-5,mo()}}function vu(n,r,a,h){const g=r[2];if(128!=(128&g)){Xs(r);try{po(r),function ea(n){return ui.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&vf(n,r,a,2,h);const D=3==(3&g);if(D){const ee=n.preOrderCheckHooks;null!==ee&&na(r,ee,null)}else{const ee=n.preOrderHooks;null!==ee&&U(r,ee,0,null),te(r,0)}if(function Qg(n){for(let r=ou(n);null!==r;r=au(r)){if(!r[2])continue;const a=r[9];for(let h=0;h<a.length;h++){const g=a[h];512&g[2]||ko(g[3],1),g[2]|=512}}}(r),function Ap(n){for(let r=ou(n);null!==r;r=au(r))for(let a=10;a<r.length;a++){const h=r[a],g=h[1];Xo(h)&&vu(g,h,g.template,h[8])}}(r),null!==n.contentQueries&&yf(n,r),D){const ee=n.contentCheckHooks;null!==ee&&na(r,ee)}else{const ee=n.contentHooks;null!==ee&&U(r,ee,1),te(r,1)}!function $m(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let h=0;h<a.length;h++){const g=a[h];if(g<0)ss(~g);else{const y=g,D=a[++h],F=a[++h];Rs(D,y),F(2,r[y])}}}finally{ss(-1)}}(n,r);const F=n.components;null!==F&&function $g(n,r){for(let a=0;a<r.length;a++)Op(n,r[a])}(r,F);const z=n.viewQuery;if(null!==z&&Np(2,z,h),D){const ee=n.viewCheckHooks;null!==ee&&na(r,ee)}else{const ee=n.viewHooks;null!==ee&&U(r,ee,2),te(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,ko(r[3],-1))}finally{mo()}}}function vf(n,r,a,h,g){const y=Or(),D=2&h;try{ss(-1),D&&r.length>22&&up(n,r,22,!1),a(h,g)}finally{ss(y)}}function Dh(n,r,a){if(ji(r)){const g=r.directiveEnd;for(let y=r.directiveStart;y<g;y++){const D=n.data[y];D.contentQueries&&D.contentQueries(1,a[y],y)}}}function Qu(n,r,a){Ya()&&(function Zm(n,r,a,h){const g=a.directiveStart,y=a.directiveEnd;Xr(a)&&function Sp(n,r,a){const h=Yr(r,n),g=Wm(a),y=n[10],D=$d(n,jd(n,g,null,a.onPush?32:16,h,r,y,y.createRenderer(h,a),null,null,null));n[r.index]=D}(r,a,n.data[g+a.componentOffset]),n.firstCreatePass||Vl(a,r),yt(h,r);const D=a.initialInputs;for(let F=g;F<y;F++){const z=n.data[F],ee=li(r,n,F,a);yt(ee,r),null!==D&&Jc(0,F-g,ee,z,0,D),nr(z)&&(gr(a.index,r)[8]=li(r,n,F,a))}}(n,r,a,Yr(a,r)),64==(64&a.flags)&&Ym(n,r,a))}function Ch(n,r,a=Yr){const h=r.localNames;if(null!==h){let g=r.index+1;for(let y=0;y<h.length;y+=2){const D=h[y+1],F=-1===D?a(r,n):n[D];n[g++]=F}}}function Wm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Sh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Sh(n,r,a,h,g,y,D,F,z,ee){const ye=22+h,He=ye+g,mt=function bf(n,r){const a=[];for(let h=0;h<r;h++)a.push(h<n?null:lr);return a}(ye,He),Rt="function"==typeof ee?ee():ee;return mt[1]={type:n,blueprint:mt,template:a,queries:null,viewQuery:F,declTNode:r,data:mt.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:He,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:z,consts:Rt,incompleteFirstPass:!1}}function vp(n,r,a,h){const g=xp(r);null===a?g.push(h):(g.push(a),n.firstCreatePass&&Rp(n).push(h,g.length-1))}function Da(n,r,a,h){for(let g in n)if(n.hasOwnProperty(g)){a=null===a?{}:a;const y=n[g];null===h?bp(a,r,g,y):h.hasOwnProperty(g)&&bp(a,r,h[g],y)}return a}function bp(n,r,a,h){n.hasOwnProperty(a)?n[a].push(r,h):n[a]=[r,h]}function Ca(n,r,a,h,g,y,D,F){const z=Yr(r,a);let ye,ee=r.inputs;!F&&null!=ee&&(ye=ee[h])?(Xg(n,a,ye,h,g),Xr(r)&&Ep(a,r.index)):3&r.type&&(h=function Ih(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(h),g=null!=D?D(g,r.value||"",h):g,y.setProperty(z,h,g))}function Ep(n,r){const a=gr(r,n);16&a[2]||(a[2]|=32)}function Dp(n,r,a,h){let g=!1;if(Ya()){const y=null===h?null:{"":-1},D=function Zg(n,r){const a=n.directiveRegistry;let h=null,g=null;if(a)for(let y=0;y<a.length;y++){const D=a[y];if(vh(r,D.selectors,!1))if(h||(h=[]),nr(D))if(null!==D.findHostDirectiveDefs){const F=[];g=g||new Map,D.findHostDirectiveDefs(D,F,g),h.unshift(...F,D),Ju(n,r,F.length)}else h.unshift(D),Ju(n,r,0);else g=g||new Map,D.findHostDirectiveDefs?.(D,h,g),h.push(D)}return null===h?null:[h,g]}(n,a);let F,z;null===D?F=z=null:[F,z]=D,null!==F&&(g=!0,Kg(n,r,a,F,y,z)),y&&function Yg(n,r,a){if(r){const h=n.localNames=[];for(let g=0;g<r.length;g+=2){const y=a[r[g+1]];if(null==y)throw new Be(-301,!1);h.push(r[g],y)}}}(a,h,y)}return a.mergedAttrs=_r(a.mergedAttrs,a.attrs),g}function Kg(n,r,a,h,g,y){for(let ee=0;ee<h.length;ee++)Ol(Vl(a,r),n,h[ee].type);!function Oh(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}(a,n.data.length,h.length);for(let ee=0;ee<h.length;ee++){const ye=h[ee];ye.providersResolver&&ye.providersResolver(ye)}let D=!1,F=!1,z=Rc(n,r,h.length,null);for(let ee=0;ee<h.length;ee++){const ye=h[ee];a.mergedAttrs=_r(a.mergedAttrs,ye.hostAttrs),Cp(n,a,r,z,ye),Ah(z,ye,g),null!==ye.contentQueries&&(a.flags|=4),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(a.flags|=64);const He=ye.type.prototype;!D&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(a.index),D=!0),!F&&(He.ngOnChanges||He.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(a.index),F=!0),z++}!function wp(n,r,a){const g=r.directiveEnd,y=n.data,D=r.attrs,F=[];let z=null,ee=null;for(let ye=r.directiveStart;ye<g;ye++){const He=y[ye],mt=a?a.get(He):null,nn=mt?mt.outputs:null;z=Da(He.inputs,ye,z,mt?mt.inputs:null),ee=Da(He.outputs,ye,ee,nn);const xn=null===z||null===D||Ld(r)?null:Ip(z,ye,D);F.push(xn)}null!==z&&(z.hasOwnProperty("class")&&(r.flags|=8),z.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=F,r.inputs=z,r.outputs=ee}(n,a,y)}function Ym(n,r,a){const h=a.directiveStart,g=a.directiveEnd,y=a.index,D=function es(){return ui.lFrame.currentDirectiveIndex}();try{ss(y);for(let F=h;F<g;F++){const z=n.data[F],ee=r[F];ts(F),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Tf(z,ee)}}finally{ss(-1),ts(D)}}function Tf(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Ju(n,r,a){r.componentOffset=a,(n.components||(n.components=[])).push(r.index)}function Ah(n,r,a){if(a){if(r.exportAs)for(let h=0;h<r.exportAs.length;h++)a[r.exportAs[h]]=n;nr(r)&&(a[""]=n)}}function Cp(n,r,a,h,g){n.data[h]=g;const y=g.factory||(g.factory=Ds(g.type)),D=new kt(y,nr(g),Yu);n.blueprint[h]=D,a[h]=D,function Km(n,r,a,h,g){const y=g.hostBindings;if(y){let D=n.hostBindingOpCodes;null===D&&(D=n.hostBindingOpCodes=[]);const F=~r.index;(function Ef(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(D)!=F&&D.push(F),D.push(a,h,y)}}(n,r,h,Rc(n,a,g.hostVars,lr),g)}function Ql(n,r,a,h,g,y){const D=Yr(n,r);Mh(r[11],D,y,n.value,a,h,g)}function Mh(n,r,a,h,g,y,D){if(null==y)n.removeAttribute(r,g,a);else{const F=null==D?ge(y):D(y,h||"",g);n.setAttribute(r,g,F,a)}}function Jc(n,r,a,h,g,y){const D=y[r];if(null!==D){const F=h.setInput;for(let z=0;z<D.length;){const ee=D[z++],ye=D[z++],He=D[z++];null!==F?h.setInput(a,He,ee,ye):a[ye]=He}}}function Ip(n,r,a){let h=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(n.hasOwnProperty(y)){null===h&&(h=[]);const D=n[y];for(let F=0;F<D.length;F+=2)if(D[F]===r){h.push(y,D[F+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return h}function qg(n,r,a,h){return[n,!0,!1,r,null,0,h,a,null,null]}function Op(n,r){const a=gr(r,n);if(Xo(a)){const h=a[1];48&a[2]?vu(h,a,h.template,a[8]):a[5]>0&&Mp(a)}}function Mp(n){for(let h=ou(n);null!==h;h=au(h))for(let g=10;g<h.length;g++){const y=h[g];if(Xo(y))if(512&y[2]){const D=y[1];vu(D,y,D.template,y[8])}else y[5]>0&&Mp(y)}const a=n[1].components;if(null!==a)for(let h=0;h<a.length;h++){const g=gr(a[h],n);Xo(g)&&g[5]>0&&Mp(g)}}function Df(n,r){const a=gr(r,n),h=a[1];(function Cf(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(h,a),Qc(h,a,a[8])}function $d(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Sf(n){for(;n;){n[2]|=32;const r=Ru(n);if(qs(n)&&!r)return n;n=r}return null}function Pc(n,r,a,h=!0){const g=r[10];g.begin&&g.begin();try{vu(n,r,n.template,a)}catch(D){throw h&&kp(r,D),D}finally{g.end&&g.end()}}function Np(n,r,a){Fr(0),r(n,a)}function xp(n){return n[7]||(n[7]=[])}function Rp(n){return n.cleanup||(n.cleanup=[])}function kp(n,r){const a=n[9],h=a?a.get(Fd,null):null;h&&h.handleError(r)}function Xg(n,r,a,h,g){for(let y=0;y<a.length;){const D=a[y++],F=a[y++],z=r[D],ee=n.data[D];null!==ee.setInput?ee.setInput(z,g,h,F):z[F]=g}}function kc(n,r,a){const h=jr(r,n);Pu(n[11],h,a)}function Fp(n,r,a){let h=a?n.styles:null,g=a?n.classes:null,y=0;if(null!==r)for(let D=0;D<r.length;D++){const F=r[D];"number"==typeof F?y=F:1==y?g=Ce(g,F):2==y&&(h=Ce(h,F+": "+r[++D]+";"))}a?n.styles=h:n.stylesWithoutHost=h,a?n.classes=g:n.classesWithoutHost=g}function Xu(n,r,a,h,g=!1){for(;null!==a;){const y=r[a.index];if(null!==y&&h.push(Gr(y)),Di(y))for(let F=10;F<y.length;F++){const z=y[F],ee=z[1].firstChild;null!==ee&&Xu(z[1],z,ee,h)}const D=a.type;if(8&D)Xu(n,r,a.child,h);else if(32&D){const F=cc(a,r);let z;for(;z=F();)h.push(z)}else if(16&D){const F=bd(r,a);if(Array.isArray(F))h.push(...F);else{const z=Ru(r[16]);Xu(z[1],z,F,h,!0)}}a=g?a.projectionNext:a.next}return h}class Nh{get rootNodes(){const r=this._lView,a=r[1];return Xu(a,r,a.firstChild,[])}constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Di(r)){const a=r[8],h=a?a.indexOf(this):-1;h>-1&&(se(r,h),M(a,h))}this._attachedToViewContainer=!1}we(this._lView[1],this._lView)}onDestroy(r){vp(this._lView[1],this._lView,null,r)}markForCheck(){Sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Pc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ku(n,r){wd(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=r}}class em extends Nh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Pc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class tm extends Rd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=Hn(r);return new Xc(a,this.ngModule)}}function Lp(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class nm{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,h){h=wt(h);const g=this.injector.get(r,_h,h);return g!==_h||a===_h?g:this.parentInjector.get(r,a,h)}}class Xc extends af{get inputs(){return Lp(this.componentDef.inputs)}get outputs(){return Lp(this.componentDef.outputs)}constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function bh(n){return n.map(Um).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}create(r,a,h,g){let y=(g=g||this.ngModule)instanceof Zl?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const D=y?new nm(r,y):r,F=D.get(mu,null);if(null===F)throw new Be(407,!1);const z=D.get(Ig,null),ee=F.createRenderer(null,this.componentDef),ye=this.componentDef.selectors[0][0]||"div",He=h?function wf(n,r,a){return n.selectRootElement(r,a===Gt.ShadowDom)}(ee,h,this.componentDef.encapsulation):gd(ee,ye,function Bp(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ye)),mt=this.componentDef.onPush?288:272,Rt=Sh(0,null,null,1,0,null,null,null,null,null),nn=jd(null,Rt,null,mt,null,null,F,ee,z,D,null);let xn,Qn;Xs(nn);try{const vi=this.componentDef;let rr,_n=null;vi.findHostDirectiveDefs?(rr=[],_n=new Map,vi.findHostDirectiveDefs(vi,rr,_n),rr.push(vi)):rr=[vi];const Tr=function td(n,r){const a=n[1];return n[22]=r,qu(a,22,2,"#host",null)}(nn,He),Yo=function xh(n,r,a,h,g,y,D,F){const z=g[1];!function Qm(n,r,a,h){for(const g of n)r.mergedAttrs=_r(r.mergedAttrs,g.hostAttrs);null!==r.mergedAttrs&&(Fp(r,r.mergedAttrs,!0),null!==a&&Bu(h,a,r))}(h,n,r,D);const ee=y.createRenderer(r,a),ye=jd(g,Wm(a),null,a.onPush?32:16,g[n.index],n,y,ee,F||null,null,null);return z.firstCreatePass&&Ju(z,n,h.length-1),$d(g,ye),g[n.index]=ye}(Tr,He,vi,rr,nn,F,ee);Qn=fa(Rt,22),He&&function V_(n,r,a,h){if(h)xr(n,a,["ng-version",op.full]);else{const{attrs:g,classes:y}=function Wu(n){const r=[],a=[];let h=1,g=2;for(;h<n.length;){let y=n[h];if("string"==typeof y)2===g?""!==y&&r.push(y,n[++h]):8===g&&a.push(y);else{if(!So(g))break;g=y}h++}return{attrs:r,classes:a}}(r.selectors[0]);g&&xr(n,a,g),y&&y.length>0&&zf(n,a,y.join(" "))}}(ee,vi,He,h),void 0!==a&&function U_(n,r,a){const h=n.projection=[];for(let g=0;g<r.length;g++){const y=a[g];h.push(null!=y?Array.from(y):null)}}(Qn,this.ngContentSelectors,a),xn=function Rh(n,r,a,h,g,y){const D=Tt(),F=g[1],z=Yr(D,g);Kg(F,g,D,a,null,h);for(let ye=0;ye<a.length;ye++)yt(li(g,F,D.directiveStart+ye,D),g);Ym(F,g,D),z&&yt(z,g);const ee=li(g,F,D.directiveStart+D.componentOffset,D);if(n[8]=g[8]=ee,null!==y)for(const ye of y)ye(ee,r);return Dh(F,D,n),ee}(Yo,vi,rr,_n,nn,[im]),Qc(Rt,nn,null)}finally{mo()}return new ed(this.componentType,xn,Pd(Qn,nn),nn,Qn)}}class ed extends rp{constructor(r,a,h,g,y){super(),this.location=h,this._rootLView=g,this._tNode=y,this.instance=a,this.hostView=this.changeDetectorRef=new em(g),this.componentType=r}setInput(r,a){const h=this._tNode.inputs;let g;if(null!==h&&(g=h[r])){const y=this._rootLView;Xg(y[1],y,g,r,a),Ep(y,this._tNode.index)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function im(){const n=Tt();bs(G()[1],n)}function If(n){let r=function Vp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const h=[n];for(;r;){let g;if(nr(n))g=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Be(903,!1);g=r.\u0275dir}if(g){if(a){h.push(g);const D=n;D.inputs=Up(n.inputs),D.declaredInputs=Up(n.declaredInputs),D.outputs=Up(n.outputs);const F=g.hostBindings;F&&Hp(n,F);const z=g.viewQuery,ee=g.contentQueries;if(z&&Jm(n,z),ee&&Of(n,ee),le(n.inputs,g.inputs),le(n.declaredInputs,g.declaredInputs),le(n.outputs,g.outputs),nr(g)&&g.data.animation){const ye=n.data;ye.animation=(ye.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let D=0;D<y.length;D++){const F=y[D];F&&F.ngInherit&&F(n),F===If&&(a=!1)}}r=Object.getPrototypeOf(r)}!function Af(n){let r=0,a=null;for(let h=n.length-1;h>=0;h--){const g=n[h];g.hostVars=r+=g.hostVars,g.hostAttrs=_r(g.hostAttrs,a=_r(a,g.hostAttrs))}}(h)}function Up(n){return n===bn?{}:n===$e?[]:n}function Jm(n,r){const a=n.viewQuery;n.viewQuery=a?(h,g)=>{r(h,g),a(h,g)}:r}function Of(n,r){const a=n.contentQueries;n.contentQueries=a?(h,g,y)=>{r(h,g,y),a(h,g,y)}:r}function Hp(n,r){const a=n.hostBindings;n.hostBindings=a?(h,g)=>{r(h,g),a(h,g)}:r}let s=null;function f(){if(!s){const n=En.Symbol;if(n&&n.iterator)s=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const h=r[a];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(s=h)}}}return s}function C(n){return!!_e(n)&&(Array.isArray(n)||!(n instanceof Map)&&f()in n)}function _e(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qe(n,r,a){return n[r]=a}function Wt(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function en(n,r,a,h){const g=Wt(n,r,a);return Wt(n,r+1,h)||g}function Kn(n,r,a,h){const g=G();return Wt(g,bo(),r)&&($(),Ql(Vi(),g,n,r,a,h)),Kn}function yi(n,r,a,h){return Wt(n,bo(),a)?r+ge(a)+h:lr}function Ji(n,r,a,h,g,y){const F=en(n,rs(),a,g);return Bo(2),F?r+ge(a)+h+ge(g)+y:lr}function is(n,r,a,h,g,y){const D=G(),F=yi(D,r,a,h);return F!==lr&&Ql(Vi(),D,n,F,g,y),is}function ja(n,r,a,h,g,y,D,F){const z=G(),ee=$(),ye=n+22,He=ee.firstCreatePass?function lo(n,r,a,h,g,y,D,F,z){const ee=r.consts,ye=qu(r,n,4,D||null,Os(ee,F));Dp(r,a,ye,Os(ee,z)),bs(r,ye);const He=ye.tViews=Sh(2,ye,h,g,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ee);return null!==r.queries&&(r.queries.template(r,ye),He.queries=r.queries.embeddedTView(ye)),ye}(ye,ee,z,r,a,h,g,y,D):ee.data[ye];Br(He,!1);const mt=z[11].createComment("");hc(ee,z,mt,He),yt(mt,z),$d(z,z[ye]=qg(mt,z,mt,He)),us(He)&&Qu(ee,z,He),null!=D&&Ch(z,He,F)}function cl(n){return Bi(function Ra(){return ui.lFrame.contextLView}(),22+n)}function ls(n,r,a){const h=G();return Wt(h,bo(),r)&&Ca($(),Vi(),h,n,r,h[11],a,!1),ls}function _l(n,r,a,h,g){const D=g?"class":"style";Xg(n,a,r.inputs[D],D,h)}function Ns(n,r,a,h){const g=G(),y=$(),D=22+n,F=g[11],z=g[D]=gd(F,r,function Qr(){return ui.lFrame.currentNamespace}()),ee=y.firstCreatePass?function bu(n,r,a,h,g,y,D){const F=r.consts,ee=qu(r,n,2,g,Os(F,y));return Dp(r,a,ee,Os(F,D)),null!==ee.attrs&&Fp(ee,ee.attrs,!1),null!==ee.mergedAttrs&&Fp(ee,ee.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ee),ee}(D,y,g,0,r,a,h):y.data[D];return Br(ee,!0),Bu(F,z,ee),32!=(32&ee.flags)&&hc(y,g,z,ee),0===function xa(){return ui.lFrame.elementDepthCount}()&&yt(z,g),function bl(){ui.lFrame.elementDepthCount++}(),us(ee)&&(Qu(y,g,ee),Dh(y,ee,g)),null!==h&&Ch(g,ee),Ns}function la(){let n=Tt();Js()?Lo():(n=n.parent,Br(n,!1));const r=n;!function Za(){ui.lFrame.elementDepthCount--}();const a=$();return a.firstCreatePass&&(bs(a,n),ji(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function fi(n){return 0!=(8&n.flags)}(r)&&_l(a,r,G(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ri(n){return 0!=(16&n.flags)}(r)&&_l(a,r,G(),r.stylesWithoutHost,!1),la}function Sa(n,r,a,h){return Ns(n,r,a,h),la(),Sa}function Jl(n,r,a){const h=G(),g=$(),y=n+22,D=g.firstCreatePass?function Kd(n,r,a,h,g){const y=r.consts,D=Os(y,h),F=qu(r,n,8,"ng-container",D);return null!==D&&Fp(F,D,!0),Dp(r,a,F,Os(y,g)),null!==r.queries&&r.queries.elementStart(r,F),F}(y,g,h,r,a):g.data[y];Br(D,!0);const F=h[y]=h[11].createComment("");return hc(g,h,F,D),yt(F,h),us(D)&&(Qu(g,h,D),Dh(g,D,h)),null!=a&&Ch(h,D),Jl}function Mf(){let n=Tt();const r=$();return Js()?Lo():(n=n.parent,Br(n,!1)),r.firstCreatePass&&(bs(r,n),ji(n)&&r.queries.elementEnd(n)),Mf}function Zd(n,r,a){return Jl(n,r,a),Mf(),Zd}function Nf(){return G()}function Ph(n){return!!n&&"function"==typeof n.then}function jp(n){return!!n&&"function"==typeof n.subscribe}const rd=jp;function zp(n,r,a,h){const g=G(),y=$(),D=Tt();return function Fc(n,r,a,h,g,y,D){const F=us(h),ee=n.firstCreatePass&&Rp(n),ye=r[8],He=xp(r);let mt=!0;if(3&h.type||D){const xn=Yr(h,r),Qn=D?D(xn):xn,vi=He.length,rr=D?Tr=>D(Gr(Tr[h.index])):h.index;let _n=null;if(!D&&F&&(_n=function wu(n,r,a,h){const g=n.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const D=g[y];if(D===a&&g[y+1]===h){const F=r[7],z=g[y+2];return F.length>z?F[z]:null}"string"==typeof D&&(y+=2)}return null}(n,r,g,h.index)),null!==_n)(_n.__ngLastListenerFn__||_n).__ngNextListenerFn__=y,_n.__ngLastListenerFn__=y,mt=!1;else{y=Yd(h,r,ye,y,!1);const Tr=a.listen(Qn,g,y);He.push(y,Tr),ee&&ee.push(g,rr,vi,vi+1)}}else y=Yd(h,r,ye,y,!1);const Rt=h.outputs;let nn;if(mt&&null!==Rt&&(nn=Rt[g])){const xn=nn.length;if(xn)for(let Qn=0;Qn<xn;Qn+=2){const Yo=r[nn[Qn]][nn[Qn+1]].subscribe(y),$a=He.length;He.push(y,Yo),ee&&ee.push(g,h.index,$a,-($a+1))}}}(y,g,g[11],D,n,r,h),zp}function Rf(n,r,a,h){try{return!1!==a(h)}catch(g){return kp(n,g),!1}}function Yd(n,r,a,h,g){return function y(D){if(D===Function)return h;Sf(n.componentOffset>-1?gr(n.index,r):r);let z=Rf(r,0,h,D),ee=y.__ngNextListenerFn__;for(;ee;)z=Rf(r,0,ee,D)&&z,ee=ee.__ngNextListenerFn__;return g&&!1===z&&(D.preventDefault(),D.returnValue=!1),z}}function Pf(n=1){return function Ja(n){return(ui.lFrame.contextLView=function ka(n,r){for(;n>0;)r=r[15],n--;return r}(n,ui.lFrame.contextLView))[8]}(n)}function sm(n,r){let a=null;const h=function Yc(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(!(1&a))return r[a+1]}return null}(n);for(let g=0;g<r.length;g++){const y=r[g];if("*"!==y){if(null===h?vh(n,y,!0):Rg(h,y))return g}else a=g}return a}function $p(n){const r=G()[16][6];if(!r.projection){const h=r.projection=E(n?n.length:1,null),g=h.slice();let y=r.child;for(;null!==y;){const D=n?sm(y,n):0;null!==D&&(g[D]?g[D].projectionNext=y:h[D]=y,g[D]=y),y=y.next}}}function Wp(n,r=0,a){const h=G(),g=$(),y=qu(g,22+n,16,null,a||null);null===y.projection&&(y.projection=r),Lo(),32!=(32&y.flags)&&function fg(n,r,a){jf(r[11],0,r,a,jn(n,a,r),_d(a.parent||r[6],a,r))}(g,h,y)}function sd(n,r,a){return kf(n,"",r,"",a),sd}function kf(n,r,a,h,g){const y=G(),D=yi(y,r,a,h);return D!==lr&&Ca($(),Vi(),y,n,D,y[11],g,!1),kf}function kh(n,r){return n<<17|r<<2}function od(n){return n>>17&32767}function qd(n){return 2|n}function ad(n){return(131068&n)>>2}function r_(n,r){return-131069&n|r<<2}function s_(n){return 1|n}function j_(n,r,a,h,g){const y=n[a+1],D=null===r;let F=h?od(y):ad(y),z=!1;for(;0!==F&&(!1===z||D);){const ye=n[F+1];By(n[F],r)&&(z=!0,n[F+1]=h?s_(ye):qd(ye)),F=h?od(ye):ad(ye)}z&&(n[a+1]=h?qd(y):s_(y))}function By(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Q(n,r)>=0}const za={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function o_(n){return n.substring(za.key,za.keyEnd)}function a_(n){return n.substring(za.value,za.valueEnd)}function l_(n,r){const a=za.textEnd;return a===r?-1:(r=za.keyEnd=function W_(n,r,a){for(;r<a&&n.charCodeAt(r)>32;)r++;return r}(n,za.key=r,a),Fh(n,r,a))}function Zp(n,r){const a=za.textEnd;let h=za.key=Fh(n,r,a);return a===h?-1:(h=za.keyEnd=function Yp(n,r,a){let h;for(;r<a&&(45===(h=n.charCodeAt(r))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)r++;return r}(n,h,a),h=c_(n,h,a),h=za.value=Fh(n,h,a),h=za.valueEnd=function Zo(n,r,a){let h=-1,g=-1,y=-1,D=r,F=D;for(;D<a;){const z=n.charCodeAt(D++);if(59===z)return F;34===z||39===z?F=D=ul(n,z,D,a):r===D-4&&85===y&&82===g&&76===h&&40===z?F=D=ul(n,41,D,a):z>32&&(F=D),y=g,g=h,h=-33&z}return F}(n,h,a),c_(n,h,a))}function Wr(n){za.key=0,za.keyEnd=0,za.value=0,za.valueEnd=0,za.textEnd=n.length}function Fh(n,r,a){for(;r<a&&n.charCodeAt(r)<=32;)r++;return r}function c_(n,r,a,h){return(r=Fh(n,r,a))<a&&r++,r}function ul(n,r,a,h){let g=-1,y=a;for(;y<h;){const D=n.charCodeAt(y++);if(D==r&&92!==g)return y;g=92==D&&92===g?0:D}throw new Error}function u_(n,r,a){return bc(n,r,a,!1),u_}function d_(n,r){return bc(n,r,null,!0),d_}function Lc(n){eu(q_,Vy,n,!1)}function Vy(n,r){for(let a=function $_(n){return Wr(n),Zp(n,Fh(n,0,za.textEnd))}(r);a>=0;a=Zp(r,a))q_(n,o_(r),a_(r))}function dm(n){eu(T,Eu,n,!0)}function Eu(n,r){for(let a=function z_(n){return Wr(n),l_(n,Fh(n,0,za.textEnd))}(r);a>=0;a=l_(r,a))T(n,o_(r),!0)}function bc(n,r,a,h){const g=G(),y=$(),D=Bo(2);y.firstUpdatePass&&Ys(y,n,D,h),r!==lr&&Wt(g,D,r)&&Q_(y,y.data[Or()],g,g[11],n,g[D+1]=function Hy(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ie(Mc(n)))),n}(r,a),h,D)}function eu(n,r,a,h){const g=$(),y=Bo(2);g.firstUpdatePass&&Ys(g,null,y,h);const D=G();if(a!==lr&&Wt(D,y,a)){const F=g.data[Or()];if(X_(F,h)&&!K_(g,y)){let z=h?F.classesWithoutHost:F.stylesWithoutHost;null!==z&&(a=Ce(z,a||"")),_l(g,F,D,a,h)}else!function Uy(n,r,a,h,g,y,D,F){g===lr&&(g=$e);let z=0,ee=0,ye=0<g.length?g[0]:null,He=0<y.length?y[0]:null;for(;null!==ye||null!==He;){const mt=z<g.length?g[z+1]:void 0,Rt=ee<y.length?y[ee+1]:void 0;let xn,nn=null;ye===He?(z+=2,ee+=2,mt!==Rt&&(nn=He,xn=Rt)):null===He||null!==ye&&ye<He?(z+=2,nn=ye):(ee+=2,nn=He,xn=Rt),null!==nn&&Q_(n,r,a,h,nn,xn,D,F),ye=z<g.length?g[z]:null,He=ee<y.length?y[ee]:null}}(g,F,D,D[11],D[y+1],D[y+1]=function Y_(n,r,a){if(null==a||""===a)return $e;const h=[],g=Mc(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)n(h,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&n(h,y,g[y]);else"string"==typeof g&&r(h,g);return h}(n,r,a),h,y)}}function K_(n,r){return r>=n.expandoStartIndex}function Ys(n,r,a,h){const g=n.data;if(null===g[a+1]){const y=g[Or()],D=K_(n,a);X_(y,h)&&null===r&&!D&&(r=!1),r=function Yv(n,r,a,h){const g=function Vo(n){const r=ui.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let y=h?r.residualClasses:r.residualStyles;if(null===g)0===(h?r.classBindings:r.styleBindings)&&(a=qp(a=h_(null,n,r,a,h),r.attrs,h),y=null);else{const D=r.directiveStylingLast;if(-1===D||n[D]!==g)if(a=h_(g,n,r,a,h),null===y){let z=function qv(n,r,a){const h=a?r.classBindings:r.styleBindings;if(0!==ad(h))return n[od(h)]}(n,r,h);void 0!==z&&Array.isArray(z)&&(z=h_(null,n,r,z[1],h),z=qp(z,r.attrs,h),function ca(n,r,a,h){n[od(a?r.classBindings:r.styleBindings)]=h}(n,r,h,z))}else y=function Z_(n,r,a){let h;const g=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<g;y++)h=qp(h,n[y].hostAttrs,a);return qp(h,r.attrs,a)}(n,r,h)}return void 0!==y&&(h?r.residualClasses=y:r.residualStyles=y),a}(g,y,r,h),function G_(n,r,a,h,g,y){let D=y?r.classBindings:r.styleBindings,F=od(D),z=ad(D);n[h]=a;let ye,ee=!1;if(Array.isArray(a)?(ye=a[1],(null===ye||Q(a,ye)>0)&&(ee=!0)):ye=a,g)if(0!==z){const mt=od(n[F+1]);n[h+1]=kh(mt,F),0!==mt&&(n[mt+1]=r_(n[mt+1],h)),n[F+1]=function H_(n,r){return 131071&n|r<<17}(n[F+1],h)}else n[h+1]=kh(F,0),0!==F&&(n[F+1]=r_(n[F+1],h)),F=h;else n[h+1]=kh(z,0),0===F?F=h:n[z+1]=r_(n[z+1],h),z=h;ee&&(n[h+1]=qd(n[h+1])),j_(n,ye,h,!0),j_(n,ye,h,!1),function Ly(n,r,a,h,g){const y=g?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof r&&Q(y,r)>=0&&(a[h+1]=s_(a[h+1]))}(r,ye,n,h,y),D=kh(F,z),y?r.classBindings=D:r.styleBindings=D}(g,y,r,a,D,h)}}function h_(n,r,a,h,g){let y=null;const D=a.directiveEnd;let F=a.directiveStylingLast;for(-1===F?F=a.directiveStart:F++;F<D&&(y=r[F],h=qp(h,y.hostAttrs,g),y!==n);)F++;return null!==n&&(a.directiveStylingLast=F),h}function qp(n,r,a){const h=a?1:2;let g=-1;if(null!==r)for(let y=0;y<r.length;y++){const D=r[y];"number"==typeof D?g=D:g===h&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),T(n,D,!!a||r[++y]))}return void 0===n?null:n}function q_(n,r,a){T(n,r,Mc(a))}function Q_(n,r,a,h,g,y,D,F){if(!(3&r.type))return;const z=n.data,ee=z[F+1],ye=function ky(n){return 1==(1&n)}(ee)?J_(z,r,a,g,ad(ee),D):void 0;f_(ye)||(f_(y)||function i_(n){return 2==(2&n)}(ee)&&(y=J_(z,null,a,g,F,D)),function Dm(n,r,a,h,g){if(r)g?n.addClass(a,h):n.removeClass(a,h);else{let y=-1===h.indexOf("-")?void 0:Ha.DashCase;null==g?n.removeStyle(a,h,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=Ha.Important),n.setStyle(a,h,g,y))}}(h,D,jr(Or(),a),g,y))}function J_(n,r,a,h,g,y){const D=null===r;let F;for(;g>0;){const z=n[g],ee=Array.isArray(z),ye=ee?z[1]:z,He=null===ye;let mt=a[g+1];mt===lr&&(mt=He?$e:void 0);let Rt=He?O(mt,h):ye===h?mt:void 0;if(ee&&!f_(Rt)&&(Rt=O(z,h)),f_(Rt)&&(F=Rt,D))return F;const nn=n[g+1];g=D?od(nn):ad(nn)}if(null!==r){let z=y?r.residualClasses:r.residualStyles;null!=z&&(F=O(z,h))}return F}function f_(n){return void 0!==n}function X_(n,r){return 0!=(n.flags&(r?8:16))}function p_(n,r=""){const a=G(),h=$(),g=n+22,y=h.firstCreatePass?qu(h,g,1,r,null):h.data[g],D=a[g]=lu(a[11],r);hc(h,a,D,y),Br(y,!1)}function Lh(n){return hm("",n,""),Lh}function hm(n,r,a){const h=G(),g=yi(h,n,r,a);return g!==lr&&kc(h,Or(),g),hm}function Tu(n,r,a,h,g){const y=G(),D=Ji(y,n,r,a,h,g);return D!==lr&&kc(y,Or(),D),Tu}function m_(n,r,a){eu(T,Eu,yi(G(),n,r,a),!0)}function Jp(n,r,a,h,g){eu(T,Eu,Ji(G(),n,r,a,h,g),!0)}function ig(n,r,a){const h=G();return Wt(h,bo(),r)&&Ca($(),Vi(),h,n,r,h[11],a,!0),ig}const Uh=void 0;var Ky=["en",[["a","p"],["AM","PM"],Uh],[["AM","PM"],Uh,Uh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uh,"{1} 'at' {0}",Uh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rg(n){const a=Math.floor(Math.abs(n)),h=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===h?1:5}];let tu={};function ly(n){const r=function pm(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=sg(r);if(a)return a;const h=r.split("-")[0];if(a=sg(h),a)return a;if("en"===h)return Ky;throw new Be(701,!1)}function uy(n){return ly(n)[zi.PluralCase]}function sg(n){return n in tu||(tu[n]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[n]),tu[n]}var zi=(()=>((zi=zi||{})[zi.LocaleId=0]="LocaleId",zi[zi.DayPeriodsFormat=1]="DayPeriodsFormat",zi[zi.DayPeriodsStandalone=2]="DayPeriodsStandalone",zi[zi.DaysFormat=3]="DaysFormat",zi[zi.DaysStandalone=4]="DaysStandalone",zi[zi.MonthsFormat=5]="MonthsFormat",zi[zi.MonthsStandalone=6]="MonthsStandalone",zi[zi.Eras=7]="Eras",zi[zi.FirstDayOfWeek=8]="FirstDayOfWeek",zi[zi.WeekendRange=9]="WeekendRange",zi[zi.DateFormat=10]="DateFormat",zi[zi.TimeFormat=11]="TimeFormat",zi[zi.DateTimeFormat=12]="DateTimeFormat",zi[zi.NumberSymbols=13]="NumberSymbols",zi[zi.NumberFormats=14]="NumberFormats",zi[zi.CurrencyCode=15]="CurrencyCode",zi[zi.CurrencySymbol=16]="CurrencySymbol",zi[zi.CurrencyName=17]="CurrencyName",zi[zi.Currencies=18]="Currencies",zi[zi.Directionality=19]="Directionality",zi[zi.PluralCase=20]="PluralCase",zi[zi.ExtraData=21]="ExtraData",zi))();const Zy=["zero","one","two","few","many"],ud="en-US",gm={marker:"element"},og={marker:"ICU"};var Io=(()=>((Io=Io||{})[Io.SHIFT=2]="SHIFT",Io[Io.APPEND_EAGERLY=1]="APPEND_EAGERLY",Io[Io.COMMENT=2]="COMMENT",Io))();let T_=ud;function D_(n){(function Bt(n,r){null==n&&Re(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(T_=n.toLowerCase().replace(/_/g,"-"))}function mm(n,r,a){const h=r.insertBeforeIndex,g=Array.isArray(h)?h[0]:h;return null===g?Ac(n,0,a):Gr(a[g])}function ag(n,r,a,h,g){const y=r.insertBeforeIndex;if(Array.isArray(y)){let D=h,F=null;if(3&r.type||(F=D,D=g),null!==D&&-1===r.componentOffset)for(let z=1;z<y.length;z++)Ki(n,D,a[y[z]],F,!1)}}function hy(n,r){if(n.push(r),n.length>1)for(let a=n.length-2;a>=0;a--){const h=n[a];Jy(h)||Jv(h,r)&&null===Xy(h)&&Xv(h,r.index)}}function Jy(n){return!(64&n.type)}function Jv(n,r){return Jy(r)||n.index>r.index}function Xy(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Xv(n,r){const a=n.insertBeforeIndex;Array.isArray(a)?a[0]=r:(Lu(mm,ag),n.insertBeforeIndex=r)}function _m(n,r){const a=n.data[r];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function lg(n,r,a){const h=zd(n,a,64,null,null);return hy(r,h),h}function Du(n,r){const a=r[n.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function fy(n){return n>>>17}function py(n){return(131070&n)>>>1}let cg=0,ug=0;function my(n,r,a,h){const g=a[11];let D,y=null;for(let F=0;F<r.length;F++){const z=r[F];if("string"==typeof z){const ee=r[++F];null===a[ee]&&(a[ee]=lu(g,z))}else if("number"==typeof z)switch(1&z){case 0:const ee=fy(z);let ye,He;if(null===y&&(y=ee,D=Fu(g,h)),ee===y?(ye=h,He=D):(ye=null,He=Gr(a[ee])),null!==He){const xn=py(z);Ki(g,He,a[xn],ye,!1);const vi=_m(n,xn);if(null!==vi&&"object"==typeof vi){const rr=Du(vi,a);null!==rr&&my(n,vi.create[rr],a,a[vi.anchorIdx])}}break;case 1:const Rt=r[++F],nn=r[++F];Mh(g,jr(z>>>1,a),null,null,Rt,nn,null)}else switch(z){case og:const ee=r[++F],ye=r[++F];null===a[ye]&&yt(a[ye]=$h(g,ee),a);break;case gm:const He=r[++F],mt=r[++F];null===a[mt]&&yt(a[mt]=gd(g,He,null),a)}}}function _y(n,r,a,h,g){for(let y=0;y<a.length;y++){const D=a[y],F=a[++y];if(D&g){let z="";for(let ee=y+1;ee<=y+F;ee++){const ye=a[ee];if("string"==typeof ye)z+=ye;else if("number"==typeof ye)if(ye<0)z+=ge(r[h-ye]);else{const He=ye>>>2;switch(3&ye){case 1:const mt=a[++ee],Rt=a[++ee],nn=n.data[He];"string"==typeof nn?Mh(r[11],r[He],null,nn,mt,z,Rt):Ca(n,nn,r,mt,z,r[11],Rt,!1);break;case 0:const xn=r[He];null!==xn&&Pu(r[11],xn,z);break;case 2:iv(n,_m(n,He),r,z);break;case 3:yy(n,_m(n,He),h,r)}}}}else{const z=a[y+1];if(z>0&&3==(3&z)){const ye=_m(n,z>>>2);r[ye.currentCaseLViewIndex]<0&&yy(n,ye,h,r)}}y+=F}}function yy(n,r,a,h){let g=h[r.currentCaseLViewIndex];if(null!==g){let y=cg;g<0&&(g=h[r.currentCaseLViewIndex]=~g,y=-1),_y(n,h,r.update[g],a,y)}}function iv(n,r,a,h){const g=function rv(n,r){let a=n.cases.indexOf(r);if(-1===a)switch(n.type){case 1:{const h=function Yy(n,r){const a=uy(r)(parseInt(n,10)),h=Zy[a];return void 0!==h?h:"other"}(r,function dy(){return T_}());a=n.cases.indexOf(h),-1===a&&"other"!==h&&(a=n.cases.indexOf("other"));break}case 0:a=n.cases.indexOf("other")}return-1===a?null:a}(r,h);if(Du(r,a)!==g&&(vy(n,r,a),a[r.currentCaseLViewIndex]=null===g?null:~g,null!==g)){const D=a[r.anchorIdx];D&&my(n,r.create[g],a,D)}}function vy(n,r,a){let h=Du(r,a);if(null!==h){const g=r.remove[h];for(let y=0;y<g.length;y++){const D=g[y];if(D>0){const F=jr(D,a);null!==F&&Gf(a[11],F)}else vy(n,_m(n,~D),a)}}}function Vf(){const n=[];let a,h,r=-1;function y(F,z){r=0;const ee=Du(F,z);h=null!==ee?F.remove[ee]:$e}function D(){if(r<h.length){const F=h[r++];return F>0?a[F]:(n.push(r,h),y(a[1].data[~F],a),D())}return 0===n.length?null:(h=n.pop(),r=n.pop(),D())}return function g(F,z){for(a=z;n.length;)n.pop();return y(F.value,z),D}}const ym=/\ufffd(\d+):?\d*\ufffd/gi,n0=/\ufffd(\d+)\ufffd/,ov=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,r0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,av=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,lv=/\uE500/g;function C_(n,r,a,h,g,y,D){const F=Rc(n,h,1,null);let z=F<<Io.SHIFT,ee=mr();r===ee&&(ee=null),null===ee&&(z|=Io.APPEND_EAGERLY),D&&(z|=Io.COMMENT,function Hf(n){void 0===Cl&&(Cl=n())}(Vf)),g.push(z,null===y?"":y);const ye=zd(n,F,D?32:1,null===y?"":y,null);hy(a,ye);const He=ye.index;return Br(ye,!1),null!==ee&&r!==ee&&function Gh(n,r){let a=n.insertBeforeIndex;null===a?(Lu(mm,ag),a=n.insertBeforeIndex=[null,r]):(function Yt(n,r,a){n!=r&&Re(a,n,r,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(r))}(ee,He),ye}function Xd(n,r,a,h,g,y,D){const F=D.match(ym),z=C_(n,r,a,y,h,F?null:D,!1);F&&dg(g,D,z.index,null,0,null)}function dg(n,r,a,h,g,y){const D=n.length,F=D+1;n.push(null,null);const z=D+2,ee=r.split(ym);let ye=0;for(let He=0;He<ee.length;He++){const mt=ee[He];if(1&He){const Rt=g+parseInt(mt,10);n.push(-1-Rt),ye|=Ey(Rt)}else""!==mt&&n.push(mt)}return n.push(a<<2|(h?1:0)),h&&n.push(h,y),n[D]=ye,n[F]=n.length-z,ye}function Ey(n){return 1<<Math.min(n,31)}function Ty(n){let r,y,a="",h=0,g=!1;for(;null!==(r=r0.exec(n));)g?r[0]===`\ufffd/*${y}\ufffd`&&(h=r.index,g=!1):(a+=n.substring(h,r.index+r[0].length),y=r[1],g=!0);return a+=n.slice(h),a}function gv(n,r,a,h,g,y){let D=0;const F={type:g.type,currentCaseLViewIndex:Rc(n,r,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function u(n,r,a){n.push(Ey(r.mainBinding),2,-1-r.mainBinding,a<<2|2)})(a,g,y),function Hh(n,r,a){const h=n.data[r];null===h?n.data[r]=a:h.value=a}(n,y,F);const z=g.values;for(let ee=0;ee<z.length;ee++){const ye=z[ee],He=[];for(let mt=0;mt<ye.length;mt++){const Rt=ye[mt];if("string"!=typeof Rt){const nn=He.push(Rt)-1;ye[mt]=`\x3c!--\ufffd${nn}\ufffd--\x3e`}}D=i(n,F,r,a,h,g.cases[ee],ye.join(""),He)|D}D&&function m(n,r,a){n.push(r,1,a<<2|3)}(a,D,y)}function s0(n){const r=[],a=[];let h=1,g=0;const y=bm(n=n.replace(ov,function(D,F,z){return h="select"===z?0:1,g=parseInt(F.slice(1),10),""}));for(let D=0;D<y.length;){let F=y[D++].trim();1===h&&(F=F.replace(/\s*(?:=)?(\w+)\s*/,"$1")),F.length&&r.push(F);const z=bm(y[D++]);r.length>a.length&&a.push(z)}return{type:h,mainBinding:g,cases:r,values:a}}function bm(n){if(!n)return[];let r=0;const a=[],h=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(n);){const F=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const z=n.substring(r,F);ov.test(z)?h.push(s0(z)):h.push(z),r=F+1}}else{if(0==a.length){const z=n.substring(r,F);h.push(z),r=F+1}a.push("{")}}const D=n.substring(r);return h.push(D),h}function i(n,r,a,h,g,y,D,F){const z=[],ee=[],ye=[];r.cases.push(y),r.create.push(z),r.remove.push(ee),r.update.push(ye);const mt=Zf(Td()).getInertBodyElement(D),Rt=hh(mt)||mt;return Rt?e(n,r,a,h,z,ee,ye,Rt,g,F,0):0}function e(n,r,a,h,g,y,D,F,z,ee,ye){let He=0,mt=F.firstChild;for(;mt;){const Rt=Rc(n,a,1,null);switch(mt.nodeType){case Node.ELEMENT_NODE:const nn=mt,xn=nn.tagName.toLowerCase();if(Gu.hasOwnProperty(xn)){v(g,gm,xn,z,Rt),n.data[Rt]=xn;const _n=nn.attributes;for(let Tr=0;Tr<_n.length;Tr++){const Yo=_n.item(Tr),$a=Yo.name.toLowerCase();Yo.value.match(ym)?ef.hasOwnProperty($a)&&dg(D,Yo.value,Rt,Yo.name,0,Cd[$a]?Hu:null):R(g,Rt,Yo)}He=e(n,r,a,h,g,y,D,mt,Rt,ee,ye+1)|He,t(y,Rt,ye)}break;case Node.TEXT_NODE:const Qn=mt.textContent||"",vi=Qn.match(ym);v(g,null,vi?"":Qn,z,Rt),t(y,Rt,ye),vi&&(He=dg(D,Qn,Rt,null,0,null)|He);break;case Node.COMMENT_NODE:const rr=n0.exec(mt.textContent||"");if(rr){const Tr=ee[parseInt(rr[1],10)];v(g,og,"",z,Rt),gv(n,a,h,z,Tr,Rt),o(y,Rt,ye)}}mt=mt.nextSibling}return He}function t(n,r,a){0===a&&n.push(r)}function o(n,r,a){0===a&&(n.push(~r),n.push(r))}function v(n,r,a,h,g){null!==r&&n.push(r),n.push(a,g,function Jd(n,r,a){return n|r<<17|a<<1}(0,h,g))}function R(n,r,a){n.push(r<<1|1,a.name,a.value)}function yr(n,r,a=-1){const h=$(),g=G(),y=22+n,D=Os(h.consts,r),F=mr();h.firstCreatePass&&function uv(n,r,a,h,g,y){const D=mr(),F=[],z=[],ee=[[]];g=function pv(n,r){if(function fv(n){return-1===n}(r))return Ty(n);{const a=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,h=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return Ty(n.substring(a,h))}}(g,y);const ye=function cv(n){return n.replace(lv," ")}(g).split(av);for(let He=0;He<ye.length;He++){let mt=ye[He];if(1&He){const Rt=47===mt.charCodeAt(0),xn=(mt.charCodeAt(Rt?1:0),22+Number.parseInt(mt.substring(Rt?2:1)));if(Rt)ee.shift(),Br(mr(),!1);else{const Qn=lg(n,ee[0],xn);ee.unshift([]),Br(Qn,!0)}}else{const Rt=bm(mt);for(let nn=0;nn<Rt.length;nn++){let xn=Rt[nn];if(1&nn){const Qn=xn;if("object"!=typeof Qn)throw new Error(`Unable to parse ICU expression in "${g}" message.`);gv(n,a,z,r,Qn,C_(n,D,ee[0],a,F,"",!0).index)}else""!==xn&&Xd(n,D,ee[0],F,z,a,xn)}}}n.data[h]={create:F,update:z}}(h,null===F?0:F.index,g,y,D,a);const z=h.data[y],ye=hi(h,F===g[6]?null:F,g);(function nv(n,r,a,h){const g=n[11];for(let y=0;y<r.length;y++){const D=r[y++],F=r[y],ee=(D&Io.APPEND_EAGERLY)===Io.APPEND_EAGERLY,ye=D>>>Io.SHIFT;let He=n[ye];null===He&&(He=n[ye]=(D&Io.COMMENT)===Io.COMMENT?g.createComment(F):lu(g,F)),ee&&null!==a&&Ki(g,a,He,h,!1)}})(g,z.create,ye,F&&8&F.type?g[F.index]:null),go(!0)}function Er(n,r,a){yr(n,r,a),function cs(){go(!1)}()}function Ao(n){return function ev(n){n&&(cg|=1<<Math.min(ug,31)),ug++}(Wt(G(),bo(),n)),Ao}function co(n){!function tv(n,r,a){if(ug>0){const h=n.data[a];_y(n,r,Array.isArray(h)?h:h.update,rs()-ug-1,cg)}cg=0,ug=0}($(),G(),n+22)}function mv(n,r,a,h,g){if(n=Oe(n),Array.isArray(n))for(let y=0;y<n.length;y++)mv(n[y],r,a,h,g);else{const y=$(),D=G();let F=fu(n)?n:Oe(n.provide),z=Md(n);const ee=Tt(),ye=1048575&ee.providerIndexes,He=ee.directiveStart,mt=ee.providerIndexes>>20;if(fu(n)||!n.multi){const Rt=new kt(z,g,Yu),nn=yv(F,r,g?ye:ye+mt,He);-1===nn?(Ol(Vl(ee,D),y,F),_v(y,n,r.length),r.push(F),ee.directiveStart++,ee.directiveEnd++,g&&(ee.providerIndexes+=1048576),a.push(Rt),D.push(Rt)):(a[nn]=Rt,D[nn]=Rt)}else{const Rt=yv(F,r,ye+mt,He),nn=yv(F,r,ye,ye+mt),Qn=nn>=0&&a[nn];if(g&&!Qn||!g&&!(Rt>=0&&a[Rt])){Ol(Vl(ee,D),y,F);const vi=function zb(n,r,a,h,g){const y=new kt(n,a,Yu);return y.multi=[],y.index=r,y.componentProviders=0,o0(y,g,h&&!a),y}(g?jb:Gb,a.length,g,h,z);!g&&Qn&&(a[nn].providerFactory=vi),_v(y,n,r.length,0),r.push(F),ee.directiveStart++,ee.directiveEnd++,g&&(ee.providerIndexes+=1048576),a.push(vi),D.push(vi)}else _v(y,n,Rt>-1?Rt:nn,o0(a[g?nn:Rt],z,!g&&h));!g&&h&&Qn&&a[nn].componentProviders++}}}function _v(n,r,a,h){const g=fu(r),y=function Rm(n){return!!n.useClass}(r);if(g||y){const z=(y?Oe(r.useClass):r).prototype.ngOnDestroy;if(z){const ee=n.destroyHooks||(n.destroyHooks=[]);if(!g&&r.multi){const ye=ee.indexOf(a);-1===ye?ee.push(a,[h,z]):ee[ye+1].push(h,z)}else ee.push(a,z)}}}function o0(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function yv(n,r,a,h){for(let g=a;g<h;g++)if(r[g]===n)return g;return-1}function Gb(n,r,a,h){return vv(this.multi,[])}function jb(n,r,a,h){const g=this.multi;let y;if(this.providerFactory){const D=this.providerFactory.componentProviders,F=li(a,a[1],this.providerFactory.index,h);y=F.slice(0,D),vv(g,y);for(let z=D;z<F.length;z++)y.push(F[z])}else y=[],vv(g,y);return y}function vv(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function a0(n,r=[]){return a=>{a.providersResolver=(h,g)=>function eh(n,r,a){const h=$();if(h.firstCreatePass){const g=nr(n);mv(a,h.data,h.blueprint,g,!0),mv(r,h.data,h.blueprint,g,!1)}}(h,g?g(n):n,r)}}class wm{}class l0{}function $b(n,r){return new c0(n,r??null)}class c0 extends wm{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tm(this);const h=Kr(r);this._bootstrapComponents=yc(h.bootstrap),this._r3Injector=hp(r,a,[{provide:wm,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],ie(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class bv extends l0{constructor(r){super(),this.moduleType=r}create(r){return new c0(this.moduleType,r)}}class Wb extends wm{constructor(r,a,h){super(),this.componentFactoryResolver=new tm(this),this.instance=null;const g=new pu([...r,{provide:wm,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],a||ph(),h,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function wv(n,r,a=null){return new Wb(n,r,a).injector}let Kb=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const h=ju(0,a.type),g=h.length>0?wv([h],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,g)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ht({token:n,providedIn:"environment",factory:()=>new n(Ft(Zl))}),n})();function u0(n){n.getStandaloneInjector=r=>r.get(Kb).getOrCreateStandaloneInjector(n)}function _0(n,r,a){const h=vs()+n,g=G();return g[h]===lr?Qe(g,h,a?r.call(a):r()):function jt(n,r){return n[r]}(g,h)}function y0(n,r,a,h){return T0(G(),vs(),n,r,a,h)}function v0(n,r,a,h,g){return function D0(n,r,a,h,g,y,D){const F=r+a;return en(n,F,g,y)?Qe(n,F+2,D?h.call(D,g,y):h(g,y)):S_(n,F+2)}(G(),vs(),n,r,a,h,g)}function b0(n,r,a,h,g,y){return C0(G(),vs(),n,r,a,h,g,y)}function w0(n,r,a,h,g,y,D){return function S0(n,r,a,h,g,y,D,F,z){const ee=r+a;return function un(n,r,a,h,g,y){const D=en(n,r,a,h);return en(n,r+2,g,y)||D}(n,ee,g,y,D,F)?Qe(n,ee+4,z?h.call(z,g,y,D,F):h(g,y,D,F)):S_(n,ee+4)}(G(),vs(),n,r,a,h,g,y,D)}function E0(n,r,a,h){return function I0(n,r,a,h,g,y){let D=r+a,F=!1;for(let z=0;z<g.length;z++)Wt(n,D++,g[z])&&(F=!0);return F?Qe(n,D,h.apply(y,g)):S_(n,D)}(G(),vs(),n,r,a,h)}function S_(n,r){const a=n[r];return a===lr?void 0:a}function T0(n,r,a,h,g,y){const D=r+a;return Wt(n,D,g)?Qe(n,D+1,y?h.call(y,g):h(g)):S_(n,D+1)}function C0(n,r,a,h,g,y,D,F){const z=r+a;return function Sn(n,r,a,h,g){const y=en(n,r,a,h);return Wt(n,r+2,g)||y}(n,z,g,y,D)?Qe(n,z+3,F?h.call(F,g,y,D):h(g,y,D)):S_(n,z+3)}function A0(n,r){const a=$();let h;const g=n+22;a.firstCreatePass?(h=function ow(n,r){if(r)for(let a=r.length-1;a>=0;a--){const h=r[a];if(n===h.name)return h}}(r,a.pipeRegistry),a.data[g]=h,h.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(g,h.onDestroy)):h=a.data[g];const y=h.factory||(h.factory=Ds(h.type)),D=hn(Yu);try{const F=on(!1),z=y();return on(F),function aa(n,r,a,h){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=h}(a,G(),g,z),z}finally{hn(D)}}function O0(n,r,a){const h=n+22,g=G(),y=Bi(g,h);return I_(g,h)?T0(g,vs(),r,y.transform,a,y):y.transform(a)}function M0(n,r,a,h,g){const y=n+22,D=G(),F=Bi(D,y);return I_(D,y)?C0(D,vs(),r,F.transform,a,h,g,F):F.transform(a,h,g)}function I_(n,r){return n[1].data[r].pure}function Tv(n){return r=>{setTimeout(n,void 0,r)}}const th=class uw extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,h){let g=r,y=a||(()=>null),D=h;if(r&&"object"==typeof r){const z=r;g=z.next?.bind(z),y=z.error?.bind(z),D=z.complete?.bind(z)}this.__isAsync&&(y=Tv(y),g&&(g=Tv(g)),D&&(D=Tv(D)));const F=super.subscribe({next:g,error:y,complete:D});return r instanceof l.w0&&r.add(F),F}};function dw(){return this._results[f()]()}class Dv{get changes(){return this._changes||(this._changes=new th)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=f(),h=Dv.prototype;h[a]||(h[a]=dw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const h=this;h.dirty=!1;const g=function io(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ua(n,r,a){if(n.length!==r.length)return!1;for(let h=0;h<n.length;h++){let g=n[h],y=r[h];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(h._results,g,a))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let A_=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();const hw=A_,fw=class extends hw{constructor(r,a,h){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=h}createEmbeddedView(r,a){const h=this._declarationTContainer.tViews,g=jd(this._declarationLView,h,r,16,null,h.declTNode,null,null,null,null,a||null);g[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(g[19]=D.createEmbeddedView(h)),Qc(h,g,r),new Nh(g)}};function pw(){return Dy(Tt(),G())}function Dy(n,r){return 4&n.type?new fw(r,n,Pd(n,r)):null}let Cy=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(){return R0(Tt(),G())}const mw=Cy,N0=class extends mw{constructor(r,a,h){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=h}get element(){return Pd(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const r=Cs(this._hostTNode,this._hostLView);if(On(r)){const a=yn(r,this._hostLView),h=Mn(r);return new to(a[1].data[h+8],a)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=x0(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,h){let g,y;"number"==typeof h?g=h:null!=h&&(g=h.index,y=h.injector);const D=r.createEmbeddedView(a||{},y);return this.insert(D,g),D}createComponent(r,a,h,g,y){const D=r&&!function To(n){return"function"==typeof n}(r);let F;if(D)F=a;else{const He=a||{};F=He.index,h=He.injector,g=He.projectableNodes,y=He.environmentInjector||He.ngModuleRef}const z=D?r:new Xc(Hn(r)),ee=h||this.parentInjector;if(!y&&null==z.ngModule){const mt=(D?ee:this.parentInjector).get(Zl,null);mt&&(y=mt)}const ye=z.create(ee,g,void 0,y);return this.insert(ye.hostView,F),ye}insert(r,a){const h=r._lView,g=h[1];if(function Sl(n){return Di(n[3])}(h)){const ye=this.indexOf(r);if(-1!==ye)this.detach(ye);else{const He=h[3],mt=new N0(He,He[6],He[3]);mt.detach(mt.indexOf(r))}}const y=this._adjustIndex(a),D=this._lContainer;!function _(n,r,a,h){const g=10+h,y=a.length;h>0&&(a[g-1][4]=r),h<y-10?(r[4]=a[g],S(a,10+h,r)):(a.push(r),r[4]=null),r[3]=a;const D=r[17];null!==D&&a!==D&&function w(n,r){const a=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===a?n[9]=[r]:a.push(r)}(D,r);const F=r[19];null!==F&&F.insertView(n),r[2]|=64}(g,h,D,y);const F=or(y,D),z=h[11],ee=Fu(z,D[7]);return null!==ee&&function Wh(n,r,a,h,g,y){h[0]=g,h[6]=r,wd(n,h,a,1,g,y)}(g,D[6],z,h,ee,F),r.attachToViewContainerRef(),S(Cv(D),y,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=x0(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),h=se(this._lContainer,a);h&&(M(Cv(this._lContainer),a),we(h[1],h))}detach(r){const a=this._adjustIndex(r,-1),h=se(this._lContainer,a);return h&&null!=M(Cv(this._lContainer),a)?new Nh(h):null}_adjustIndex(r,a=0){return r??this.length+a}};function x0(n){return n[8]}function Cv(n){return n[8]||(n[8]=[])}function R0(n,r){let a;const h=r[n.index];if(Di(h))a=h;else{let g;if(8&n.type)g=Gr(h);else{const y=r[11];g=y.createComment("");const D=Yr(n,r);Ki(y,Fu(y,D),g,function Ga(n,r){return n.nextSibling(r)}(y,D),!1)}r[n.index]=a=qg(h,r,g,n),$d(r,a)}return new N0(a,n,r)}class Sv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const h=null!==r.contentQueries?r.contentQueries[0]:a.length,g=[];for(let y=0;y<h;y++){const D=a.getByIndex(y);g.push(this.queries[D.indexInDeclarationView].clone())}return new Iv(g)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==G0(r,a).matches&&this.queries[a].setDirty()}}class P0{constructor(r,a,h=null){this.predicate=r,this.flags=a,this.read=h}}class Av{constructor(r=[]){this.queries=r}elementStart(r,a){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let h=0;h<this.length;h++){const g=null!==a?a.length:0,y=this.getByIndex(h).embeddedTView(r,g);y&&(y.indexInDeclarationView=h,null!==a?a.push(y):a=[y])}return null!==a?new Av(a):null}template(r,a){for(let h=0;h<this.queries.length;h++)this.queries[h].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ov{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new Ov(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let h=r.parent;for(;null!==h&&8&h.type&&h.index!==a;)h=h.parent;return a===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const y=h[g];this.matchTNodeWithReadOption(r,a,_w(a,y)),this.matchTNodeWithReadOption(r,a,La(a,r,y,!1,!1))}else h===A_?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,La(a,r,h,!1,!1))}matchTNodeWithReadOption(r,a,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===gh||g===Cy||g===A_&&4&a.type)this.addMatch(a.index,-2);else{const y=La(a,r,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,h)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function _w(n,r){const a=n.localNames;if(null!==a)for(let h=0;h<a.length;h+=2)if(a[h]===r)return a[h+1];return null}function vw(n,r,a,h){return-1===a?function yw(n,r){return 11&n.type?Pd(n,r):4&n.type?Dy(n,r):null}(r,n):-2===a?function bw(n,r,a){return a===gh?Pd(r,n):a===A_?Dy(r,n):a===Cy?R0(r,n):void 0}(n,r,h):li(n,n[1],a,r)}function k0(n,r,a,h){const g=r[19].queries[h];if(null===g.matches){const y=n.data,D=a.matches,F=[];for(let z=0;z<D.length;z+=2){const ee=D[z];F.push(ee<0?null:vw(r,y[ee],D[z+1],a.metadata.read))}g.matches=F}return g.matches}function Mv(n,r,a,h){const g=n.queries.getByIndex(a),y=g.matches;if(null!==y){const D=k0(n,r,g,a);for(let F=0;F<y.length;F+=2){const z=y[F];if(z>0)h.push(D[F/2]);else{const ee=y[F+1],ye=r[-z];for(let He=10;He<ye.length;He++){const mt=ye[He];mt[17]===mt[3]&&Mv(mt[1],mt,ee,h)}if(null!==ye[9]){const He=ye[9];for(let mt=0;mt<He.length;mt++){const Rt=He[mt];Mv(Rt[1],Rt,ee,h)}}}}}return h}function F0(n){const r=G(),a=$(),h=qr();Fr(h+1);const g=G0(a,h);if(n.dirty&&function As(n){return 4==(4&n[2])}(r)===(2==(2&g.metadata.flags))){if(null===g.matches)n.reset([]);else{const y=g.crossesNgTemplate?Mv(a,r,h,[]):k0(a,r,g,h);n.reset(y,mh),n.notifyOnChanges()}return!0}return!1}function L0(n,r,a){const h=$();h.firstCreatePass&&(H0(h,new P0(n,r,a),-1),2==(2&r)&&(h.staticViewQueries=!0)),U0(h,G(),r)}function B0(n,r,a,h){const g=$();if(g.firstCreatePass){const y=Tt();H0(g,new P0(r,a,h),y.index),function Ew(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(g,n),2==(2&a)&&(g.staticContentQueries=!0)}U0(g,G(),a)}function V0(){return function ww(n,r){return n[19].queries[r].queryList}(G(),qr())}function U0(n,r,a){const h=new Dv(4==(4&a));vp(n,r,h,h.destroy),null===r[19]&&(r[19]=new Iv),r[19].queries.push(new Sv(h))}function H0(n,r,a){null===n.queries&&(n.queries=new Av),n.queries.track(new Ov(r,a))}function G0(n,r){return n.queries.getByIndex(r)}function j0(n,r){return Dy(n,r)}function Iy(...n){}const lb=new _t("Application Initializer");let Ay=(()=>{class n{constructor(a){this.appInits=a,this.resolve=Iy,this.reject=Iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,g)=>{this.resolve=h,this.reject=g})}runInitializers(){if(this.initialized)return;const a=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(Ph(y))a.push(y);else if(rd(y)){const D=new Promise((F,z)=>{y.subscribe({complete:F,error:z})});a.push(D)}}Promise.all(a).then(()=>{h()}).catch(g=>{this.reject(g)}),0===a.length&&h(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(Ft(lb,8))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cb=new _t("AppId",{providedIn:"root",factory:function ub(){return`${kv()}${kv()}${kv()}`}});function kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const db=new _t("Platform Initializer"),Gw=new _t("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hb=new _t("appBootstrapListener"),jw=new _t("AnimationModuleType");let zw=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Oy=new _t("LocaleId",{providedIn:"root",factory:()=>Fe(Oy,Ne.Optional|Ne.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||ud}()}),Ww=new _t("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kw{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let Zw=(()=>{class n{compileModuleSync(a){return new bv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const h=this.compileModuleSync(a),y=yc(Kr(a).declarations).reduce((D,F)=>{const z=Hn(F);return z&&D.push(new Xc(z)),D},[]);return new Kw(h,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qw=(()=>Promise.resolve(0))();function Fv(n){typeof Zone>"u"?Qw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Cu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new th(!1),this.onMicrotaskEmpty=new th(!1),this.onStable=new th(!1),this.onError=new th(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&a,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Jw(){let n=En.requestAnimationFrame,r=En.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const h=r[Zone.__symbol__("OriginalDelegate")];h&&(r=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function tE(n){const r=()=>{!function eE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(En,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Bv(n),n.isCheckStableRunning=!0,Lv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Bv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,h,g,y,D,F)=>{try{return gb(n),a.invokeTask(g,y,D,F)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&r(),mb(n)}},onInvoke:(a,h,g,y,D,F,z)=>{try{return gb(n),a.invoke(g,y,D,F,z)}finally{n.shouldCoalesceRunChangeDetection&&r(),mb(n)}},onHasTask:(a,h,g,y)=>{a.hasTask(g,y),h===g&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,Bv(n),Lv(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,h,g,y)=>(a.handleError(g,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cu.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Cu.isInAngularZone())throw new Be(909,!1)}run(r,a,h){return this._inner.run(r,a,h)}runTask(r,a,h,g){const y=this._inner,D=y.scheduleEventTask("NgZoneEvent: "+g,r,Xw,Iy,Iy);try{return y.runTask(D,a,h)}finally{y.cancelTask(D)}}runGuarded(r,a,h){return this._inner.runGuarded(r,a,h)}runOutsideAngular(r){return this._outer.run(r)}}const Xw={};function Lv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Bv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mb(n){n._nesting--,Lv(n)}class nE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new th,this.onMicrotaskEmpty=new th,this.onStable=new th,this.onError=new th}run(r,a,h){return r.apply(a,h)}runGuarded(r,a,h){return r.apply(a,h)}runOutsideAngular(r){return r()}runTask(r,a,h,g){return r.apply(a,h)}}const _b=new _t(""),yb=new _t("");let Vv,iE=(()=>{class n{constructor(a,h,g){this._ngZone=a,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vv||(function rE(n){Vv=n}(g),g.addToWindow(h)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cu.assertNotInAngularZone(),Fv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(a)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,h,g){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==y),a(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,h,g){return[]}}return n.\u0275fac=function(a){return new(a||n)(Ft(Cu),Ft(vb),Ft(yb))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac}),n})(),vb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,h){this._applications.set(a,h)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,h=!0){return Vv?.findTestabilityInTree(this,a,h)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Uf=null;const bb=new _t("AllowMultipleToken"),Uv=new _t("PlatformDestroyListeners");class aE{constructor(r,a){this.name=r,this.token=a}}function Eb(n,r,a=[]){const h=`Platform: ${r}`,g=new _t(h);return(y=[])=>{let D=Hv();if(!D||D.injector.get(bb,!1)){const F=[...a,...y,{provide:g,useValue:!0}];n?n(F):function lE(n){if(Uf&&!Uf.get(bb,!1))throw new Be(400,!1);Uf=n;const r=n.get(Db);(function wb(n){const r=n.get(db,null);r&&r.forEach(a=>a())})(n)}(function Tb(n=[],r){return ao.create({name:r,providers:[{provide:rf,useValue:"platform"},{provide:Uv,useValue:new Set([()=>Uf=null])},...n]})}(F,h))}return function uE(n){const r=Hv();if(!r)throw new Be(401,!1);return r}()}}function Hv(){return Uf?.get(Db)??null}let Db=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,h){const g=function Sb(n,r){let a;return a="noop"===n?new nE:("zone.js"===n?void 0:n)||new Cu(r),a}(h?.ngZone,function Cb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(h)),y=[{provide:Cu,useValue:g}];return g.run(()=>{const D=ao.create({providers:y,parent:this.injector,name:a.moduleType.name}),F=a.create(D),z=F.injector.get(Fd,null);if(!z)throw new Be(402,!1);return g.runOutsideAngular(()=>{const ee=g.onError.subscribe({next:ye=>{z.handleError(ye)}});F.onDestroy(()=>{Ny(this._modules,F),ee.unsubscribe()})}),function Ib(n,r,a){try{const h=a();return Ph(h)?h.catch(g=>{throw r.runOutsideAngular(()=>n.handleError(g)),g}):h}catch(h){throw r.runOutsideAngular(()=>n.handleError(h)),h}}(z,g,()=>{const ee=F.injector.get(Ay);return ee.runInitializers(),ee.donePromise.then(()=>(D_(F.injector.get(Oy,ud)||ud),this._moduleDoBootstrap(F),F))})})}bootstrapModule(a,h=[]){const g=Ab({},h);return function sE(n,r,a){const h=new bv(a);return Promise.resolve(h)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const h=a.injector.get(My);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new Be(-403,!1);a.instance.ngDoBootstrap(h)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const a=this._injector.get(Uv,null);a&&(a.forEach(h=>h()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Ft(ao))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ab(n,r){return Array.isArray(r)?r.reduce(Ab,n):{...n,...r}}let My=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,h,g){this._zone=a,this._injector=h,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new V.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),D=new V.y(F=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Cu.assertNotInAngularZone(),Fv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const ee=this._zone.onUnstable.subscribe(()=>{Cu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{z.unsubscribe(),ee.unsubscribe()}});this.isStable=(0,Te.T)(y,D.pipe((0,L.B)()))}bootstrap(a,h){const g=a instanceof af;if(!this._injector.get(Ay).done)throw!g&&Ts(a),new Be(405,false);let D;D=g?a:this._injector.get(Rd).resolveComponentFactory(a),this.componentTypes.push(D.componentType);const F=function oE(n){return n.isBoundToModule}(D)?void 0:this._injector.get(wm),ee=D.create(ao.NULL,[],h||D.selector,F),ye=ee.location.nativeElement,He=ee.injector.get(_b,null);return He?.registerApplication(ye),ee.onDestroy(()=>{this.detachView(ee.hostView),Ny(this.components,ee),He?.unregisterApplication(ye)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const h=a;this._views.push(h),h.attachToAppRef(this)}detachView(a){const h=a;Ny(this._views,h),h.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const h=this._injector.get(hb,[]);h.push(...this._bootstrapListeners),h.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ny(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(Ft(Cu),Ft(Zl),Ft(Fd))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ny(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}function hE(){return!1}let fE=(()=>{class n{}return n.__NG_ELEMENT_ID__=pE,n})();function pE(n){return function gE(n,r,a){if(Xr(n)&&!a){const h=gr(n.index,r);return new Nh(h,h)}return 47&n.type?new Nh(r[16],r):null}(Tt(),G(),16==(16&n))}class Rb{constructor(){}supports(r){return C(r)}create(r){return new wE(r)}}const bE=(n,r)=>r;class wE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||bE}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,h=this._removalsHead,g=0,y=null;for(;a||h;){const D=!h||a&&a.currentIndex<kb(h,g,y)?a:h,F=kb(D,g,y),z=D.currentIndex;if(D===h)g--,h=h._nextRemoved;else if(a=a._next,null==D.previousIndex)g++;else{y||(y=[]);const ee=F-g,ye=z-g;if(ee!=ye){for(let mt=0;mt<ee;mt++){const Rt=mt<y.length?y[mt]:y[mt]=0,nn=Rt+mt;ye<=nn&&nn<ee&&(y[mt]=Rt+1)}y[D.previousIndex]=ye-ee}}F!==z&&r(D,F,z)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!C(r))throw new Be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let g,y,D,a=this._itHead,h=!1;if(Array.isArray(r)){this.length=r.length;for(let F=0;F<this.length;F++)y=r[F],D=this._trackByFn(F,y),null!==a&&Object.is(a.trackById,D)?(h&&(a=this._verifyReinsertion(a,y,D,F)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,D,F),h=!0),a=a._next}else g=0,function ae(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[f()]();let h;for(;!(h=a.next()).done;)r(h.value)}}(r,F=>{D=this._trackByFn(g,F),null!==a&&Object.is(a.trackById,D)?(h&&(a=this._verifyReinsertion(a,F,D,g)),Object.is(a.item,F)||this._addIdentityChange(a,F)):(a=this._mismatch(a,F,D,g),h=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,h,g){let y;return null===r?y=this._itTail:(y=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,y,g)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,y,g)):r=this._addAfter(new EE(a,h),y,g),r}_verifyReinsertion(r,a,h,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?r=this._reinsertAfter(y,r._prev,g):r.currentIndex!=g&&(r.currentIndex=g,this._addToMoves(r,g)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const g=r._prevRemoved,y=r._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(r,a,h),this._addToMoves(r,h),r}_moveAfter(r,a,h){return this._unlink(r),this._insertAfter(r,a,h),this._addToMoves(r,h),r}_addAfter(r,a,h){return this._insertAfter(r,a,h),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,h){const g=null===a?this._itHead:a._next;return r._next=g,r._prev=a,null===g?this._itTail=r:g._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new Pb),this._linkedRecords.put(r),r.currentIndex=h,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,h=r._next;return null===a?this._itHead=h:a._next=h,null===h?this._itTail=a:h._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class EE{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===a||a<=h.currentIndex)&&Object.is(h.trackById,r))return h;return null}remove(r){const a=r._prevDup,h=r._nextDup;return null===a?this._head=h:a._nextDup=h,null===h?this._tail=a:h._prevDup=a,null===this._head}}class Pb{constructor(){this.map=new Map}put(r){const a=r.trackById;let h=this.map.get(a);h||(h=new TE,this.map.set(a,h)),h.add(r)}get(r,a){const g=this.map.get(r);return g?g.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kb(n,r,a){const h=n.previousIndex;if(null===h)return h;let g=0;return a&&h<a.length&&(g=a[h]),h+r+g}class Fb{constructor(){}supports(r){return r instanceof Map||_e(r)}create(){return new DE}}class DE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||_e(r)))throw new Be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(h,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,h),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,h);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let h=a;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const h=r._prev;return a._next=r,a._prev=h,r._prev=a,h&&(h._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const g=this._records.get(r);this._maybeAddToChanges(g,a);const y=g._prev,D=g._next;return y&&(y._next=D),D&&(D._prev=y),g._next=null,g._prev=null,g}const h=new CE(r);return this._records.set(r,h),h.currentValue=a,this._addToAdditions(h),h}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(h=>a(r[h],h))}}class CE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lb(){return new Wv([new Rb])}let Wv=(()=>{class n{constructor(a){this.factories=a}static create(a,h){if(null!=h){const g=h.factories.slice();a=a.concat(g)}return new n(a)}static extend(a){return{provide:n,useFactory:h=>n.create(a,h||Lb()),deps:[[n,new tc,new ro]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(null!=h)return h;throw new Be(901,!1)}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:Lb}),n})();function Bb(){return new Kv([new Fb])}let Kv=(()=>{class n{constructor(a){this.factories=a}static create(a,h){if(h){const g=h.factories.slice();a=a.concat(g)}return new n(a)}static extend(a){return{provide:n,useFactory:h=>n.create(a,h||Bb()),deps:[[n,new tc,new ro]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(h)return h;throw new Be(901,!1)}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:Bb}),n})();const AE=Eb(null,"core",[]);let OE=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Ft(My))},n.\u0275mod=qn({type:n}),n.\u0275inj=Jn({}),n})();function ME(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function xE(n,r){const a=Hn(n),h=r.elementInjector||ph();return new Xc(a).create(h,r.projectableNodes,r.hostElement,r.environmentInjector)}},433:(dn,dt,k)=>{k.d(dt,{Fj:()=>Ae,NI:()=>wi,u5:()=>Xn,Cf:()=>Ge,JU:()=>st,a5:()=>lt,JJ:()=>ai,JL:()=>En,F:()=>Gn,On:()=>zt,UX:()=>Il,_Y:()=>rn});var p=k(4650),l=k(6895),V=k(8996),Te=k(9751),L=k(4742),de=k(8421),le=k(3269),ie=k(5403),Ce=k(3268),X=k(1810),Oe=k(4004);let et=(()=>{class G{constructor(W,ve){this._renderer=W,this._elementRef=ve,this.onChange=Tt=>{},this.onTouched=()=>{}}setProperty(W,ve){this._renderer.setProperty(this._elementRef.nativeElement,W,ve)}registerOnTouched(W){this.onTouched=W}registerOnChange(W){this.onChange=W}setDisabledState(W){this.setProperty("disabled",W)}}return G.\u0275fac=function(W){return new(W||G)(p.Y36(p.Qsj),p.Y36(p.SBq))},G.\u0275dir=p.lG2({type:G}),G})(),ut=(()=>{class G extends et{}return G.\u0275fac=function(){let $;return function(ve){return($||($=p.n5z(G)))(ve||G)}}(),G.\u0275dir=p.lG2({type:G,features:[p.qOj]}),G})();const st=new p.OlP("NgValueAccessor"),it={provide:st,useExisting:(0,p.Gpc)(()=>Ae),multi:!0},Xe=new p.OlP("CompositionEventMode");let Ae=(()=>{class G extends et{constructor(W,ve,Tt){super(W,ve),this._compositionMode=Tt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ge(){const G=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(W){this.setProperty("value",W??"")}_handleInput(W){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(W)}_compositionStart(){this._composing=!0}_compositionEnd(W){this._composing=!1,this._compositionMode&&this.onChange(W)}}return G.\u0275fac=function(W){return new(W||G)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Xe,8))},G.\u0275dir=p.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,ve){1&W&&p.NdJ("input",function(Zn){return ve._handleInput(Zn.target.value)})("blur",function(){return ve.onTouched()})("compositionstart",function(){return ve._compositionStart()})("compositionend",function(Zn){return ve._compositionEnd(Zn.target.value)})},features:[p._Bn([it]),p.qOj]}),G})();const Ge=new p.OlP("NgValidators"),Ye=new p.OlP("NgAsyncValidators");function Bt(G){return null!=G}function Re(G){return(0,p.QGY)(G)?(0,V.D)(G):G}function $t(G){let $={};return G.forEach(W=>{$=null!=W?{...$,...W}:$}),0===Object.keys($).length?null:$}function Pt(G,$){return $.map(W=>W(G))}function Ht(G){return G.map($=>function tn(G){return!G.validate}($)?$:W=>$.validate(W))}function Jn(G){return null!=G?function Fn(G){if(!G)return null;const $=G.filter(Bt);return 0==$.length?null:function(W){return $t(Pt(W,$))}}(Ht(G)):null}function Ii(G){return null!=G?function Un(G){if(!G)return null;const $=G.filter(Bt);return 0==$.length?null:function(W){return function ce(...G){const $=(0,le.jO)(G),{args:W,keys:ve}=(0,L.D)(G),Tt=new Te.y(Zn=>{const{length:mr}=W;if(!mr)return void Zn.complete();const Br=new Array(mr);let Js=mr,Lo=mr;for(let Ra=0;Ra<mr;Ra++){let Ws=!1;(0,de.Xf)(W[Ra]).subscribe((0,ie.x)(Zn,pa=>{Ws||(Ws=!0,Lo--),Br[Ra]=pa},()=>Js--,void 0,()=>{(!Js||!Ws)&&(Lo||Zn.next(ve?(0,X.n)(ve,Br):Br),Zn.complete())}))}});return $?Tt.pipe((0,Ce.Z)($)):Tt}(Pt(W,$).map(Re)).pipe((0,Oe.U)($t))}}(Ht(G)):null}function Pi(G,$){return null===G?[$]:Array.isArray(G)?[...G,$]:[G,$]}function er(G){return G?Array.isArray(G)?G:[G]:[]}function ht(G,$){return Array.isArray(G)?G.includes($):G===$}function ot(G,$){const W=er($);return er(G).forEach(Tt=>{ht(W,Tt)||W.push(Tt)}),W}function Ie(G,$){return er($).filter(W=>!ht(G,W))}class ft{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=Jn(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=Ii(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,W){return!!this.control&&this.control.hasError($,W)}getError($,W){return this.control?this.control.getError($,W):null}}class Ne extends ft{get formDirective(){return null}get path(){return null}}class lt extends ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class An{constructor($){this._cd=$}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ai=(()=>{class G extends An{constructor(W){super(W)}}return G.\u0275fac=function(W){return new(W||G)(p.Y36(lt,2))},G.\u0275dir=p.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,ve){2&W&&p.ekj("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)},features:[p.qOj]}),G})(),En=(()=>{class G extends An{constructor(W){super(W)}}return G.\u0275fac=function(W){return new(W||G)(p.Y36(Ne,10))},G.\u0275dir=p.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,ve){2&W&&p.ekj("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)("ng-submitted",ve.isSubmitted)},features:[p.qOj]}),G})();const Bn="VALID",Ni="INVALID",ze="PENDING",Ue="DISABLED";function be(G){return(Gt(G)?G.validators:G)||null}function fe(G,$){return(Gt($)?$.asyncValidators:G)||null}function Gt(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class je{constructor($,W){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators($),this._assignAsyncValidators(W)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===Bn}get invalid(){return this.status===Ni}get pending(){return this.status==ze}get disabled(){return this.status===Ue}get enabled(){return this.status!==Ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._assignValidators($)}setAsyncValidators($){this._assignAsyncValidators($)}addValidators($){this.setValidators(ot($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(ot($,this._rawAsyncValidators))}removeValidators($){this.setValidators(Ie($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(Ie($,this._rawAsyncValidators))}hasValidator($){return ht(this._rawValidators,$)}hasAsyncValidator($){return ht(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(W=>{W.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(W=>{W.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=ze,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const W=this._parentMarkedDirty($.onlySelf);this.status=Ue,this.errors=null,this._forEachChild(ve=>{ve.disable({...$,onlySelf:!0})}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:W}),this._onDisabledChange.forEach(ve=>ve(!0))}enable($={}){const W=this._parentMarkedDirty($.onlySelf);this.status=Bn,this._forEachChild(ve=>{ve.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:W}),this._onDisabledChange.forEach(ve=>ve(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bn||this.status===ze)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(W=>W._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ue:Bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=ze,this._hasOwnPendingAsyncValidator=!0;const W=Re(this.asyncValidator(this));this._asyncValidationSubscription=W.subscribe(ve=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ve,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,W={}){this.errors=$,this._updateControlsErrors(!1!==W.emitEvent)}get($){let W=$;return null==W||(Array.isArray(W)||(W=W.split(".")),0===W.length)?null:W.reduce((ve,Tt)=>ve&&ve._find(Tt),this)}getError($,W){const ve=W?this.get(W):this;return ve&&ve.errors?ve.errors[$]:null}hasError($,W){return!!this.getError($,W)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Ue:this.errors?Ni:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ze)?ze:this._anyControlsHaveStatus(Ni)?Ni:Bn}_anyControlsHaveStatus($){return this._anyControls(W=>W.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){Gt($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}_assignValidators($){this._rawValidators=Array.isArray($)?$.slice():$,this._composedValidatorFn=function De(G){return Array.isArray(G)?Jn(G):G||null}(this._rawValidators)}_assignAsyncValidators($){this._rawAsyncValidators=Array.isArray($)?$.slice():$,this._composedAsyncValidatorFn=function pt(G){return Array.isArray(G)?Ii(G):G||null}(this._rawAsyncValidators)}}class Me extends je{constructor($,W,ve){super(be(W),fe(ve,W)),this.controls=$,this._initObservables(),this._setUpdateStrategy(W),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,W){return this.controls[$]?this.controls[$]:(this.controls[$]=W,W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange),W)}addControl($,W,ve={}){this.registerControl($,W),this.updateValueAndValidity({emitEvent:ve.emitEvent}),this._onCollectionChange()}removeControl($,W={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}setControl($,W,ve={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],W&&this.registerControl($,W),this.updateValueAndValidity({emitEvent:ve.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,W={}){(function $e(G,$,W){G._forEachChild((ve,Tt)=>{if(void 0===W[Tt])throw new p.vHH(1002,"")})})(this,0,$),Object.keys($).forEach(ve=>{(function bn(G,$,W){const ve=G.controls;if(!($?Object.keys(ve):ve).length)throw new p.vHH(1e3,"");if(!ve[W])throw new p.vHH(1001,"")})(this,!0,ve),this.controls[ve].setValue($[ve],{onlySelf:!0,emitEvent:W.emitEvent})}),this.updateValueAndValidity(W)}patchValue($,W={}){null!=$&&(Object.keys($).forEach(ve=>{const Tt=this.controls[ve];Tt&&Tt.patchValue($[ve],{onlySelf:!0,emitEvent:W.emitEvent})}),this.updateValueAndValidity(W))}reset($={},W={}){this._forEachChild((ve,Tt)=>{ve.reset($[Tt],{onlySelf:!0,emitEvent:W.emitEvent})}),this._updatePristine(W),this._updateTouched(W),this.updateValueAndValidity(W)}getRawValue(){return this._reduceChildren({},($,W,ve)=>($[ve]=W.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(W,ve)=>!!ve._syncPendingControls()||W);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(W=>{const ve=this.controls[W];ve&&$(ve,W)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[W,ve]of Object.entries(this.controls))if(this.contains(W)&&$(ve))return!0;return!1}_reduceValue(){return this._reduceChildren({},(W,ve,Tt)=>((ve.enabled||this.disabled)&&(W[Tt]=ve.value),W))}_reduceChildren($,W){let ve=$;return this._forEachChild((Tt,Zn)=>{ve=W(ve,Tt,Zn)}),ve}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}const xi=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>St}),St="always";function Xt(G,$,W=St){Mi(G,$),$.valueAccessor.writeValue(G.value),(G.disabled||"always"===W)&&$.valueAccessor.setDisabledState?.(G.disabled),function br(G,$){$.valueAccessor.registerOnChange(W=>{G._pendingValue=W,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Dr(G,$)})}(G,$),function Pr(G,$){const W=(ve,Tt)=>{$.valueAccessor.writeValue(ve),Tt&&$.viewToModelUpdate(ve)};G.registerOnChange(W),$._registerOnDestroy(()=>{G._unregisterOnChange(W)})}(G,$),function Hn(G,$){$.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Dr(G,$),"submit"!==G.updateOn&&G.markAsTouched()})}(G,$),function _i(G,$){if($.valueAccessor.setDisabledState){const W=ve=>{$.valueAccessor.setDisabledState(ve)};G.registerOnDisabledChange(W),$._registerOnDestroy(()=>{G._unregisterOnDisabledChange(W)})}}(G,$)}function qn(G,$){G.forEach(W=>{W.registerOnValidatorChange&&W.registerOnValidatorChange($)})}function Mi(G,$){const W=function si(G){return G._rawValidators}(G);null!==$.validator?G.setValidators(Pi(W,$.validator)):"function"==typeof W&&G.setValidators([W]);const ve=function ki(G){return G._rawAsyncValidators}(G);null!==$.asyncValidator?G.setAsyncValidators(Pi(ve,$.asyncValidator)):"function"==typeof ve&&G.setAsyncValidators([ve]);const Tt=()=>G.updateValueAndValidity();qn($._rawValidators,Tt),qn($._rawAsyncValidators,Tt)}function Dr(G,$){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}const Ke={provide:Ne,useExisting:(0,p.Gpc)(()=>Gn)},mn=(()=>Promise.resolve())();let Gn=(()=>{class G extends Ne{constructor(W,ve,Tt){super(),this.callSetDisabledState=Tt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Me({},Jn(W),Ii(ve))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(W){mn.then(()=>{const ve=this._findContainer(W.path);W.control=ve.registerControl(W.name,W.control),Xt(W.control,W,this.callSetDisabledState),W.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(W)})}getControl(W){return this.form.get(W.path)}removeControl(W){mn.then(()=>{const ve=this._findContainer(W.path);ve&&ve.removeControl(W.name),this._directives.delete(W)})}addFormGroup(W){mn.then(()=>{const ve=this._findContainer(W.path),Tt=new Me({});(function Ts(G,$){Mi(G,$)})(Tt,W),ve.registerControl(W.name,Tt),Tt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(W){mn.then(()=>{const ve=this._findContainer(W.path);ve&&ve.removeControl(W.name)})}getFormGroup(W){return this.form.get(W.path)}updateModel(W,ve){mn.then(()=>{this.form.get(W.path).setValue(ve)})}setValue(W){this.control.setValue(W)}onSubmit(W){return this.submitted=!0,function Kt(G,$){G._syncPendingControls(),$.forEach(W=>{const ve=W.control;"submit"===ve.updateOn&&ve._pendingChange&&(W.viewToModelUpdate(ve._pendingValue),ve._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(W),"dialog"===W?.target?.method}onReset(){this.resetForm()}resetForm(W){this.form.reset(W),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(W){return W.pop(),W.length?this.form.get(W):this.form}}return G.\u0275fac=function(W){return new(W||G)(p.Y36(Ge,10),p.Y36(Ye,10),p.Y36(xi,8))},G.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(W,ve){1&W&&p.NdJ("submit",function(Zn){return ve.onSubmit(Zn)})("reset",function(){return ve.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Ke]),p.qOj]}),G})();function ur(G,$){const W=G.indexOf($);W>-1&&G.splice(W,1)}function $i(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const wi=class extends je{constructor($=null,W,ve){super(be(W),fe(ve,W)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(W),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gt(W)&&(W.nonNullable||W.initialValueIsDefault)&&(this.defaultValue=$i($)?$.value:$)}setValue($,W={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==W.emitModelToViewChange&&this._onChange.forEach(ve=>ve(this.value,!1!==W.emitViewToModelChange)),this.updateValueAndValidity(W)}patchValue($,W={}){this.setValue($,W)}reset($=this.defaultValue,W={}){this._applyFormState($),this.markAsPristine(W),this.markAsUntouched(W),this.setValue(this.value,W),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){ur(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){ur(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){$i($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}},tt={provide:lt,useExisting:(0,p.Gpc)(()=>zt)},vt=(()=>Promise.resolve())();let zt=(()=>{class G extends lt{constructor(W,ve,Tt,Zn,mr,Br){super(),this._changeDetectorRef=mr,this.callSetDisabledState=Br,this.control=new wi,this._registered=!1,this.update=new p.vpe,this._parent=W,this._setValidators(ve),this._setAsyncValidators(Tt),this.valueAccessor=function B(G,$){if(!$)return null;let W,ve,Tt;return Array.isArray($),$.forEach(Zn=>{Zn.constructor===Ae?W=Zn:function Pe(G){return Object.getPrototypeOf(G.constructor)===ut}(Zn)?ve=Zn:Tt=Zn}),Tt||ve||W||null}(0,Zn)}ngOnChanges(W){if(this._checkForErrors(),!this._registered||"name"in W){if(this._registered&&(this._checkName(),this.formDirective)){const ve=W.name.previousValue;this.formDirective.removeControl({name:ve,path:this._getPath(ve)})}this._setUpControl()}"isDisabled"in W&&this._updateDisabled(W),function ys(G,$){if(!G.hasOwnProperty("model"))return!1;const W=G.model;return!!W.isFirstChange()||!Object.is($,W.currentValue)}(W,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(W){vt.then(()=>{this.control.setValue(W,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(W){const ve=W.isDisabled.currentValue,Tt=0!==ve&&(0,p.D6c)(ve);vt.then(()=>{Tt&&!this.control.disabled?this.control.disable():!Tt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(W){return this._parent?function Et(G,$){return[...$.path,G]}(W,this._parent):[W]}}return G.\u0275fac=function(W){return new(W||G)(p.Y36(Ne,9),p.Y36(Ge,10),p.Y36(Ye,10),p.Y36(st,10),p.Y36(p.sBO,8),p.Y36(xi,8))},G.\u0275dir=p.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([tt]),p.qOj,p.TTD]}),G})(),rn=(()=>{class G{}return G.\u0275fac=function(W){return new(W||G)},G.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})(),Xr=(()=>{class G{}return G.\u0275fac=function(W){return new(W||G)},G.\u0275mod=p.oAB({type:G}),G.\u0275inj=p.cJS({}),G})();const uo=new p.OlP("NgModelWithFormControlWarning");let po=(()=>{class G{}return G.\u0275fac=function(W){return new(W||G)},G.\u0275mod=p.oAB({type:G}),G.\u0275inj=p.cJS({imports:[Xr]}),G})(),Xn=(()=>{class G{static withConfig(W){return{ngModule:G,providers:[{provide:xi,useValue:W.callSetDisabledState??St}]}}}return G.\u0275fac=function(W){return new(W||G)},G.\u0275mod=p.oAB({type:G}),G.\u0275inj=p.cJS({imports:[po]}),G})(),Il=(()=>{class G{static withConfig(W){return{ngModule:G,providers:[{provide:uo,useValue:W.warnOnNgModelWithFormControl??"always"},{provide:xi,useValue:W.callSetDisabledState??St}]}}}return G.\u0275fac=function(W){return new(W||G)},G.\u0275mod=p.oAB({type:G}),G.\u0275inj=p.cJS({imports:[po]}),G})()},1321:()=>{class Bt extends Error{constructor(ot){super(`No translation found for ${Fn(ot)}.`),this.parsedMessage=ot,this.type="MissingTranslationError"}}const si=function(ht,...ot){if(si.translate){const ft=si.translate(ht,ot);ht=ft[0],ot=ft[1]}let Ie=er(ht[0],ht.raw[0]);for(let ft=1;ft<ht.length;ft++)Ie+=ot[ft-1]+er(ht[ft],ht.raw[ft]);return Ie};function er(ht,ot){return":"===ot.charAt(0)?ht.substring(function rt(ht,ot){for(let Ie=1,ft=1;Ie<ht.length;Ie++,ft++)if("\\"===ot[ft])ft++;else if(":"===ht[Ie])return Ie;throw new Error(`Unterminated $localize metadata block in "${ot}".`)}(ht,ot)+1):ht}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=si},1481:(dn,dt,k)=>{k.d(dt,{Dx:()=>Pn,H7:()=>fe,b2:()=>ft,q6:()=>er,se:()=>Dn});var p=k(6895),l=k(4650);class V extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends V{static makeCurrent(){(0,p.HT)(new Te)}onAndCancel(je,Me,nt){return je.addEventListener(Me,nt,!1),()=>{je.removeEventListener(Me,nt,!1)}}dispatchEvent(je,Me){je.dispatchEvent(Me)}remove(je){je.parentNode&&je.parentNode.removeChild(je)}createElement(je,Me){return(Me=Me||this.getDefaultDocument()).createElement(je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(je){return je.nodeType===Node.ELEMENT_NODE}isShadowRoot(je){return je instanceof DocumentFragment}getGlobalEventTarget(je,Me){return"window"===Me?window:"document"===Me?je:"body"===Me?je.body:null}getBaseHref(je){const Me=function de(){return L=L||document.querySelector("base"),L?L.getAttribute("href"):null}();return null==Me?null:function ie($e){le=le||document.createElement("a"),le.setAttribute("href",$e);const je=le.pathname;return"/"===je.charAt(0)?je:`/${je}`}(Me)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}getCookie(je){return(0,p.Mx)(document.cookie,je)}}let le,L=null;const Ce=new l.OlP("TRANSITION_ID"),ce=[{provide:l.ip1,useFactory:function X($e,je,Me){return()=>{Me.get(l.CZH).donePromise.then(()=>{const nt=(0,p.q)(),Lt=je.querySelectorAll(`style[ng-transition="${$e}"]`);for(let qt=0;qt<Lt.length;qt++)nt.remove(Lt[qt])})}},deps:[Ce,p.K0,l.zs3],multi:!0}];let et=(()=>{class $e{build(){return new XMLHttpRequest}}return $e.\u0275fac=function(Me){return new(Me||$e)},$e.\u0275prov=l.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const ut=new l.OlP("EventManagerPlugins");let st=(()=>{class $e{constructor(Me,nt){this._zone=nt,this._eventNameToPlugin=new Map,Me.forEach(Lt=>Lt.manager=this),this._plugins=Me.slice().reverse()}addEventListener(Me,nt,Lt){return this._findPluginFor(nt).addEventListener(Me,nt,Lt)}addGlobalEventListener(Me,nt,Lt){return this._findPluginFor(nt).addGlobalEventListener(Me,nt,Lt)}getZone(){return this._zone}_findPluginFor(Me){const nt=this._eventNameToPlugin.get(Me);if(nt)return nt;const Lt=this._plugins;for(let qt=0;qt<Lt.length;qt++){const Ln=Lt[qt];if(Ln.supports(Me))return this._eventNameToPlugin.set(Me,Ln),Ln}throw new Error(`No event manager plugin found for event ${Me}`)}}return $e.\u0275fac=function(Me){return new(Me||$e)(l.LFG(ut),l.LFG(l.R0b))},$e.\u0275prov=l.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class xt{constructor(je){this._doc=je}addGlobalEventListener(je,Me,nt){const Lt=(0,p.q)().getGlobalEventTarget(this._doc,je);if(!Lt)throw new Error(`Unsupported event target ${Lt} for event ${Me}`);return this.addEventListener(Lt,Me,nt)}}let Be=(()=>{class $e{constructor(){this._stylesSet=new Set}addStyles(Me){const nt=new Set;Me.forEach(Lt=>{this._stylesSet.has(Lt)||(this._stylesSet.add(Lt),nt.add(Lt))}),this.onStylesAdded(nt)}onStylesAdded(Me){}getAllStyles(){return Array.from(this._stylesSet)}}return $e.\u0275fac=function(Me){return new(Me||$e)},$e.\u0275prov=l.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),it=(()=>{class $e extends Be{constructor(Me){super(),this._doc=Me,this._hostNodes=new Map,this._hostNodes.set(Me.head,[])}_addStylesToHost(Me,nt,Lt){Me.forEach(qt=>{const Ln=this._doc.createElement("style");Ln.textContent=qt,Lt.push(nt.appendChild(Ln))})}addHost(Me){const nt=[];this._addStylesToHost(this._stylesSet,Me,nt),this._hostNodes.set(Me,nt)}removeHost(Me){const nt=this._hostNodes.get(Me);nt&&nt.forEach(ge),this._hostNodes.delete(Me)}onStylesAdded(Me){this._hostNodes.forEach((nt,Lt)=>{this._addStylesToHost(Me,Lt,nt)})}ngOnDestroy(){this._hostNodes.forEach(Me=>Me.forEach(ge))}}return $e.\u0275fac=function(Me){return new(Me||$e)(l.LFG(p.K0))},$e.\u0275prov=l.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function ge($e){(0,p.q)().remove($e)}const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ae=/%COMP%/g;function pn($e,je){return je.flat(100).map(Me=>Me.replace(Ae,$e))}function Yt($e){return je=>{if("__ngUnwrap__"===je)return $e;!1===$e(je)&&(je.preventDefault(),je.returnValue=!1)}}let Dn=(()=>{class $e{constructor(Me,nt,Lt){this.eventManager=Me,this.sharedStylesHost=nt,this.appId=Lt,this.rendererByCompId=new Map,this.defaultRenderer=new ln(Me)}createRenderer(Me,nt){if(!Me||!nt)return this.defaultRenderer;switch(nt.encapsulation){case l.ifc.Emulated:{let Lt=this.rendererByCompId.get(nt.id);return Lt||(Lt=new Nt(this.eventManager,this.sharedStylesHost,nt,this.appId),this.rendererByCompId.set(nt.id,Lt)),Lt.applyToHost(Me),Lt}case l.ifc.ShadowDom:return new Zt(this.eventManager,this.sharedStylesHost,Me,nt);default:if(!this.rendererByCompId.has(nt.id)){const Lt=pn(nt.id,nt.styles);this.sharedStylesHost.addStyles(Lt),this.rendererByCompId.set(nt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $e.\u0275fac=function(Me){return new(Me||$e)(l.LFG(st),l.LFG(it),l.LFG(l.AFp))},$e.\u0275prov=l.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class ln{constructor(je){this.eventManager=je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(je,Me){return Me?document.createElementNS(Xe[Me]||Me,je):document.createElement(je)}createComment(je){return document.createComment(je)}createText(je){return document.createTextNode(je)}appendChild(je,Me){(Dt(je)?je.content:je).appendChild(Me)}insertBefore(je,Me,nt){je&&(Dt(je)?je.content:je).insertBefore(Me,nt)}removeChild(je,Me){je&&je.removeChild(Me)}selectRootElement(je,Me){let nt="string"==typeof je?document.querySelector(je):je;if(!nt)throw new Error(`The selector "${je}" did not match any elements`);return Me||(nt.textContent=""),nt}parentNode(je){return je.parentNode}nextSibling(je){return je.nextSibling}setAttribute(je,Me,nt,Lt){if(Lt){Me=Lt+":"+Me;const qt=Xe[Lt];qt?je.setAttributeNS(qt,Me,nt):je.setAttribute(Me,nt)}else je.setAttribute(Me,nt)}removeAttribute(je,Me,nt){if(nt){const Lt=Xe[nt];Lt?je.removeAttributeNS(Lt,Me):je.removeAttribute(`${nt}:${Me}`)}else je.removeAttribute(Me)}addClass(je,Me){je.classList.add(Me)}removeClass(je,Me){je.classList.remove(Me)}setStyle(je,Me,nt,Lt){Lt&(l.JOm.DashCase|l.JOm.Important)?je.style.setProperty(Me,nt,Lt&l.JOm.Important?"important":""):je.style[Me]=nt}removeStyle(je,Me,nt){nt&l.JOm.DashCase?je.style.removeProperty(Me):je.style[Me]=""}setProperty(je,Me,nt){je[Me]=nt}setValue(je,Me){je.nodeValue=Me}listen(je,Me,nt){return"string"==typeof je?this.eventManager.addGlobalEventListener(je,Me,Yt(nt)):this.eventManager.addEventListener(je,Me,Yt(nt))}}function Dt($e){return"TEMPLATE"===$e.tagName&&void 0!==$e.content}class Nt extends ln{constructor(je,Me,nt,Lt){super(je),this.component=nt;const qt=pn(Lt+"-"+nt.id,nt.styles);Me.addStyles(qt),this.contentAttr=function Ye($e){return"_ngcontent-%COMP%".replace(Ae,$e)}(Lt+"-"+nt.id),this.hostAttr=function Vt($e){return"_nghost-%COMP%".replace(Ae,$e)}(Lt+"-"+nt.id)}applyToHost(je){super.setAttribute(je,this.hostAttr,"")}createElement(je,Me){const nt=super.createElement(je,Me);return super.setAttribute(nt,this.contentAttr,""),nt}}class Zt extends ln{constructor(je,Me,nt,Lt){super(je),this.sharedStylesHost=Me,this.hostEl=nt,this.shadowRoot=nt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const qt=pn(Lt.id,Lt.styles);for(let Ln=0;Ln<qt.length;Ln++){const xi=document.createElement("style");xi.textContent=qt[Ln],this.shadowRoot.appendChild(xi)}}nodeOrShadowRoot(je){return je===this.hostEl?this.shadowRoot:je}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(je,Me){return super.appendChild(this.nodeOrShadowRoot(je),Me)}insertBefore(je,Me,nt){return super.insertBefore(this.nodeOrShadowRoot(je),Me,nt)}removeChild(je,Me){return super.removeChild(this.nodeOrShadowRoot(je),Me)}parentNode(je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(je)))}}let rt=(()=>{class $e extends xt{constructor(Me){super(Me)}supports(Me){return!0}addEventListener(Me,nt,Lt){return Me.addEventListener(nt,Lt,!1),()=>this.removeEventListener(Me,nt,Lt)}removeEventListener(Me,nt,Lt){return Me.removeEventListener(nt,Lt)}}return $e.\u0275fac=function(Me){return new(Me||$e)(l.LFG(p.K0))},$e.\u0275prov=l.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Bt=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let Pt=(()=>{class $e extends xt{constructor(Me){super(Me)}supports(Me){return null!=$e.parseEventName(Me)}addEventListener(Me,nt,Lt){const qt=$e.parseEventName(nt),Ln=$e.eventCallback(qt.fullKey,Lt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(Me,qt.domEventName,Ln))}static parseEventName(Me){const nt=Me.toLowerCase().split("."),Lt=nt.shift();if(0===nt.length||"keydown"!==Lt&&"keyup"!==Lt)return null;const qt=$e._normalizeKey(nt.pop());let Ln="",xi=nt.indexOf("code");if(xi>-1&&(nt.splice(xi,1),Ln="code."),Bt.forEach(Et=>{const Xt=nt.indexOf(Et);Xt>-1&&(nt.splice(Xt,1),Ln+=Et+".")}),Ln+=qt,0!=nt.length||0===qt.length)return null;const St={};return St.domEventName=Lt,St.fullKey=Ln,St}static matchEventFullKeyCode(Me,nt){let Lt=Re[Me.key]||Me.key,qt="";return nt.indexOf("code.")>-1&&(Lt=Me.code,qt="code."),!(null==Lt||!Lt)&&(Lt=Lt.toLowerCase()," "===Lt?Lt="space":"."===Lt&&(Lt="dot"),Bt.forEach(Ln=>{Ln!==Lt&&(0,$t[Ln])(Me)&&(qt+=Ln+".")}),qt+=Lt,qt===nt)}static eventCallback(Me,nt,Lt){return qt=>{$e.matchEventFullKeyCode(qt,Me)&&Lt.runGuarded(()=>nt(qt))}}static _normalizeKey(Me){return"esc"===Me?"escape":Me}}return $e.\u0275fac=function(Me){return new(Me||$e)(l.LFG(p.K0))},$e.\u0275prov=l.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const er=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:p.bD},{provide:l.g9A,useValue:function Ii(){Te.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function si(){return(0,l.RDi)(document),document},deps:[]}]),ht=new l.OlP(""),ot=[{provide:l.rWj,useClass:class Oe{addToWindow(je){l.dqk.getAngularTestability=(nt,Lt=!0)=>{const qt=je.findTestabilityInTree(nt,Lt);if(null==qt)throw new Error("Could not find testability for element.");return qt},l.dqk.getAllAngularTestabilities=()=>je.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>je.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(nt=>{const Lt=l.dqk.getAllAngularTestabilities();let qt=Lt.length,Ln=!1;const xi=function(St){Ln=Ln||St,qt--,0==qt&&nt(Ln)};Lt.forEach(function(St){St.whenStable(xi)})})}findTestabilityInTree(je,Me,nt){return null==Me?null:je.getTestability(Me)??(nt?(0,p.q)().isShadowRoot(Me)?this.findTestabilityInTree(je,Me.host,!0):this.findTestabilityInTree(je,Me.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ie=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Pi(){return new l.qLn},deps:[]},{provide:ut,useClass:rt,multi:!0,deps:[p.K0,l.R0b,l.Lbi]},{provide:ut,useClass:Pt,multi:!0,deps:[p.K0]},{provide:Dn,useClass:Dn,deps:[st,it,l.AFp]},{provide:l.FYo,useExisting:Dn},{provide:Be,useExisting:it},{provide:it,useClass:it,deps:[p.K0]},{provide:st,useClass:st,deps:[ut,l.R0b]},{provide:p.JF,useClass:et,deps:[]},[]];let ft=(()=>{class $e{constructor(Me){}static withServerTransition(Me){return{ngModule:$e,providers:[{provide:l.AFp,useValue:Me.appId},{provide:Ce,useExisting:l.AFp},ce]}}}return $e.\u0275fac=function(Me){return new(Me||$e)(l.LFG(ht,12))},$e.\u0275mod=l.oAB({type:$e}),$e.\u0275inj=l.cJS({providers:[...Ie,...ot],imports:[p.ez,l.hGG]}),$e})(),Pn=(()=>{class $e{constructor(Me){this._doc=Me}getTitle(){return this._doc.title}setTitle(Me){this._doc.title=Me||""}}return $e.\u0275fac=function(Me){return new(Me||$e)(l.LFG(p.K0))},$e.\u0275prov=l.Yz7({token:$e,factory:function(Me){let nt=null;return nt=Me?new Me:function hn(){return new Pn((0,l.LFG)(p.K0))}(),nt},providedIn:"root"}),$e})();typeof window<"u"&&window;let fe=(()=>{class $e{}return $e.\u0275fac=function(Me){return new(Me||$e)},$e.\u0275prov=l.Yz7({token:$e,factory:function(Me){let nt=null;return nt=Me?new(Me||$e):l.LFG(Gt),nt},providedIn:"root"}),$e})(),Gt=(()=>{class $e extends fe{constructor(Me){super(),this._doc=Me}sanitize(Me,nt){if(null==nt)return null;switch(Me){case l.q3G.NONE:return nt;case l.q3G.HTML:return(0,l.qzn)(nt,"HTML")?(0,l.z3N)(nt):(0,l.EiD)(this._doc,String(nt)).toString();case l.q3G.STYLE:return(0,l.qzn)(nt,"Style")?(0,l.z3N)(nt):nt;case l.q3G.SCRIPT:if((0,l.qzn)(nt,"Script"))return(0,l.z3N)(nt);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(nt,"URL")?(0,l.z3N)(nt):(0,l.mCW)(String(nt));case l.q3G.RESOURCE_URL:if((0,l.qzn)(nt,"ResourceURL"))return(0,l.z3N)(nt);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Me} (see ${l.JZr})`)}}bypassSecurityTrustHtml(Me){return(0,l.JVY)(Me)}bypassSecurityTrustStyle(Me){return(0,l.L6k)(Me)}bypassSecurityTrustScript(Me){return(0,l.eBb)(Me)}bypassSecurityTrustUrl(Me){return(0,l.LAX)(Me)}bypassSecurityTrustResourceUrl(Me){return(0,l.pB0)(Me)}}return $e.\u0275fac=function(Me){return new(Me||$e)(l.LFG(p.K0))},$e.\u0275prov=l.Yz7({token:$e,factory:function(Me){let nt=null;return nt=Me?new Me:function pt($e){return new Gt($e.get(p.K0))}(l.LFG(l.zs3)),nt},providedIn:"root"}),$e})()},4629:(dn,dt,k)=>{k.d(dt,{gz:()=>uo,m2:()=>Ze,F0:()=>Ps,rH:()=>Ho,Od:()=>ec,Bz:()=>Va,lC:()=>ha});var p=k(4650),l=k(8996),V=k(9646),Te=k(1135),L=k(6805),de=k(9841),le=k(7272),ie=k(9751),Ce=k(8421);function X(S){return new ie.y(M=>{(0,Ce.Xf)(S()).subscribe(M)})}var ce=k(9635),Oe=k(576);function et(S,M){const E=(0,Oe.m)(S)?S:()=>S,H=q=>q.error(E());return new ie.y(M?q=>M.schedule(H,0,q):H)}var ut=k(515),st=k(727),xt=k(4482),Be=k(5403);function it(){return(0,xt.e)((S,M)=>{let E=null;S._refCount++;const H=(0,Be.x)(M,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(E=null);const q=S._connection,he=E;E=null,q&&(!he||q===he)&&q.unsubscribe(),M.unsubscribe()});S.subscribe(H),H.closed||(E=S.connect())})}class ge extends ie.y{constructor(M,E){super(),this.source=M,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,xt.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new st.w0;const E=this.getSubject();M.add(this.source.subscribe((0,Be.x)(E,void 0,()=>{this._teardown(),E.complete()},H=>{this._teardown(),E.error(H)},()=>this._teardown()))),M.closed&&(this._connection=null,M=st.w0.EMPTY)}return M}refCount(){return it()(this)}}var Xe=k(7579),Ae=k(6895),oe=k(4004),Je=k(3900),Le=k(5698),Ge=k(8675),Ye=k(9300),Vt=k(5577),pn=k(590),Yt=k(4351),Dn=k(8505);function ln(S){return(0,xt.e)((M,E)=>{let he,H=null,q=!1;H=M.subscribe((0,Be.x)(E,void 0,void 0,P=>{he=(0,Ce.Xf)(S(P,ln(S)(M))),H?(H.unsubscribe(),H=null,he.subscribe(E)):q=!0})),q&&(H.unsubscribe(),H=null,he.subscribe(E))})}var It=k(5026);function At(S){return S<=0?()=>ut.E:(0,xt.e)((M,E)=>{let H=[];M.subscribe((0,Be.x)(E,q=>{H.push(q),S<H.length&&H.shift()},()=>{for(const q of H)E.next(q);E.complete()},void 0,()=>{H=null}))})}var Dt=k(8068),Nt=k(6590),Zt=k(4671);function rt(S,M){const E=arguments.length>=2;return H=>H.pipe(S?(0,Ye.h)((q,he)=>S(q,he,H)):Zt.y,At(1),E?(0,Nt.d)(M):(0,Dt.T)(()=>new L.K))}var Re=k(9718);function $t(S){return(0,xt.e)((M,E)=>{try{M.subscribe(E)}finally{E.add(S)}})}var Pt=k(8189),tn=k(1481);const Ht="primary",Fn=Symbol("RouteTitle");class Jn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const E=this.params[M];return Array.isArray(E)?E[0]:E}return null}getAll(M){if(this.has(M)){const E=this.params[M];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Un(S){return new Jn(S)}function Ii(S,M,E){const H=E.path.split("/");if(H.length>S.length||"full"===E.pathMatch&&(M.hasChildren()||H.length<S.length))return null;const q={};for(let he=0;he<H.length;he++){const P=H[he],T=S[he];if(P.startsWith(":"))q[P.substring(1)]=T;else if(P!==T.path)return null}return{consumed:S.slice(0,H.length),posParams:q}}function si(S,M){const E=S?Object.keys(S):void 0,H=M?Object.keys(M):void 0;if(!E||!H||E.length!=H.length)return!1;let q;for(let he=0;he<E.length;he++)if(q=E[he],!ki(S[q],M[q]))return!1;return!0}function ki(S,M){if(Array.isArray(S)&&Array.isArray(M)){if(S.length!==M.length)return!1;const E=[...S].sort(),H=[...M].sort();return E.every((q,he)=>H[he]===q)}return S===M}function er(S){return Array.prototype.concat.apply([],S)}function ht(S){return S.length>0?S[S.length-1]:null}function Ie(S,M){for(const E in S)S.hasOwnProperty(E)&&M(S[E],E)}function ft(S){return(0,p.CqO)(S)?S:(0,p.QGY)(S)?(0,l.D)(Promise.resolve(S)):(0,V.of)(S)}const Ne=!1,lt={exact:function ai(S,M,E){if(!tr(S.segments,M.segments)||!Oi(S.segments,M.segments,E)||S.numberOfChildren!==M.numberOfChildren)return!1;for(const H in M.children)if(!S.children[H]||!ai(S.children[H],M.children[H],E))return!1;return!0},subset:wn},An={exact:function Pn(S,M){return si(S,M)},subset:function En(S,M){return Object.keys(M).length<=Object.keys(S).length&&Object.keys(M).every(E=>ki(S[E],M[E]))},ignored:()=>!0};function hn(S,M,E){return lt[E.paths](S.root,M.root,E.matrixParams)&&An[E.queryParams](S.queryParams,M.queryParams)&&!("exact"===E.fragment&&S.fragment!==M.fragment)}function wn(S,M,E){return $n(S,M,M.segments,E)}function $n(S,M,E,H){if(S.segments.length>E.length){const q=S.segments.slice(0,E.length);return!(!tr(q,E)||M.hasChildren()||!Oi(q,E,H))}if(S.segments.length===E.length){if(!tr(S.segments,E)||!Oi(S.segments,E,H))return!1;for(const q in M.children)if(!S.children[q]||!wn(S.children[q],M.children[q],H))return!1;return!0}{const q=E.slice(0,S.segments.length),he=E.slice(S.segments.length);return!!(tr(S.segments,q)&&Oi(S.segments,q,H)&&S.children[Ht])&&$n(S.children[Ht],M,he,H)}}function Oi(S,M,E){return M.every((H,q)=>An[E](S[q].parameters,H.parameters))}class Yn{constructor(M=new kn([],{}),E={},H=null){this.root=M,this.queryParams=E,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Un(this.queryParams)),this._queryParamMap}toString(){return vr.serialize(this)}}class kn{constructor(M,E){this.segments=M,this.children=E,this.parent=null,Ie(E,(H,q)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sr(this)}}class bi{constructor(M,E){this.path=M,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Un(this.parameters)),this._parameterMap}toString(){return ze(this)}}function tr(S,M){return S.length===M.length&&S.every((E,H)=>E.path===M[H].path)}let Ur=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:function(){return new mi},providedIn:"root"}),S})();class mi{parse(M){const E=new je(M);return new Yn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(M){const E=`/${Ft(M.root,!0)}`,H=function be(S){const M=Object.keys(S).map(E=>{const H=S[E];return Array.isArray(H)?H.map(q=>`${Fe(E)}=${Fe(q)}`).join("&"):`${Fe(E)}=${Fe(H)}`}).filter(E=>!!E);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${E}${H}${"string"==typeof M.fragment?`#${function wt(S){return encodeURI(S)}(M.fragment)}`:""}`}}const vr=new mi;function sr(S){return S.segments.map(M=>ze(M)).join("/")}function Ft(S,M){if(!S.hasChildren())return sr(S);if(M){const E=S.children[Ht]?Ft(S.children[Ht],!1):"",H=[];return Ie(S.children,(q,he)=>{he!==Ht&&H.push(`${he}:${Ft(q,!1)}`)}),H.length>0?`${E}(${H.join("//")})`:E}{const E=function gi(S,M){let E=[];return Ie(S.children,(H,q)=>{q===Ht&&(E=E.concat(M(H,q)))}),Ie(S.children,(H,q)=>{q!==Ht&&(E=E.concat(M(H,q)))}),E}(S,(H,q)=>q===Ht?[Ft(S.children[Ht],!1)]:[`${q}:${Ft(H,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Ht]?`${sr(S)}/${E[0]}`:`${sr(S)}/(${E.join("//")})`}}function me(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fe(S){return me(S).replace(/%3B/gi,";")}function an(S){return me(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bn(S){return decodeURIComponent(S)}function Ni(S){return Bn(S.replace(/\+/g,"%20"))}function ze(S){return`${an(S.path)}${function Ue(S){return Object.keys(S).map(M=>`;${an(M)}=${an(S[M])}`).join("")}(S.parameters)}`}const De=/^[^\/()?;=#]+/;function fe(S){const M=S.match(De);return M?M[0]:""}const pt=/^[^=?&#]+/,bn=/^[^&#]+/;class je{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(M.length>0||Object.keys(E).length>0)&&(H[Ht]=new kn(M,E)),H}parseSegment(){const M=fe(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new p.vHH(4009,Ne);return this.capture(M),new bi(Bn(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const E=fe(this.remaining);if(!E)return;this.capture(E);let H="";if(this.consumeOptional("=")){const q=fe(this.remaining);q&&(H=q,this.capture(H))}M[Bn(E)]=Bn(H)}parseQueryParam(M){const E=function Gt(S){const M=S.match(pt);return M?M[0]:""}(this.remaining);if(!E)return;this.capture(E);let H="";if(this.consumeOptional("=")){const P=function $e(S){const M=S.match(bn);return M?M[0]:""}(this.remaining);P&&(H=P,this.capture(H))}const q=Ni(E),he=Ni(H);if(M.hasOwnProperty(q)){let P=M[q];Array.isArray(P)||(P=[P],M[q]=P),P.push(he)}else M[q]=he}parseParens(M){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=fe(this.remaining),q=this.remaining[H.length];if("/"!==q&&")"!==q&&";"!==q)throw new p.vHH(4010,Ne);let he;H.indexOf(":")>-1?(he=H.slice(0,H.indexOf(":")),this.capture(he),this.capture(":")):M&&(he=Ht);const P=this.parseChildren();E[he]=1===Object.keys(P).length?P[Ht]:new kn([],P),this.consumeOptional("//")}return E}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new p.vHH(4011,Ne)}}function Me(S){return S.segments.length>0?new kn([],{[Ht]:S}):S}function nt(S){const M={};for(const H of Object.keys(S.children)){const he=nt(S.children[H]);(he.segments.length>0||he.hasChildren())&&(M[H]=he)}return function Lt(S){if(1===S.numberOfChildren&&S.children[Ht]){const M=S.children[Ht];return new kn(S.segments.concat(M.segments),M.children)}return S}(new kn(S.segments,M))}function qt(S){return S instanceof Yn}function Xt(S,M,E,H,q){if(0===E.length)return _i(M.root,M.root,M.root,H,q);const he=function br(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Rr(!0,0,S);let M=0,E=!1;const H=S.reduce((q,he,P)=>{if("object"==typeof he&&null!=he){if(he.outlets){const T={};return Ie(he.outlets,(O,Q)=>{T[Q]="string"==typeof O?O.split("/"):O}),[...q,{outlets:T}]}if(he.segmentPath)return[...q,he.segmentPath]}return"string"!=typeof he?[...q,he]:0===P?(he.split("/").forEach((T,O)=>{0==O&&"."===T||(0==O&&""===T?E=!0:".."===T?M++:""!=T&&q.push(T))}),q):[...q,he]},[]);return new Rr(E,M,H)}(E);return he.toRoot()?_i(M.root,M.root,new kn([],{}),H,q):function P(O){const Q=function Pr(S,M,E,H){if(S.isAbsolute)return new Hn(M.root,!0,0);if(-1===H)return new Hn(E,E===M.root,0);return function Ts(S,M,E){let H=S,q=M,he=E;for(;he>q;){if(he-=q,H=H.parent,!H)throw new p.vHH(4005,!1);q=H.segments.length}return new Hn(H,!1,q-he)}(E,H+(Nn(S.commands[0])?0:1),S.numberOfDoubleDots)}(he,M,S.snapshot?._urlSegment,O),ue=Q.processChildren?fn(Q.segmentGroup,Q.index,he.commands):Zr(Q.segmentGroup,Q.index,he.commands);return _i(M.root,Q.segmentGroup,ue,H,q)}(S.snapshot?._lastPathIndex)}function Nn(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function qn(S){return"object"==typeof S&&null!=S&&S.outlets}function _i(S,M,E,H,q){let P,he={};H&&Ie(H,(O,Q)=>{he[Q]=Array.isArray(O)?O.map(ue=>`${ue}`):`${O}`}),P=S===M?E:Mi(S,M,E);const T=Me(nt(P));return new Yn(T,he,q)}function Mi(S,M,E){const H={};return Ie(S.children,(q,he)=>{H[he]=q===M?E:Mi(q,M,E)}),new kn(S.segments,H)}class Rr{constructor(M,E,H){if(this.isAbsolute=M,this.numberOfDoubleDots=E,this.commands=H,M&&H.length>0&&Nn(H[0]))throw new p.vHH(4003,!1);const q=H.find(qn);if(q&&q!==ht(H))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hn{constructor(M,E,H){this.segmentGroup=M,this.processChildren=E,this.index=H}}function Zr(S,M,E){if(S||(S=new kn([],{})),0===S.segments.length&&S.hasChildren())return fn(S,M,E);const H=function Ti(S,M,E){let H=0,q=M;const he={match:!1,pathIndex:0,commandIndex:0};for(;q<S.segments.length;){if(H>=E.length)return he;const P=S.segments[q],T=E[H];if(qn(T))break;const O=`${T}`,Q=H<E.length-1?E[H+1]:null;if(q>0&&void 0===O)break;if(O&&Q&&"object"==typeof Q&&void 0===Q.outlets){if(!Pe(O,Q,P))return he;H+=2}else{if(!Pe(O,{},P))return he;H++}q++}return{match:!0,pathIndex:q,commandIndex:H}}(S,M,E),q=E.slice(H.commandIndex);if(H.match&&H.pathIndex<S.segments.length){const he=new kn(S.segments.slice(0,H.pathIndex),{});return he.children[Ht]=new kn(S.segments.slice(H.pathIndex),S.children),fn(he,0,q)}return H.match&&0===q.length?new kn(S.segments,{}):H.match&&!S.hasChildren()?pr(S,M,E):H.match?fn(S,0,q):pr(S,M,E)}function fn(S,M,E){if(0===E.length)return new kn(S.segments,{});{const H=function Kr(S){return qn(S[0])?S[0].outlets:{[Ht]:S}}(E),q={};return!H[Ht]&&S.children[Ht]&&1===S.numberOfChildren&&0===S.children[Ht].segments.length?fn(S.children[Ht],M,E):(Ie(H,(he,P)=>{"string"==typeof he&&(he=[he]),null!==he&&(q[P]=Zr(S.children[P],M,he))}),Ie(S.children,(he,P)=>{void 0===H[P]&&(q[P]=he)}),new kn(S.segments,q))}}function pr(S,M,E){const H=S.segments.slice(0,M);let q=0;for(;q<E.length;){const he=E[q];if(qn(he)){const O=Fi(he.outlets);return new kn(H,O)}if(0===q&&Nn(E[0])){H.push(new bi(S.segments[M].path,ys(E[0]))),q++;continue}const P=qn(he)?he.outlets[Ht]:`${he}`,T=q<E.length-1?E[q+1]:null;P&&T&&Nn(T)?(H.push(new bi(P,ys(T))),q+=2):(H.push(new bi(P,{})),q++)}return new kn(H,{})}function Fi(S){const M={};return Ie(S,(E,H)=>{"string"==typeof E&&(E=[E]),null!==E&&(M[H]=pr(new kn([],{}),0,E))}),M}function ys(S){const M={};return Ie(S,(E,H)=>M[H]=`${E}`),M}function Pe(S,M,E){return S==E.path&&si(M,E.parameters)}const Kt="imperative";class B{constructor(M,E){this.id=M,this.url=E}}class Se extends B{constructor(M,E,H="imperative",q=null){super(M,E),this.type=0,this.navigationTrigger=H,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ze extends B{constructor(M,E,H){super(M,E),this.urlAfterRedirects=H,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ke extends B{constructor(M,E,H,q){super(M,E),this.reason=H,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mn extends B{constructor(M,E,H,q){super(M,E),this.reason=H,this.code=q,this.type=16}}class Gn extends B{constructor(M,E,H,q){super(M,E),this.error=H,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ur extends B{constructor(M,E,H,q){super(M,E),this.urlAfterRedirects=H,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $i extends B{constructor(M,E,H,q){super(M,E),this.urlAfterRedirects=H,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends B{constructor(M,E,H,q,he){super(M,E),this.urlAfterRedirects=H,this.state=q,this.shouldActivate=he,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hr extends B{constructor(M,E,H,q){super(M,E),this.urlAfterRedirects=H,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr extends B{constructor(M,E,H,q){super(M,E),this.urlAfterRedirects=H,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hs{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cr{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class at{constructor(M,E,H){this.routerEvent=M,this.position=E,this.anchor=H,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let zt=(()=>{class S{createUrlTree(E,H,q,he,P,T){return Xt(E||H.root,q,he,P,T)}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac}),S})(),ci=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:function(M){return zt.\u0275fac(M)},providedIn:"root"}),S})();class Ei{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const E=this.pathFromRoot(M);return E.length>1?E[E.length-2]:null}children(M){const E=Di(M,this._root);return E?E.children.map(H=>H.value):[]}firstChild(M){const E=Di(M,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(M){const E=ji(M,this._root);return E.length<2?[]:E[E.length-2].children.map(q=>q.value).filter(q=>q!==M)}pathFromRoot(M){return ji(M,this._root).map(E=>E.value)}}function Di(S,M){if(S===M.value)return M;for(const E of M.children){const H=Di(S,E);if(H)return H}return null}function ji(S,M){if(S===M.value)return[M];for(const E of M.children){const H=ji(S,E);if(H.length)return H.unshift(M),H}return[]}class Xr{constructor(M,E){this.value=M,this.children=E}toString(){return`TreeNode(${this.value})`}}function us(S){const M={};return S&&S.children.forEach(E=>M[E.value.outlet]=E),M}class nr extends Ei{constructor(M,E){super(M),this.snapshot=E,Ia(this,M)}toString(){return this.snapshot.toString()}}function qs(S,M){const E=function qo(S,M){const P=new Oo([],{},{},"",{},Ht,M,null,S.root,-1,{});return new Mo("",new Xr(P,[]))}(S,M),H=new Te.X([new bi("",{})]),q=new Te.X({}),he=new Te.X({}),P=new Te.X({}),T=new Te.X(""),O=new uo(H,q,P,T,he,Ht,M,E.root);return O.snapshot=E.root,new nr(new Xr(O,[]),E)}class uo{constructor(M,E,H,q,he,P,T,O){this.url=M,this.params=E,this.queryParams=H,this.fragment=q,this.data=he,this.outlet=P,this.component=T,this.title=this.data?.pipe((0,oe.U)(Q=>Q[Fn]))??(0,V.of)(void 0),this._futureSnapshot=O}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,oe.U)(M=>Un(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,oe.U)(M=>Un(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dr(S,M="emptyOnly"){const E=S.pathFromRoot;let H=0;if("always"!==M)for(H=E.length-1;H>=1;){const q=E[H],he=E[H-1];if(q.routeConfig&&""===q.routeConfig.path)H--;else{if(he.component)break;H--}}return function dl(S){return S.reduce((M,E)=>({params:{...M.params,...E.params},data:{...M.data,...E.data},resolve:{...E.data,...M.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(H))}class Oo{get title(){return this.data?.[Fn]}constructor(M,E,H,q,he,P,T,O,Q,ue,Ve){this.url=M,this.params=E,this.queryParams=H,this.fragment=q,this.data=he,this.outlet=P,this.component=T,this.routeConfig=O,this._urlSegment=Q,this._lastPathIndex=ue,this._resolve=Ve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mo extends Ei{constructor(M,E){super(E),this.url=M,Ia(this,E)}toString(){return Aa(this._root)}}function Ia(S,M){M.value._routerState=S,M.children.forEach(E=>Ia(S,E))}function Aa(S){const M=S.children.length>0?` { ${S.children.map(Aa).join(", ")} } `:"";return`${S.value}${M}`}function yl(S){if(S.snapshot){const M=S.snapshot,E=S._futureSnapshot;S.snapshot=E,si(M.queryParams,E.queryParams)||S.queryParams.next(E.queryParams),M.fragment!==E.fragment&&S.fragment.next(E.fragment),si(M.params,E.params)||S.params.next(E.params),function Pi(S,M){if(S.length!==M.length)return!1;for(let E=0;E<S.length;++E)if(!si(S[E],M[E]))return!1;return!0}(M.url,E.url)||S.url.next(E.url),si(M.data,E.data)||S.data.next(E.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Oa(S,M){const E=si(S.params,M.params)&&function Gi(S,M){return tr(S,M)&&S.every((E,H)=>si(E.parameters,M[H].parameters))}(S.url,M.url);return E&&!(!S.parent!=!M.parent)&&(!S.parent||Oa(S.parent,M.parent))}function ua(S,M,E){if(E&&S.shouldReuseRoute(M.value,E.value.snapshot)){const H=E.value;H._futureSnapshot=M.value;const q=function Gs(S,M,E){return M.children.map(H=>{for(const q of E.children)if(S.shouldReuseRoute(H.value,q.value.snapshot))return ua(S,H,q);return ua(S,H)})}(S,M,E);return new Xr(H,q)}{if(S.shouldAttach(M.value)){const he=S.retrieve(M.value);if(null!==he){const P=he.route;return P.value._futureSnapshot=M.value,P.children=M.children.map(T=>ua(S,T)),P}}const H=function js(S){return new uo(new Te.X(S.url),new Te.X(S.params),new Te.X(S.queryParams),new Te.X(S.fragment),new Te.X(S.data),S.outlet,S.component,S)}(M.value),q=M.children.map(he=>ua(S,he));return new Xr(H,q)}}const Ma="ngNavigationCancelingError";function No(S,M){const{redirectTo:E,navigationBehaviorOptions:H}=qt(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,q=da(!1,0,M);return q.url=E,q.navigationBehaviorOptions=H,q}function da(S,M,E){const H=new Error("NavigationCancelingError: "+(S||""));return H[Ma]=!0,H.cancellationCode=M,E&&(H.url=E),H}function Qo(S){return vo(S)&&qt(S.url)}function vo(S){return S&&S[Ma]}class Jo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ds,this.attachRef=null}}let Ds=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(E,H){const q=this.getOrCreateContext(E);q.outlet=H,this.contexts.set(E,q)}onChildOutletDestroyed(E){const H=this.getContext(E);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let H=this.getContext(E);return H||(H=new Jo,this.contexts.set(E,H)),H}getContext(E){return this.contexts.get(E)||null}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Wa=!1;let ha=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Ds),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(E){if(E.name){const{firstChange:H,previousValue:q}=E.name;if(H)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Wa);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Wa);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Wa);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,H){this.activated=E,this._activatedRoute=H,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,H){if(this.isActivated)throw new p.vHH(4013,Wa);this._activatedRoute=E;const q=this.location,P=E.snapshot.component,T=this.parentContexts.getOrCreateContext(this.name).children,O=new Na(E,T,q.injector);if(H&&function hl(S){return!!S.resolveComponentFactory}(H)){const Q=H.resolveComponentFactory(P);this.activated=q.createComponent(Q,q.length,O)}else this.activated=q.createComponent(P,{index:q.length,injector:O,environmentInjector:H??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275dir=p.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),S})();class Na{constructor(M,E,H){this.route=M,this.childContexts=E,this.parent=H}get(M,E){return M===uo?this.route:M===Ds?this.childContexts:this.parent.get(M,E)}}let xs=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275cmp=p.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(E,H){1&E&&p._UZ(0,"router-outlet")},dependencies:[ha],encapsulation:2}),S})();function ho(S,M){return S.providers&&!S._injector&&(S._injector=(0,p.MMx)(S.providers,M,`Route: ${S.path}`)),S._injector??M}function fo(S){const M=S.children&&S.children.map(fo),E=M?{...S,children:M}:{...S};return!E.component&&!E.loadComponent&&(M||E.loadChildren)&&E.outlet&&E.outlet!==Ht&&(E.component=xs),E}function jr(S){return S.outlet||Ht}function Yr(S,M){const E=S.filter(H=>jr(H)===M);return E.push(...S.filter(H=>jr(H)!==M)),E}function Qs(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let M=S.parent;M;M=M.parent){const E=M.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Bi{constructor(M,E,H,q){this.routeReuseStrategy=M,this.futureState=E,this.currState=H,this.forwardEvent=q}activate(M){const E=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,H,M),yl(this.futureState.root),this.activateChildRoutes(E,H,M)}deactivateChildRoutes(M,E,H){const q=us(E);M.children.forEach(he=>{const P=he.value.outlet;this.deactivateRoutes(he,q[P],H),delete q[P]}),Ie(q,(he,P)=>{this.deactivateRouteAndItsChildren(he,H)})}deactivateRoutes(M,E,H){const q=M.value,he=E?E.value:null;if(q===he)if(q.component){const P=H.getContext(q.outlet);P&&this.deactivateChildRoutes(M,E,P.children)}else this.deactivateChildRoutes(M,E,H);else he&&this.deactivateRouteAndItsChildren(E,H)}deactivateRouteAndItsChildren(M,E){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,E):this.deactivateRouteAndOutlet(M,E)}detachAndStoreRouteSubtree(M,E){const H=E.getContext(M.value.outlet),q=H&&M.value.component?H.children:E,he=us(M);for(const P of Object.keys(he))this.deactivateRouteAndItsChildren(he[P],q);if(H&&H.outlet){const P=H.outlet.detach(),T=H.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:P,route:M,contexts:T})}}deactivateRouteAndOutlet(M,E){const H=E.getContext(M.value.outlet),q=H&&M.value.component?H.children:E,he=us(M);for(const P of Object.keys(he))this.deactivateRouteAndItsChildren(he[P],q);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(M,E,H){const q=us(E);M.children.forEach(he=>{this.activateRoutes(he,q[he.value.outlet],H),this.forwardEvent(new Sr(he.value.snapshot))}),M.children.length&&this.forwardEvent(new ii(M.value.snapshot))}activateRoutes(M,E,H){const q=M.value,he=E?E.value:null;if(yl(q),q===he)if(q.component){const P=H.getOrCreateContext(q.outlet);this.activateChildRoutes(M,E,P.children)}else this.activateChildRoutes(M,E,H);else if(q.component){const P=H.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const T=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),P.children.onOutletReAttached(T.contexts),P.attachRef=T.componentRef,P.route=T.route.value,P.outlet&&P.outlet.attach(T.componentRef,T.route.value),yl(T.route.value),this.activateChildRoutes(M,null,P.children)}else{const T=Qs(q.snapshot),O=T?.get(p._Vd)??null;P.attachRef=null,P.route=q,P.resolver=O,P.injector=T,P.outlet&&P.outlet.activateWith(q,P.injector),this.activateChildRoutes(M,null,P.children)}}else this.activateChildRoutes(M,null,H)}}class gr{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class As{constructor(M,E){this.component=M,this.route=E}}function Xo(S,M,E){const H=S._root;return po(H,M?M._root:null,E,[H.value])}function Os(S,M){const E=Symbol(),H=M.get(S,E);return H===E?"function"!=typeof S||(0,p.Z0I)(S)?M.get(S):S:H}function po(S,M,E,H,q={canDeactivateChecks:[],canActivateChecks:[]}){const he=us(M);return S.children.forEach(P=>{(function ko(S,M,E,H,q={canDeactivateChecks:[],canActivateChecks:[]}){const he=S.value,P=M?M.value:null,T=E?E.getContext(S.value.outlet):null;if(P&&he.routeConfig===P.routeConfig){const O=function ui(S,M,E){if("function"==typeof E)return E(S,M);switch(E){case"pathParamsChange":return!tr(S.url,M.url);case"pathParamsOrQueryParamsChange":return!tr(S.url,M.url)||!si(S.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oa(S,M)||!si(S.queryParams,M.queryParams);default:return!Oa(S,M)}}(P,he,he.routeConfig.runGuardsAndResolvers);O?q.canActivateChecks.push(new gr(H)):(he.data=P.data,he._resolvedData=P._resolvedData),po(S,M,he.component?T?T.children:null:E,H,q),O&&T&&T.outlet&&T.outlet.isActivated&&q.canDeactivateChecks.push(new As(T.outlet.component,P))}else P&&Fo(M,T,q),q.canActivateChecks.push(new gr(H)),po(S,null,he.component?T?T.children:null:E,H,q)})(P,he[P.value.outlet],E,H.concat([P.value]),q),delete he[P.value.outlet]}),Ie(he,(P,T)=>Fo(P,E.getContext(T),q)),q}function Fo(S,M,E){const H=us(S),q=S.value;Ie(H,(he,P)=>{Fo(he,q.component?M?M.children.getContext(P):null:M,E)}),E.canDeactivateChecks.push(new As(q.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,q))}function $s(S){return"function"==typeof S}function W(S){return S instanceof L.K||"EmptyError"===S?.name}const ve=Symbol("INITIAL_VALUE");function Tt(){return(0,Je.w)(S=>(0,de.a)(S.map(M=>M.pipe((0,Le.q)(1),(0,Ge.O)(ve)))).pipe((0,oe.U)(M=>{for(const E of M)if(!0!==E){if(E===ve)return ve;if(!1===E||E instanceof Yn)return E}return!0}),(0,Ye.h)(M=>M!==ve),(0,Le.q)(1)))}function rs(S){return(0,ce.z)((0,Dn.b)(M=>{if(qt(M))throw No(0,M)}),(0,oe.U)(M=>!0===M))}const bo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bo(S,M,E,H,q){const he=Al(S,M,E);return he.matched?function ea(S,M,E,H){const q=M.canMatch;if(!q||0===q.length)return(0,V.of)(!0);const he=q.map(P=>{const T=Os(P,S);return ft(function Il(S){return S&&$s(S.canMatch)}(T)?T.canMatch(M,E):S.runInContext(()=>T(M,E)))});return(0,V.of)(he).pipe(Tt(),rs())}(H=ho(M,H),M,E).pipe((0,oe.U)(P=>!0===P?he:{...bo})):(0,V.of)(he)}function Al(S,M,E){if(""===M.path)return"full"===M.pathMatch&&(S.hasChildren()||E.length>0)?{...bo}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const q=(M.matcher||Ii)(E,S,M);if(!q)return{...bo};const he={};Ie(q.posParams,(T,O)=>{he[O]=T.path});const P=q.consumed.length>0?{...he,...q.consumed[q.consumed.length-1].parameters}:he;return{matched:!0,consumedSegments:q.consumed,remainingSegments:E.slice(q.consumed.length),parameters:P,positionalParamSegments:q.posParams??{}}}function go(S,M,E,H){if(E.length>0&&function ts(S,M,E){return E.some(H=>qr(S,M,H)&&jr(H)!==Ht)}(S,E,H)){const he=new kn(M,function es(S,M,E,H){const q={};q[Ht]=H,H._sourceSegment=S,H._segmentIndexShift=M.length;for(const he of E)if(""===he.path&&jr(he)!==Ht){const P=new kn([],{});P._sourceSegment=S,P._segmentIndexShift=M.length,q[jr(he)]=P}return q}(S,M,H,new kn(E,S.children)));return he._sourceSegment=S,he._segmentIndexShift=M.length,{segmentGroup:he,slicedSegments:[]}}if(0===E.length&&function Vo(S,M,E){return E.some(H=>qr(S,M,H))}(S,E,H)){const he=new kn(S.segments,function Rs(S,M,E,H,q){const he={};for(const P of H)if(qr(S,E,P)&&!q[jr(P)]){const T=new kn([],{});T._sourceSegment=S,T._segmentIndexShift=M.length,he[jr(P)]=T}return{...q,...he}}(S,M,E,H,S.children));return he._sourceSegment=S,he._segmentIndexShift=M.length,{segmentGroup:he,slicedSegments:E}}const q=new kn(S.segments,S.children);return q._sourceSegment=S,q._segmentIndexShift=M.length,{segmentGroup:q,slicedSegments:E}}function qr(S,M,E){return(!(S.hasChildren()||M.length>0)||"full"!==E.pathMatch)&&""===E.path}function Fr(S,M,E,H){return!!(jr(S)===H||H!==Ht&&qr(M,E,S))&&("**"===S.path||Al(M,S,E).matched)}function Uo(S,M,E){return 0===M.length&&!S.children[E]}const Wi=!1;class Xs{constructor(M){this.segmentGroup=M||null}}class Pa{constructor(M){this.urlTree=M}}function ns(S){return et(new Xs(S))}function qa(S){return et(new Pa(S))}class ka{constructor(M,E,H,q,he){this.injector=M,this.configLoader=E,this.urlSerializer=H,this.urlTree=q,this.config=he,this.allowRedirects=!0}apply(){const M=go(this.urlTree.root,[],[],this.config).segmentGroup,E=new kn(M.segments,M.children);return this.expandSegmentGroup(this.injector,this.config,E,Ht).pipe((0,oe.U)(he=>this.createUrlTree(nt(he),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ln(he=>{if(he instanceof Pa)return this.allowRedirects=!1,this.match(he.urlTree);throw he instanceof Xs?this.noMatchError(he):he}))}match(M){return this.expandSegmentGroup(this.injector,this.config,M.root,Ht).pipe((0,oe.U)(q=>this.createUrlTree(nt(q),M.queryParams,M.fragment))).pipe(ln(q=>{throw q instanceof Xs?this.noMatchError(q):q}))}noMatchError(M){return new p.vHH(4002,Wi)}createUrlTree(M,E,H){const q=Me(M);return new Yn(q,E,H)}expandSegmentGroup(M,E,H,q){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(M,E,H).pipe((0,oe.U)(he=>new kn([],he))):this.expandSegment(M,H,E,H.segments,q,!0)}expandChildren(M,E,H){const q=[];for(const he of Object.keys(H.children))"primary"===he?q.unshift(he):q.push(he);return(0,l.D)(q).pipe((0,Yt.b)(he=>{const P=H.children[he],T=Yr(E,he);return this.expandSegmentGroup(M,T,P,he).pipe((0,oe.U)(O=>({segment:O,outlet:he})))}),(0,It.R)((he,P)=>(he[P.outlet]=P.segment,he),{}),rt())}expandSegment(M,E,H,q,he,P){return(0,l.D)(H).pipe((0,Yt.b)(T=>this.expandSegmentAgainstRoute(M,E,H,T,q,he,P).pipe(ln(Q=>{if(Q instanceof Xs)return(0,V.of)(null);throw Q}))),(0,pn.P)(T=>!!T),ln((T,O)=>{if(W(T))return Uo(E,q,he)?(0,V.of)(new kn([],{})):ns(E);throw T}))}expandSegmentAgainstRoute(M,E,H,q,he,P,T){return Fr(q,E,he,P)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(M,E,q,he,P):T&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,E,H,q,he,P):ns(E):ns(E)}expandSegmentAgainstRouteUsingRedirect(M,E,H,q,he,P){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,H,q,P):this.expandRegularSegmentAgainstRouteUsingRedirect(M,E,H,q,he,P)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,E,H,q){const he=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?qa(he):this.lineralizeSegments(H,he).pipe((0,Vt.z)(P=>{const T=new kn(P,{});return this.expandSegment(M,T,E,P,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,E,H,q,he,P){const{matched:T,consumedSegments:O,remainingSegments:Q,positionalParamSegments:ue}=Al(E,q,he);if(!T)return ns(E);const Ve=this.applyRedirectCommands(O,q.redirectTo,ue);return q.redirectTo.startsWith("/")?qa(Ve):this.lineralizeSegments(q,Ve).pipe((0,Vt.z)(Ct=>this.expandSegment(M,E,H,Ct.concat(Q),P,!1)))}matchSegmentAgainstRoute(M,E,H,q,he){return"**"===H.path?(M=ho(H,M),H.loadChildren?(H._loadedRoutes?(0,V.of)({routes:H._loadedRoutes,injector:H._loadedInjector}):this.configLoader.loadChildren(M,H)).pipe((0,oe.U)(T=>(H._loadedRoutes=T.routes,H._loadedInjector=T.injector,new kn(q,{})))):(0,V.of)(new kn(q,{}))):Bo(E,H,q,M).pipe((0,Je.w)(({matched:P,consumedSegments:T,remainingSegments:O})=>P?this.getChildConfig(M=H._injector??M,H,q).pipe((0,Vt.z)(ue=>{const Ve=ue.injector??M,Ct=ue.routes,{segmentGroup:vn,slicedSegments:Wn}=go(E,T,O,Ct),ri=new kn(vn.segments,vn.children);if(0===Wn.length&&ri.hasChildren())return this.expandChildren(Ve,Ct,ri).pipe((0,oe.U)(ps=>new kn(T,ps)));if(0===Ct.length&&0===Wn.length)return(0,V.of)(new kn(T,{}));const di=jr(H)===he;return this.expandSegment(Ve,ri,Ct,Wn,di?Ht:he,!0).pipe((0,oe.U)(fs=>new kn(T.concat(fs.segments),fs.children)))})):ns(E)))}getChildConfig(M,E,H){return E.children?(0,V.of)({routes:E.children,injector:M}):E.loadChildren?void 0!==E._loadedRoutes?(0,V.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function vs(S,M,E,H){const q=M.canLoad;if(void 0===q||0===q.length)return(0,V.of)(!0);const he=q.map(P=>{const T=Os(P,S);return ft(function bl(S){return S&&$s(S.canLoad)}(T)?T.canLoad(M,E):S.runInContext(()=>T(M,E)))});return(0,V.of)(he).pipe(Tt(),rs())}(M,E,H).pipe((0,Vt.z)(q=>q?this.configLoader.loadChildren(M,E).pipe((0,Dn.b)(he=>{E._loadedRoutes=he.routes,E._loadedInjector=he.injector})):function mo(S){return et(da(Wi,3))}())):(0,V.of)({routes:[],injector:M})}lineralizeSegments(M,E){let H=[],q=E.root;for(;;){if(H=H.concat(q.segments),0===q.numberOfChildren)return(0,V.of)(H);if(q.numberOfChildren>1||!q.children[Ht])return et(new p.vHH(4e3,Wi));q=q.children[Ht]}}applyRedirectCommands(M,E,H){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),M,H)}applyRedirectCreateUrlTree(M,E,H,q){const he=this.createSegmentGroup(M,E.root,H,q);return new Yn(he,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(M,E){const H={};return Ie(M,(q,he)=>{if("string"==typeof q&&q.startsWith(":")){const T=q.substring(1);H[he]=E[T]}else H[he]=q}),H}createSegmentGroup(M,E,H,q){const he=this.createSegments(M,E.segments,H,q);let P={};return Ie(E.children,(T,O)=>{P[O]=this.createSegmentGroup(M,T,H,q)}),new kn(he,P)}createSegments(M,E,H,q){return E.map(he=>he.path.startsWith(":")?this.findPosParam(M,he,q):this.findOrReturn(he,H))}findPosParam(M,E,H){const q=H[E.path.substring(1)];if(!q)throw new p.vHH(4001,Wi);return q}findOrReturn(M,E){let H=0;for(const q of E){if(q.path===M.path)return E.splice(H),q;H++}return M}}class Vi{}class ga{constructor(M,E,H,q,he,P,T){this.injector=M,this.rootComponentType=E,this.config=H,this.urlTree=q,this.url=he,this.paramsInheritanceStrategy=P,this.urlSerializer=T}recognize(){const M=go(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Ht).pipe((0,oe.U)(E=>{if(null===E)return null;const H=new Oo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new Xr(H,E),he=new Mo(this.url,q);return this.inheritParamsAndData(he._root),he}))}inheritParamsAndData(M){const E=M.value,H=dr(E,this.paramsInheritanceStrategy);E.params=Object.freeze(H.params),E.data=Object.freeze(H.data),M.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(M,E,H,q){return 0===H.segments.length&&H.hasChildren()?this.processChildren(M,E,H):this.processSegment(M,E,H,H.segments,q)}processChildren(M,E,H){return(0,l.D)(Object.keys(H.children)).pipe((0,Yt.b)(q=>{const he=H.children[q],P=Yr(E,q);return this.processSegmentGroup(M,P,he,q)}),(0,It.R)((q,he)=>q&&he?(q.push(...he),q):null),function Bt(S,M=!1){return(0,xt.e)((E,H)=>{let q=0;E.subscribe((0,Be.x)(H,he=>{const P=S(he,q++);(P||M)&&H.next(he),!P&&H.complete()}))})}(q=>null!==q),(0,Nt.d)(null),rt(),(0,oe.U)(q=>{if(null===q)return null;const he=bs(q);return function Xa(S){S.sort((M,E)=>M.value.outlet===Ht?-1:E.value.outlet===Ht?1:M.value.outlet.localeCompare(E.value.outlet))}(he),he}))}processSegment(M,E,H,q,he){return(0,l.D)(E).pipe((0,Yt.b)(P=>this.processSegmentAgainstRoute(P._injector??M,P,H,q,he)),(0,pn.P)(P=>!!P),ln(P=>{if(W(P))return Uo(H,q,he)?(0,V.of)([]):(0,V.of)(null);throw P}))}processSegmentAgainstRoute(M,E,H,q,he){if(E.redirectTo||!Fr(E,H,q,he))return(0,V.of)(null);let P;if("**"===E.path){const T=q.length>0?ht(q).parameters:{},O=te(H)+q.length,Q=new Oo(q,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pe(E),jr(E),E.component??E._loadedComponent??null,E,U(H),O,We(E));P=(0,V.of)({snapshot:Q,consumedSegments:[],remainingSegments:[]})}else P=Bo(H,E,q,M).pipe((0,oe.U)(({matched:T,consumedSegments:O,remainingSegments:Q,parameters:ue})=>{if(!T)return null;const Ve=te(H)+O.length;return{snapshot:new Oo(O,ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pe(E),jr(E),E.component??E._loadedComponent??null,E,U(H),Ve,We(E)),consumedSegments:O,remainingSegments:Q}}));return P.pipe((0,Je.w)(T=>{if(null===T)return(0,V.of)(null);const{snapshot:O,consumedSegments:Q,remainingSegments:ue}=T;M=E._injector??M;const Ve=E._loadedInjector??M,Ct=function Qr(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(E),{segmentGroup:vn,slicedSegments:Wn}=go(H,Q,ue,Ct.filter(di=>void 0===di.redirectTo));if(0===Wn.length&&vn.hasChildren())return this.processChildren(Ve,Ct,vn).pipe((0,oe.U)(di=>null===di?null:[new Xr(O,di)]));if(0===Ct.length&&0===Wn.length)return(0,V.of)([new Xr(O,[])]);const ri=jr(E)===he;return this.processSegment(Ve,Ct,vn,Wn,ri?Ht:he).pipe((0,oe.U)(di=>null===di?null:[new Xr(O,di)]))}))}}function Ks(S){const M=S.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function bs(S){const M=[],E=new Set;for(const H of S){if(!Ks(H)){M.push(H);continue}const q=M.find(he=>H.value.routeConfig===he.value.routeConfig);void 0!==q?(q.children.push(...H.children),E.add(q)):M.push(H)}for(const H of E){const q=bs(H.children);M.push(new Xr(H.value,q))}return M.filter(H=>!E.has(H))}function U(S){let M=S;for(;M._sourceSegment;)M=M._sourceSegment;return M}function te(S){let M=S,E=M._segmentIndexShift??0;for(;M._sourceSegment;)M=M._sourceSegment,E+=M._segmentIndexShift??0;return E-1}function pe(S){return S.data||{}}function We(S){return S.resolve||{}}function Ri(S){return"string"==typeof S.title||null===S.title}function Mr(S){return(0,Je.w)(M=>{const E=S(M);return E?(0,l.D)(E).pipe((0,oe.U)(()=>M)):(0,V.of)(M)})}const sn=new p.OlP("ROUTES");let qi=(()=>{class S{constructor(E,H){this.injector=E,this.compiler=H,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,V.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const H=ft(E.loadComponent()).pipe((0,oe.U)(eo),(0,Dn.b)(he=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=he}),$t(()=>{this.componentLoaders.delete(E)})),q=new ge(H,()=>new Xe.x).pipe(it());return this.componentLoaders.set(E,q),q}loadChildren(E,H){if(this.childrenLoaders.get(H))return this.childrenLoaders.get(H);if(H._loadedRoutes)return(0,V.of)({routes:H._loadedRoutes,injector:H._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(H);const he=this.loadModuleFactoryOrRoutes(H.loadChildren).pipe((0,oe.U)(T=>{this.onLoadEndListener&&this.onLoadEndListener(H);let O,Q,ue=!1;Array.isArray(T)?Q=T:(O=T.create(E).injector,Q=er(O.get(sn,[],p.XFs.Self|p.XFs.Optional)));return{routes:Q.map(fo),injector:O}}),$t(()=>{this.childrenLoaders.delete(H)})),P=new ge(he,()=>new Xe.x).pipe(it());return this.childrenLoaders.set(H,P),P}loadModuleFactoryOrRoutes(E){return ft(E()).pipe((0,oe.U)(eo),(0,Vt.z)(q=>q instanceof p.YKP||Array.isArray(q)?(0,V.of)(q):(0,l.D)(this.compiler.compileModuleAsync(q))))}}return S.\u0275fac=function(E){return new(E||S)(p.LFG(p.zs3),p.LFG(p.Sil))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function eo(S){return function _r(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Mn=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xe.x,this.configLoader=(0,p.f3M)(qi),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Ur),this.rootContexts=(0,p.f3M)(Ds),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new Hs(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new Ar(q))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const H=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:H})}setupNavigations(E){return this.transitions=new Te.X({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kt,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ye.h)(H=>0!==H.id),(0,oe.U)(H=>({...H,extractedUrl:E.urlHandlingStrategy.extract(H.rawUrl)})),(0,Je.w)(H=>{let q=!1,he=!1;return(0,V.of)(H).pipe((0,Dn.b)(P=>{this.currentNavigation={id:P.id,initialUrl:P.rawUrl,extractedUrl:P.extractedUrl,trigger:P.source,extras:P.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(P=>{const T=E.browserUrlTree.toString(),O=!E.navigated||P.extractedUrl.toString()!==T||T!==E.currentUrlTree.toString();if(!O&&"reload"!==(P.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const ue="";return this.events.next(new mn(P.id,E.serializeUrl(H.rawUrl),ue,0)),E.rawUrlTree=P.rawUrl,P.resolve(null),ut.E}if(E.urlHandlingStrategy.shouldProcessUrl(P.rawUrl))return Ms(P.source)&&(E.browserUrlTree=P.extractedUrl),(0,V.of)(P).pipe((0,Je.w)(ue=>{const Ve=this.transitions?.getValue();return this.events.next(new Se(ue.id,this.urlSerializer.serialize(ue.extractedUrl),ue.source,ue.restoredState)),Ve!==this.transitions?.getValue()?ut.E:Promise.resolve(ue)}),function Or(S,M,E,H){return(0,Je.w)(q=>function Ja(S,M,E,H,q){return new ka(S,M,E,H,q).apply()}(S,M,E,q.extractedUrl,H).pipe((0,oe.U)(he=>({...q,urlAfterRedirects:he}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),(0,Dn.b)(ue=>{this.currentNavigation={...this.currentNavigation,finalUrl:ue.urlAfterRedirects},H.urlAfterRedirects=ue.urlAfterRedirects}),function kt(S,M,E,H,q){return(0,Vt.z)(he=>function ta(S,M,E,H,q,he,P="emptyOnly"){return new ga(S,M,E,H,q,P,he).recognize().pipe((0,Je.w)(T=>null===T?function Fa(S){return new ie.y(M=>M.error(S))}(new Vi):(0,V.of)(T)))}(S,M,E,he.urlAfterRedirects,H.serialize(he.urlAfterRedirects),H,q).pipe((0,oe.U)(P=>({...he,targetSnapshot:P}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,Dn.b)(ue=>{if(H.targetSnapshot=ue.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!ue.extras.skipLocationChange){const Ct=E.urlHandlingStrategy.merge(ue.urlAfterRedirects,ue.rawUrl);E.setBrowserUrl(Ct,ue)}E.browserUrlTree=ue.urlAfterRedirects}const Ve=new ur(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot);this.events.next(Ve)}));if(O&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:ue,extractedUrl:Ve,source:Ct,restoredState:vn,extras:Wn}=P,ri=new Se(ue,this.urlSerializer.serialize(Ve),Ct,vn);this.events.next(ri);const di=qs(Ve,this.rootComponentType).snapshot;return H={...P,targetSnapshot:di,urlAfterRedirects:Ve,extras:{...Wn,skipLocationChange:!1,replaceUrl:!1}},(0,V.of)(H)}{const ue="";return this.events.next(new mn(P.id,E.serializeUrl(H.extractedUrl),ue,1)),E.rawUrlTree=P.rawUrl,P.resolve(null),ut.E}}),(0,Dn.b)(P=>{const T=new $i(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot);this.events.next(T)}),(0,oe.U)(P=>H={...P,guards:Xo(P.targetSnapshot,P.currentSnapshot,this.rootContexts)}),function Zn(S,M){return(0,Vt.z)(E=>{const{targetSnapshot:H,currentSnapshot:q,guards:{canActivateChecks:he,canDeactivateChecks:P}}=E;return 0===P.length&&0===he.length?(0,V.of)({...E,guardsResult:!0}):function mr(S,M,E,H){return(0,l.D)(S).pipe((0,Vt.z)(q=>function pa(S,M,E,H,q){const he=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,V.of)(!0);const P=he.map(T=>{const O=Qs(M)??q,Q=Os(T,O);return ft(function Xn(S){return S&&$s(S.canDeactivate)}(Q)?Q.canDeactivate(S,M,E,H):O.runInContext(()=>Q(S,M,E,H))).pipe((0,pn.P)())});return(0,V.of)(P).pipe(Tt())}(q.component,q.route,E,M,H)),(0,pn.P)(q=>!0!==q,!0))}(P,H,q,S).pipe((0,Vt.z)(T=>T&&function xa(S){return"boolean"==typeof S}(T)?function Br(S,M,E,H){return(0,l.D)(M).pipe((0,Yt.b)(q=>(0,le.z)(function Lo(S,M){return null!==S&&M&&M(new Cr(S)),(0,V.of)(!0)}(q.route.parent,H),function Js(S,M){return null!==S&&M&&M(new cr(S)),(0,V.of)(!0)}(q.route,H),function Ws(S,M,E){const H=M[M.length-1],he=M.slice(0,M.length-1).reverse().map(P=>function Sl(S){const M=S.routeConfig?S.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:S,guards:M}:null}(P)).filter(P=>null!==P).map(P=>X(()=>{const T=P.guards.map(O=>{const Q=Qs(P.node)??E,ue=Os(O,Q);return ft(function Ya(S){return S&&$s(S.canActivateChild)}(ue)?ue.canActivateChild(H,S):Q.runInContext(()=>ue(H,S))).pipe((0,pn.P)())});return(0,V.of)(T).pipe(Tt())}));return(0,V.of)(he).pipe(Tt())}(S,q.path,E),function Ra(S,M,E){const H=M.routeConfig?M.routeConfig.canActivate:null;if(!H||0===H.length)return(0,V.of)(!0);const q=H.map(he=>X(()=>{const P=Qs(M)??E,T=Os(he,P);return ft(function Za(S){return S&&$s(S.canActivate)}(T)?T.canActivate(M,S):P.runInContext(()=>T(M,S))).pipe((0,pn.P)())}));return(0,V.of)(q).pipe(Tt())}(S,q.route,E))),(0,pn.P)(q=>!0!==q,!0))}(H,he,S,M):(0,V.of)(T)),(0,oe.U)(T=>({...E,guardsResult:T})))})}(this.environmentInjector,P=>this.events.next(P)),(0,Dn.b)(P=>{if(H.guardsResult=P.guardsResult,qt(P.guardsResult))throw No(0,P.guardsResult);const T=new wi(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot,!!P.guardsResult);this.events.next(T)}),(0,Ye.h)(P=>!!P.guardsResult||(E.restoreHistory(P),this.cancelNavigationTransition(P,"",3),!1)),Mr(P=>{if(P.guards.canActivateChecks.length)return(0,V.of)(P).pipe((0,Dn.b)(T=>{const O=new Hr(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(O)}),(0,Je.w)(T=>{let O=!1;return(0,V.of)(T).pipe(function Jt(S,M){return(0,Vt.z)(E=>{const{targetSnapshot:H,guards:{canActivateChecks:q}}=E;if(!q.length)return(0,V.of)(E);let he=0;return(0,l.D)(q).pipe((0,Yt.b)(P=>function ei(S,M,E,H){const q=S.routeConfig,he=S._resolve;return void 0!==q?.title&&!Ri(q)&&(he[Fn]=q.title),function ir(S,M,E,H){const q=function wr(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===q.length)return(0,V.of)({});const he={};return(0,l.D)(q).pipe((0,Vt.z)(P=>function fi(S,M,E,H){const q=Qs(M)??H,he=Os(S,q);return ft(he.resolve?he.resolve(M,E):q.runInContext(()=>he(M,E)))}(S[P],M,E,H).pipe((0,pn.P)(),(0,Dn.b)(T=>{he[P]=T}))),At(1),(0,Re.h)(he),ln(P=>W(P)?ut.E:et(P)))}(he,S,M,H).pipe((0,oe.U)(P=>(S._resolvedData=P,S.data=dr(S,E).resolve,q&&Ri(q)&&(S.data[Fn]=q.title),null)))}(P.route,H,S,M)),(0,Dn.b)(()=>he++),At(1),(0,Vt.z)(P=>he===q.length?(0,V.of)(E):ut.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,Dn.b)({next:()=>O=!0,complete:()=>{O||(E.restoreHistory(T),this.cancelNavigationTransition(T,"",2))}}))}),(0,Dn.b)(T=>{const O=new Lr(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(O)}))}),Mr(P=>{const T=O=>{const Q=[];O.routeConfig?.loadComponent&&!O.routeConfig._loadedComponent&&Q.push(this.configLoader.loadComponent(O.routeConfig).pipe((0,Dn.b)(ue=>{O.component=ue}),(0,oe.U)(()=>{})));for(const ue of O.children)Q.push(...T(ue));return Q};return(0,de.a)(T(P.targetSnapshot.root)).pipe((0,Nt.d)(),(0,Le.q)(1))}),Mr(()=>this.afterPreactivation()),(0,oe.U)(P=>{const T=function vl(S,M,E){const H=ua(S,M._root,E?E._root:void 0);return new nr(H,M)}(E.routeReuseStrategy,P.targetSnapshot,P.currentRouterState);return H={...P,targetRouterState:T}}),(0,Dn.b)(P=>{E.currentUrlTree=P.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl),E.routerState=P.targetRouterState,"deferred"===E.urlUpdateStrategy&&(P.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,P),E.browserUrlTree=P.urlAfterRedirects)}),((S,M,E)=>(0,oe.U)(H=>(new Bi(M,H.targetRouterState,H.currentRouterState,E).activate(S),H)))(this.rootContexts,E.routeReuseStrategy,P=>this.events.next(P)),(0,Dn.b)({next:P=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new Ze(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(P.targetRouterState.snapshot),P.resolve(!0)},complete:()=>{q=!0}}),$t(()=>{q||he||this.cancelNavigationTransition(H,"",1),this.currentNavigation?.id===H.id&&(this.currentNavigation=null)}),ln(P=>{if(he=!0,vo(P)){Qo(P)||(E.navigated=!0,E.restoreHistory(H,!0));const T=new Ke(H.id,this.urlSerializer.serialize(H.extractedUrl),P.message,P.cancellationCode);if(this.events.next(T),Qo(P)){const O=E.urlHandlingStrategy.merge(P.url,E.rawUrlTree),Q={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||Ms(H.source)};E.scheduleNavigation(O,Kt,null,Q,{resolve:H.resolve,reject:H.reject,promise:H.promise})}else H.resolve(!1)}else{E.restoreHistory(H,!0);const T=new Gn(H.id,this.urlSerializer.serialize(H.extractedUrl),P,H.targetSnapshot??void 0);this.events.next(T);try{H.resolve(E.errorHandler(P))}catch(O){H.reject(O)}}return ut.E}))}))}cancelNavigationTransition(E,H,q){const he=new Ke(E.id,this.urlSerializer.serialize(E.extractedUrl),H,q);this.events.next(he),E.resolve(!1)}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ms(S){return S!==Kt}let yn=(()=>{class S{buildTitle(E){let H,q=E.root;for(;void 0!==q;)H=this.getResolvedTitleForRoute(q)??H,q=q.children.find(he=>he.outlet===Ht);return H}getResolvedTitleForRoute(E){return E.data[Fn]}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:function(){return(0,p.f3M)(Mt)},providedIn:"root"}),S})(),Mt=(()=>{class S extends yn{constructor(E){super(),this.title=E}updateTitle(E){const H=this.buildTitle(E);void 0!==H&&this.title.setTitle(H)}}return S.\u0275fac=function(E){return new(E||S)(p.LFG(tn.Dx))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),on=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:function(){return(0,p.f3M)(el)},providedIn:"root"}),S})();class ds{shouldDetach(M){return!1}store(M,E){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,E){return M.routeConfig===E.routeConfig}}let el=(()=>{class S extends ds{}return S.\u0275fac=function(){let M;return function(H){return(M||(M=p.n5z(S)))(H||S)}}(),S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ll=new p.OlP("",{providedIn:"root",factory:()=>({})});let wo=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:function(){return(0,p.f3M)(Bl)},providedIn:"root"}),S})(),Bl=(()=>{class S{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,H){return E}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ia(S){throw S}function Tc(S,M,E){return M.parse("/")}const Cs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ol={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ps=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Ll,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ia,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Tc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(wo),this.routeReuseStrategy=(0,p.f3M)(on),this.urlCreationStrategy=(0,p.f3M)(ci),this.titleStrategy=(0,p.f3M)(yn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=er((0,p.f3M)(sn,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Mn),this.urlSerializer=(0,p.f3M)(Ur),this.location=(0,p.f3M)(Ae.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kt,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const H="popstate"===E.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,H,E.state)},0)}))}navigateToSyncWithBrowser(E,H,q){const he={replaceUrl:!0},P=q?.navigationId?q:null;if(q){const O={...q};delete O.navigationId,delete O.\u0275routerPageId,0!==Object.keys(O).length&&(he.state=O)}const T=this.parseUrl(E);this.scheduleNavigation(T,H,P,he)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(fo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,H={}){const{relativeTo:q,queryParams:he,fragment:P,queryParamsHandling:T,preserveFragment:O}=H,Q=O?this.currentUrlTree.fragment:P;let ue=null;switch(T){case"merge":ue={...this.currentUrlTree.queryParams,...he};break;case"preserve":ue=this.currentUrlTree.queryParams;break;default:ue=he||null}return null!==ue&&(ue=this.removeEmptyProps(ue)),this.urlCreationStrategy.createUrlTree(q,this.routerState,this.currentUrlTree,E,ue,Q??null)}navigateByUrl(E,H={skipLocationChange:!1}){const q=qt(E)?E:this.parseUrl(E),he=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(he,Kt,null,H)}navigate(E,H={skipLocationChange:!1}){return function Si(S){for(let M=0;M<S.length;M++){if(null==S[M])throw new p.vHH(4008,!1)}}(E),this.navigateByUrl(this.createUrlTree(E,H),H)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let H;try{H=this.urlSerializer.parse(E)}catch(q){H=this.malformedUriErrorHandler(q,this.urlSerializer,E)}return H}isActive(E,H){let q;if(q=!0===H?{...Cs}:!1===H?{...Ol}:H,qt(E))return hn(this.currentUrlTree,E,q);const he=this.parseUrl(E);return hn(this.currentUrlTree,he,q)}removeEmptyProps(E){return Object.keys(E).reduce((H,q)=>{const he=E[q];return null!=he&&(H[q]=he),H},{})}scheduleNavigation(E,H,q,he,P){if(this.disposed)return Promise.resolve(!1);let T,O,Q,ue;return P?(T=P.resolve,O=P.reject,Q=P.promise):Q=new Promise((Ve,Ct)=>{T=Ve,O=Ct}),ue="computed"===this.canceledNavigationResolution?q&&q.\u0275routerPageId?q.\u0275routerPageId:he.replaceUrl||he.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:ue,source:H,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:he,resolve:T,reject:O,promise:Q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Q.catch(Ve=>Promise.reject(Ve))}setBrowserUrl(E,H){const q=this.urlSerializer.serialize(E),he={...H.extras.state,...this.generateNgRouterState(H.id,H.targetPageId)};this.location.isCurrentPathEqualTo(q)||H.extras.replaceUrl?this.location.replaceState(q,"",he):this.location.go(q,"",he)}restoreHistory(E,H=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===q?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(q)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,H){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:H}:{navigationId:E}}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Ho=(()=>{class S{constructor(E,H,q,he,P,T){this.router=E,this.route=H,this.tabIndexAttribute=q,this.renderer=he,this.el=P,this.locationStrategy=T,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Xe.x;const O=P.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===O||"area"===O,this.isAnchorElement?this.subscription=E.events.subscribe(Q=>{Q instanceof Ze&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,p.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,p.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,p.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,H,q,he,P){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||H||q||he||P||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,H){const q=this.renderer,he=this.el.nativeElement;null!==H?q.setAttribute(he,E,H):q.removeAttribute(he,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(E){return new(E||S)(p.Y36(Ps),p.Y36(uo),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ae.S$))},S.\u0275dir=p.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,H){1&E&&p.NdJ("click",function(he){return H.onClick(he.button,he.ctrlKey,he.shiftKey,he.altKey,he.metaKey)}),2&E&&p.uIk("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),S})(),ec=(()=>{class S{get isActive(){return this._isActive}constructor(E,H,q,he,P){this.router=E,this.element=H,this.renderer=q,this.cdr=he,this.link=P,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=E.events.subscribe(T=>{T instanceof Ze&&this.update()})}ngAfterContentInit(){(0,V.of)(this.links.changes,(0,V.of)(null)).pipe((0,Pt.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),this.link].filter(H=>!!H).map(H=>H.onChanges);this.linkInputChangesSubscription=(0,l.D)(E).pipe((0,Pt.J)()).subscribe(H=>{this._isActive!==this.isLinkActive(this.router)(H)&&this.update()})}set routerLinkActive(E){const H=Array.isArray(E)?E:E.split(" ");this.classes=H.filter(q=>!!q)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.classes.forEach(H=>{E?this.renderer.addClass(this.element.nativeElement,H):this.renderer.removeClass(this.element.nativeElement,H)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const H=function zr(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&E.isActive(q.urlTree,H)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}}return S.\u0275fac=function(E){return new(E||S)(p.Y36(Ps),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(Ho,8))},S.\u0275dir=p.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(E,H,q){if(1&E&&p.Suo(q,Ho,5),2&E){let he;p.iGM(he=p.CRH())&&(H.links=he)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[p.TTD]}),S})();class Rn{}let Eo=(()=>{class S{constructor(E,H,q,he,P){this.router=E,this.injector=q,this.preloadingStrategy=he,this.loader=P}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ye.h)(E=>E instanceof Ze),(0,Yt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,H){const q=[];for(const he of H){he.providers&&!he._injector&&(he._injector=(0,p.MMx)(he.providers,E,`Route: ${he.path}`));const P=he._injector??E,T=he._loadedInjector??P;he.loadChildren&&!he._loadedRoutes&&void 0===he.canLoad||he.loadComponent&&!he._loadedComponent?q.push(this.preloadConfig(P,he)):(he.children||he._loadedRoutes)&&q.push(this.processRoutes(T,he.children??he._loadedRoutes))}return(0,l.D)(q).pipe((0,Pt.J)())}preloadConfig(E,H){return this.preloadingStrategy.preload(H,()=>{let q;q=H.loadChildren&&void 0===H.canLoad?this.loader.loadChildren(E,H):(0,V.of)(null);const he=q.pipe((0,Vt.z)(P=>null===P?(0,V.of)(void 0):(H._loadedRoutes=P.routes,H._loadedInjector=P.injector,this.processRoutes(P.injector??E,P.routes))));if(H.loadComponent&&!H._loadedComponent){const P=this.loader.loadComponent(H);return(0,l.D)([he,P]).pipe((0,Pt.J)())}return he})}}return S.\u0275fac=function(E){return new(E||S)(p.LFG(Ps),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Rn),p.LFG(qi))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const hr=new p.OlP("");let gn=(()=>{class S{constructor(E,H,q,he,P={}){this.urlSerializer=E,this.transitions=H,this.viewportScroller=q,this.zone=he,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Se?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Ze&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof at&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,H){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new at(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return S.\u0275fac=function(E){p.$Z()},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac}),S})();function no(S,M){return{\u0275kind:S,\u0275providers:M}}function sa(){const S=(0,p.f3M)(p.zs3);return M=>{const E=S.get(p.z2F);if(M!==E.components[0])return;const H=S.get(Ps),q=S.get(ws);1===S.get(nl)&&H.initialNavigation(),S.get(rl,null,p.XFs.Optional)?.setUpPreloading(),S.get(hr,null,p.XFs.Optional)?.init(),H.resetRootComponentType(E.componentTypes[0]),q.closed||(q.next(),q.unsubscribe())}}const ws=new p.OlP("",{factory:()=>new Xe.x}),nl=new p.OlP("",{providedIn:"root",factory:()=>1});const rl=new p.OlP("");function _t(S){return no(0,[{provide:rl,useExisting:Eo},{provide:Rn,useExisting:S}])}const ya=new p.OlP("ROUTER_FORROOT_GUARD"),Ul=[Ae.Ye,{provide:Ur,useClass:mi},Ps,Ds,{provide:uo,useFactory:function Zs(S){return S.routerState.root},deps:[Ps]},qi,[]];function sl(){return new p.PXZ("Router",Ps)}let Va=(()=>{class S{constructor(E){}static forRoot(E,H){return{ngModule:S,providers:[Ul,[],{provide:sn,multi:!0,useValue:E},{provide:ya,useFactory:ks,deps:[[Ps,new p.FiY,new p.tp0]]},{provide:Ll,useValue:H||{}},H?.useHash?{provide:Ae.S$,useClass:Ae.Do}:{provide:Ae.S$,useClass:Ae.b0},{provide:hr,useFactory:()=>{const S=(0,p.f3M)(Ae.EM),M=(0,p.f3M)(p.R0b),E=(0,p.f3M)(Ll),H=(0,p.f3M)(Mn),q=(0,p.f3M)(Ur);return E.scrollOffset&&S.setOffset(E.scrollOffset),new gn(q,H,S,M,E)}},H?.preloadingStrategy?_t(H.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:sl},H?.initialNavigation?To(H):[],[{provide:Ua,useFactory:sa},{provide:p.tb,multi:!0,useExisting:Ua}]]}}static forChild(E){return{ngModule:S,providers:[{provide:sn,multi:!0,useValue:E}]}}}return S.\u0275fac=function(E){return new(E||S)(p.LFG(ya,8))},S.\u0275mod=p.oAB({type:S}),S.\u0275inj=p.cJS({imports:[xs]}),S})();function ks(S){return"guarded"}function To(S){return["disabled"===S.initialNavigation?no(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const M=(0,p.f3M)(Ps);return()=>{M.setUpLocationChangeListener()}}},{provide:nl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?no(2,[{provide:nl,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:M=>{const E=M.get(Ae.V_,Promise.resolve());return()=>E.then(()=>new Promise(q=>{const he=M.get(Ps),P=M.get(ws);(function H(q){M.get(Ps).events.pipe((0,Ye.h)(P=>P instanceof Ze||P instanceof Ke||P instanceof Gn),(0,oe.U)(P=>P instanceof Ze||P instanceof Ke&&(0===P.code||1===P.code)&&null),(0,Ye.h)(P=>null!==P),(0,Le.q)(1)).subscribe(()=>{q()})})(()=>{q(!0)}),M.get(Mn).afterPreactivation=()=>(q(!0),P.closed?(0,V.of)(void 0):P),he.initialNavigation()}))}}]).\u0275providers:[]]}const Ua=new p.OlP("")},3942:(dn,dt,k)=>{k.d(dt,{Z:()=>st});var p=k(2090),l=k(4859),V=k(6881),Te=k(1877);class L{constructor(Be,it){this._delegate=Be,this.firebase=it,(0,V._addComponent)(Be,new l.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Be,it=V._DEFAULT_ENTRY_NAME){var ge;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(Be);return!Xe.isInitialized()&&"EXPLICIT"===(null===(ge=Xe.getComponent())||void 0===ge?void 0:ge.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:it})}_removeServiceInstance(Be,it=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(it)}_addComponent(Be){(0,V._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,V._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function Ce(){const xt=function ie(xt){const Be={},it={__esModule:!0,initializeApp:function Ae(Ge,Ye={}){const Vt=V.initializeApp(Ge,Ye);if((0,p.r3)(Be,Vt.name))return Be[Vt.name];const pn=new xt(Vt,it);return Be[Vt.name]=pn,pn},app:Xe,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Je(Ge){const Ye=Ge.name,Vt=Ye.replace("-compat","");if(V._registerComponent(Ge)&&"PUBLIC"===Ge.type){const pn=(Yt=Xe())=>{if("function"!=typeof Yt[Vt])throw le.create("invalid-app-argument",{appName:Ye});return Yt[Vt]()};void 0!==Ge.serviceProps&&(0,p.ZB)(pn,Ge.serviceProps),it[Vt]=pn,xt.prototype[Vt]=function(...Yt){return this._getService.bind(this,Ye).apply(this,Ge.multipleInstances?Yt:[])}}return"PUBLIC"===Ge.type?it[Vt]:null},removeApp:function ge(Ge){delete Be[Ge]},useAsService:function Le(Ge,Ye){return"serverAuth"===Ye?null:Ye},modularAPIs:V}};function Xe(Ge){if(!(0,p.r3)(Be,Ge=Ge||V._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Ge});return Be[Ge]}return it.default=it,Object.defineProperty(it,"apps",{get:function oe(){return Object.keys(Be).map(Ge=>Be[Ge])}}),Xe.App=xt,it}(L);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Be(it){(0,p.ZB)(xt,it)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),xt}(),ce=new Te.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xt=self.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const st=X;!function ut(xt){(0,V.registerVersion)("@firebase/app-compat","0.2.9",xt)}()},6881:(dn,dt,k)=>{k.r(dt),k.d(dt,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>Ur,_DEFAULT_ENTRY_NAME:()=>hn,_addComponent:()=>wn,_addOrOverwriteComponent:()=>$n,_apps:()=>ai,_clearComponents:()=>bi,_components:()=>En,_getProvider:()=>Yn,_registerComponent:()=>Oi,_removeServiceInstance:()=>kn,deleteApp:()=>Ft,getApp:()=>vr,getApps:()=>sr,initializeApp:()=>mi,onLog:()=>wt,registerVersion:()=>Fe,setLogLevel:()=>an});var p=k(5861),l=k(4859),V=k(1877),Te=k(2090);let de,le;const X=new WeakMap,ce=new WeakMap,Oe=new WeakMap,et=new WeakMap,ut=new WeakMap;let Be={get(St,Et,Xt){if(St instanceof IDBTransaction){if("done"===Et)return ce.get(St);if("objectStoreNames"===Et)return St.objectStoreNames||Oe.get(St);if("store"===Et)return Xt.objectStoreNames[1]?void 0:Xt.objectStore(Xt.objectStoreNames[0])}return Ae(St[Et])},set:(St,Et,Xt)=>(St[Et]=Xt,!0),has:(St,Et)=>St instanceof IDBTransaction&&("done"===Et||"store"===Et)||Et in St};function Xe(St){return"function"==typeof St?function ge(St){return St!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(St)?function(...Et){return St.apply(oe(this),Et),Ae(X.get(this))}:function(...Et){return Ae(St.apply(oe(this),Et))}:function(Et,...Xt){const Nn=St.call(oe(this),Et,...Xt);return Oe.set(Nn,Et.sort?Et.sort():[Et]),Ae(Nn)}}(St):(St instanceof IDBTransaction&&function xt(St){if(ce.has(St))return;const Et=new Promise((Xt,Nn)=>{const qn=()=>{St.removeEventListener("complete",_i),St.removeEventListener("error",Mi),St.removeEventListener("abort",Mi)},_i=()=>{Xt(),qn()},Mi=()=>{Nn(St.error||new DOMException("AbortError","AbortError")),qn()};St.addEventListener("complete",_i),St.addEventListener("error",Mi),St.addEventListener("abort",Mi)});ce.set(St,Et)}(St),((St,Et)=>Et.some(Xt=>St instanceof Xt))(St,function ie(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(St,Be):St)}function Ae(St){if(St instanceof IDBRequest)return function st(St){const Et=new Promise((Xt,Nn)=>{const qn=()=>{St.removeEventListener("success",_i),St.removeEventListener("error",Mi)},_i=()=>{Xt(Ae(St.result)),qn()},Mi=()=>{Nn(St.error),qn()};St.addEventListener("success",_i),St.addEventListener("error",Mi)});return Et.then(Xt=>{Xt instanceof IDBCursor&&X.set(Xt,St)}).catch(()=>{}),ut.set(Et,St),Et}(St);if(et.has(St))return et.get(St);const Et=Xe(St);return Et!==St&&(et.set(St,Et),ut.set(Et,St)),Et}const oe=St=>ut.get(St),Ge=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],Vt=new Map;function pn(St,Et){if(!(St instanceof IDBDatabase)||Et in St||"string"!=typeof Et)return;if(Vt.get(Et))return Vt.get(Et);const Xt=Et.replace(/FromIndex$/,""),Nn=Et!==Xt,qn=Ye.includes(Xt);if(!(Xt in(Nn?IDBIndex:IDBObjectStore).prototype)||!qn&&!Ge.includes(Xt))return;const _i=function(){var Mi=(0,p.Z)(function*(Rr,...br){const Hn=this.transaction(Rr,qn?"readwrite":"readonly");let Dr=Hn.store;return Nn&&(Dr=Dr.index(br.shift())),(yield Promise.all([Dr[Xt](...br),qn&&Hn.done]))[0]});return function(br){return Mi.apply(this,arguments)}}();return Vt.set(Et,_i),_i}!function it(St){Be=St(Be)}(St=>({...St,get:(Et,Xt,Nn)=>pn(Et,Xt)||St.get(Et,Xt,Nn),has:(Et,Xt)=>!!pn(Et,Xt)||St.has(Et,Xt)}));class Yt{constructor(Et){this.container=Et}getPlatformInfoString(){return this.container.getProviders().map(Xt=>{if(function Dn(St){return"VERSION"===St.getComponent()?.type}(Xt)){const Nn=Xt.getImmediate();return`${Nn.library}/${Nn.version}`}return null}).filter(Xt=>Xt).join(" ")}}const ln="@firebase/app",At=new V.Yd("@firebase/app"),hn="[DEFAULT]",Pn={[ln]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ai=new Map,En=new Map;function wn(St,Et){try{St.container.addComponent(Et)}catch(Xt){At.debug(`Component ${Et.name} failed to register with FirebaseApp ${St.name}`,Xt)}}function $n(St,Et){St.container.addOrOverwriteComponent(Et)}function Oi(St){const Et=St.name;if(En.has(Et))return At.debug(`There were multiple attempts to register component ${Et}.`),!1;En.set(Et,St);for(const Xt of ai.values())wn(Xt,St);return!0}function Yn(St,Et){const Xt=St.container.getProvider("heartbeat").getImmediate({optional:!0});return Xt&&Xt.triggerHeartbeat(),St.container.getProvider(Et)}function kn(St,Et,Xt=hn){Yn(St,Et).clearInstance(Xt)}function bi(){En.clear()}const tr=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gi{constructor(Et,Xt,Nn){this._isDeleted=!1,this._options=Object.assign({},Et),this._config=Object.assign({},Xt),this._name=Xt.name,this._automaticDataCollectionEnabled=Xt.automaticDataCollectionEnabled,this._container=Nn,this.container.addComponent(new l.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this.checkDestroyed(),this._automaticDataCollectionEnabled=Et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Et){this._isDeleted=Et}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const Ur="9.21.0";function mi(St,Et={}){let Xt=St;"object"!=typeof Et&&(Et={name:Et});const Nn=Object.assign({name:hn,automaticDataCollectionEnabled:!1},Et),qn=Nn.name;if("string"!=typeof qn||!qn)throw tr.create("bad-app-name",{appName:String(qn)});if(Xt||(Xt=(0,Te.aH)()),!Xt)throw tr.create("no-options");const _i=ai.get(qn);if(_i){if((0,Te.vZ)(Xt,_i.options)&&(0,Te.vZ)(Nn,_i.config))return _i;throw tr.create("duplicate-app",{appName:qn})}const Mi=new l.H0(qn);for(const br of En.values())Mi.addComponent(br);const Rr=new gi(Xt,Nn,Mi);return ai.set(qn,Rr),Rr}function vr(St=hn){const Et=ai.get(St);if(!Et&&St===hn)return mi();if(!Et)throw tr.create("no-app",{appName:St});return Et}function sr(){return Array.from(ai.values())}function Ft(St){return me.apply(this,arguments)}function me(){return(me=(0,p.Z)(function*(St){const Et=St.name;ai.has(Et)&&(ai.delete(Et),yield Promise.all(St.container.getProviders().map(Xt=>Xt.delete())),St.isDeleted=!0)})).apply(this,arguments)}function Fe(St,Et,Xt){var Nn;let qn=null!==(Nn=Pn[St])&&void 0!==Nn?Nn:St;Xt&&(qn+=`-${Xt}`);const _i=qn.match(/\s|\//),Mi=Et.match(/\s|\//);if(_i||Mi){const Rr=[`Unable to register library "${qn}" with version "${Et}":`];return _i&&Rr.push(`library name "${qn}" contains illegal characters (whitespace or "/")`),_i&&Mi&&Rr.push("and"),Mi&&Rr.push(`version name "${Et}" contains illegal characters (whitespace or "/")`),void At.warn(Rr.join(" "))}Oi(new l.wA(`${qn}-version`,()=>({library:qn,version:Et}),"VERSION"))}function wt(St,Et){if(null!==St&&"function"!=typeof St)throw tr.create("invalid-log-argument");(0,V.Am)(St,Et)}function an(St){(0,V.Ub)(St)}const ze="firebase-heartbeat-store";let Ue=null;function be(){return Ue||(Ue=function Je(St,Et,{blocked:Xt,upgrade:Nn,blocking:qn,terminated:_i}={}){const Mi=indexedDB.open(St,Et),Rr=Ae(Mi);return Nn&&Mi.addEventListener("upgradeneeded",br=>{Nn(Ae(Mi.result),br.oldVersion,br.newVersion,Ae(Mi.transaction),br)}),Xt&&Mi.addEventListener("blocked",br=>Xt(br.oldVersion,br.newVersion,br)),Rr.then(br=>{_i&&br.addEventListener("close",()=>_i()),qn&&br.addEventListener("versionchange",Hn=>qn(Hn.oldVersion,Hn.newVersion,Hn))}).catch(()=>{}),Rr}("firebase-heartbeat-database",1,{upgrade:(St,Et)=>{0===Et&&St.createObjectStore(ze)}}).catch(St=>{throw tr.create("idb-open",{originalErrorMessage:St.message})})),Ue}function fe(){return(fe=(0,p.Z)(function*(St){try{return(yield be()).transaction(ze).objectStore(ze).get(bn(St))}catch(Et){if(Et instanceof Te.ZR)At.warn(Et.message);else{const Xt=tr.create("idb-get",{originalErrorMessage:Et?.message});At.warn(Xt.message)}}})).apply(this,arguments)}function pt(St,Et){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(St,Et){try{const Nn=(yield be()).transaction(ze,"readwrite");return yield Nn.objectStore(ze).put(Et,bn(St)),Nn.done}catch(Xt){if(Xt instanceof Te.ZR)At.warn(Xt.message);else{const Nn=tr.create("idb-set",{originalErrorMessage:Xt?.message});At.warn(Nn.message)}}})).apply(this,arguments)}function bn(St){return`${St.name}!${St.options.appId}`}class Me{constructor(Et){this.container=Et,this._heartbeatsCache=null;const Xt=this.container.getProvider("app").getImmediate();this._storage=new qt(Xt),this._heartbeatsCachePromise=this._storage.read().then(Nn=>(this._heartbeatsCache=Nn,Nn))}triggerHeartbeat(){var Et=this;return(0,p.Z)(function*(){const Nn=Et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qn=nt();if(null===Et._heartbeatsCache&&(Et._heartbeatsCache=yield Et._heartbeatsCachePromise),Et._heartbeatsCache.lastSentHeartbeatDate!==qn&&!Et._heartbeatsCache.heartbeats.some(_i=>_i.date===qn))return Et._heartbeatsCache.heartbeats.push({date:qn,agent:Nn}),Et._heartbeatsCache.heartbeats=Et._heartbeatsCache.heartbeats.filter(_i=>{const Mi=new Date(_i.date).valueOf();return Date.now()-Mi<=2592e6}),Et._storage.overwrite(Et._heartbeatsCache)})()}getHeartbeatsHeader(){var Et=this;return(0,p.Z)(function*(){if(null===Et._heartbeatsCache&&(yield Et._heartbeatsCachePromise),null===Et._heartbeatsCache||0===Et._heartbeatsCache.heartbeats.length)return"";const Xt=nt(),{heartbeatsToSend:Nn,unsentEntries:qn}=function Lt(St,Et=1024){const Xt=[];let Nn=St.slice();for(const qn of St){const _i=Xt.find(Mi=>Mi.agent===qn.agent);if(_i){if(_i.dates.push(qn.date),Ln(Xt)>Et){_i.dates.pop();break}}else if(Xt.push({agent:qn.agent,dates:[qn.date]}),Ln(Xt)>Et){Xt.pop();break}Nn=Nn.slice(1)}return{heartbeatsToSend:Xt,unsentEntries:Nn}}(Et._heartbeatsCache.heartbeats),_i=(0,Te.L)(JSON.stringify({version:2,heartbeats:Nn}));return Et._heartbeatsCache.lastSentHeartbeatDate=Xt,qn.length>0?(Et._heartbeatsCache.heartbeats=qn,yield Et._storage.overwrite(Et._heartbeatsCache)):(Et._heartbeatsCache.heartbeats=[],Et._storage.overwrite(Et._heartbeatsCache)),_i})()}}function nt(){return(new Date).toISOString().substring(0,10)}class qt{constructor(Et){this.app=Et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Et=this;return(0,p.Z)(function*(){return(yield Et._canUseIndexedDBPromise)&&(yield function De(St){return fe.apply(this,arguments)}(Et.app))||{heartbeats:[]}})()}overwrite(Et){var Xt=this;return(0,p.Z)(function*(){var Nn;if(yield Xt._canUseIndexedDBPromise){const _i=yield Xt.read();return pt(Xt.app,{lastSentHeartbeatDate:null!==(Nn=Et.lastSentHeartbeatDate)&&void 0!==Nn?Nn:_i.lastSentHeartbeatDate,heartbeats:Et.heartbeats})}})()}add(Et){var Xt=this;return(0,p.Z)(function*(){var Nn;if(yield Xt._canUseIndexedDBPromise){const _i=yield Xt.read();return pt(Xt.app,{lastSentHeartbeatDate:null!==(Nn=Et.lastSentHeartbeatDate)&&void 0!==Nn?Nn:_i.lastSentHeartbeatDate,heartbeats:[..._i.heartbeats,...Et.heartbeats]})}})()}}function Ln(St){return(0,Te.L)(JSON.stringify({version:2,heartbeats:St})).length}!function xi(St){Oi(new l.wA("platform-logger",Et=>new Yt(Et),"PRIVATE")),Oi(new l.wA("heartbeat",Et=>new Me(Et),"PRIVATE")),Fe(ln,"0.9.9",St),Fe(ln,"0.9.9","esm2017"),Fe("fire-js","")}("")},4859:(dn,dt,k)=>{k.d(dt,{H0:()=>ie,wA:()=>V});var p=k(5861),l=k(2090);class V{constructor(X,ce,Oe){this.name=X,this.instanceFactory=ce,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Te="[DEFAULT]";class L{constructor(X,ce){this.name=X,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ce=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ce)){const Oe=new l.BH;if(this.instancesDeferred.set(ce,Oe),this.isInitialized(ce)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:ce});et&&Oe.resolve(et)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(X){var ce;const Oe=this.normalizeInstanceIdentifier(X?.identifier),et=null!==(ce=X?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(ut){if(et)return null;throw ut}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function le(Ce){return"EAGER"===Ce.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[ce,Oe]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(ce);try{const ut=this.getOrInitializeService({instanceIdentifier:et});Oe.resolve(ut)}catch{}}}}clearInstance(X=Te){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,p.Z)(function*(){const ce=Array.from(X.instances.values());yield Promise.all([...ce.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...ce.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Te){return this.instances.has(X)}getOptions(X=Te){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ce={}}=X,Oe=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Oe,options:ce});for(const[ut,st]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(ut)&&st.resolve(et);return et}onInit(X,ce){var Oe;const et=this.normalizeInstanceIdentifier(ce),ut=null!==(Oe=this.onInitCallbacks.get(et))&&void 0!==Oe?Oe:new Set;ut.add(X),this.onInitCallbacks.set(et,ut);const st=this.instances.get(et);return st&&X(st,et),()=>{ut.delete(X)}}invokeOnInitCallbacks(X,ce){const Oe=this.onInitCallbacks.get(ce);if(Oe)for(const et of Oe)try{et(X,ce)}catch{}}getOrInitializeService({instanceIdentifier:X,options:ce={}}){let Oe=this.instances.get(X);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=X,Ce===Te?void 0:Ce),options:ce}),this.instances.set(X,Oe),this.instancesOptions.set(X,ce),this.invokeOnInitCallbacks(Oe,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,Oe)}catch{}var Ce;return Oe||null}normalizeInstanceIdentifier(X=Te){return this.component?this.component.multipleInstances?X:Te:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ce=this.getProvider(X.name);if(ce.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ce.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ce=new L(X,this);return this.providers.set(X,ce),ce}getProviders(){return Array.from(this.providers.values())}}},1877:(dn,dt,k)=>{k.d(dt,{Am:()=>Ce,Ub:()=>ie,Yd:()=>le,in:()=>l});const p=[];var l=(()=>{return(X=l||(l={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",l;var X})();const V={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},Te=l.INFO,L={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},de=(X,ce,...Oe)=>{if(ce<X.logLevel)return;const et=(new Date).toISOString(),ut=L[ce];if(!ut)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[ut](`[${et}]  ${X.name}:`,...Oe)};class le{constructor(ce){this.name=ce,this._logLevel=Te,this._logHandler=de,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in l))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?V[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...ce),this._logHandler(this,l.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...ce),this._logHandler(this,l.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,l.INFO,...ce),this._logHandler(this,l.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,l.WARN,...ce),this._logHandler(this,l.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...ce),this._logHandler(this,l.ERROR,...ce)}}function ie(X){p.forEach(ce=>{ce.setLogLevel(X)})}function Ce(X,ce){for(const Oe of p){let et=null;ce&&ce.level&&(et=V[ce.level]),Oe.userLogHandler=null===X?null:(ut,st,...xt)=>{const Be=xt.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");st>=(et??ut.logLevel)&&X({level:l[st].toLowerCase(),message:Be,args:xt,type:ut.name})}}}},259:(dn,dt,k)=>{k.d(dt,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=k(6881);(0,p.registerVersion)("firebase","9.21.0","app")},9260:(dn,dt,k)=>{k.d(dt,{Z:()=>p.Z});var p=k(3942);p.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(dn,dt,k)=>{k.r(dt);var p=k(5861),l=k(3942),V=k(8502),Te=k(2090),le=(k(6881),k(1877),k(4859));function ie(){return window}function ce(){return(ce=(0,p.Z)(function*(be,De,fe){var pt;const{BuildInfo:Gt}=ie();(0,V.as)(De.sessionId,"AuthEvent did not contain a session ID");const bn=yield it(De.sessionId),$e={};return(0,V.at)()?$e.ibi=Gt.packageName:(0,V.au)()?$e.apn=Gt.packageName:(0,V.av)(be,"operation-not-supported-in-this-environment"),Gt.displayName&&($e.appDisplayName=Gt.displayName),$e.sessionId=bn,(0,V.aw)(be,fe,De.type,void 0,null!==(pt=De.eventId)&&void 0!==pt?pt:void 0,$e)})).apply(this,arguments)}function et(){return(et=(0,p.Z)(function*(be){const{BuildInfo:De}=ie(),fe={};(0,V.at)()?fe.iosBundleId=De.packageName:(0,V.au)()?fe.androidPackageName=De.packageName:(0,V.av)(be,"operation-not-supported-in-this-environment"),yield(0,V.ax)(be,fe)})).apply(this,arguments)}function xt(){return(xt=(0,p.Z)(function*(be,De,fe){const{cordova:pt}=ie();let Gt=()=>{};try{yield new Promise((bn,$e)=>{let je=null;function Me(){var qt;bn();const Ln=null===(qt=pt.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof Ln&&Ln(),"function"==typeof fe?.close&&fe.close()}function nt(){je||(je=window.setTimeout(()=>{$e((0,V.az)(be,"redirect-cancelled-by-user"))},2e3))}function Lt(){"visible"===document?.visibilityState&&nt()}De.addPassiveListener(Me),document.addEventListener("resume",nt,!1),(0,V.au)()&&document.addEventListener("visibilitychange",Lt,!1),Gt=()=>{De.removePassiveListener(Me),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",Lt,!1),je&&window.clearTimeout(je)}})}finally{Gt()}})).apply(this,arguments)}function it(be){return ge.apply(this,arguments)}function ge(){return(ge=(0,p.Z)(function*(be){const De=Xe(be),fe=yield crypto.subtle.digest("SHA-256",De);return Array.from(new Uint8Array(fe)).map(Gt=>Gt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xe(be){if((0,V.as)(/[0-9a-zA-Z]+/.test(be),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(be);const De=new ArrayBuffer(be.length),fe=new Uint8Array(De);for(let pt=0;pt<be.length;pt++)fe[pt]=be.charCodeAt(pt);return fe}class oe extends V.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(De=>{this.resolveInialized=De})}addPassiveListener(De){this.passiveListeners.add(De)}removePassiveListener(De){this.passiveListeners.delete(De)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(De){return this.resolveInialized(),this.passiveListeners.forEach(fe=>fe(De)),super.onEvent(De)}initialized(){var De=this;return(0,p.Z)(function*(){yield De.initPromise})()}}function Ge(be){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,p.Z)(function*(be){const De=yield Yt()._get(Dn(be));return De&&(yield Yt()._remove(Dn(be))),De})).apply(this,arguments)}function pn(){const be=[],De="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let fe=0;fe<20;fe++){const pt=Math.floor(Math.random()*De.length);be.push(De.charAt(pt))}return be.join("")}function Yt(){return(0,V.aC)(V.b)}function Dn(be){return(0,V.aD)("authEvent",be.config.apiKey,be.name)}function At(be){if(!be?.includes("?"))return{};const[De,...fe]=be.split("?");return(0,Te.zd)(fe.join("?"))}const Zt=class Nt{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(De){var fe=this;return(0,p.Z)(function*(){const pt=De._key();let Gt=fe.eventManagers.get(pt);return Gt||(Gt=new oe(De),fe.eventManagers.set(pt,Gt),fe.attachCallbackListeners(De,Gt)),Gt})()}_openPopup(De){(0,V.av)(De,"operation-not-supported-in-this-environment")}_openRedirect(De,fe,pt,Gt){var bn=this;return(0,p.Z)(function*(){!function Be(be){var De,fe,pt,Gt,bn,$e,je,Me,nt,Lt;const qt=ie();(0,V.aA)("function"==typeof(null===(De=qt?.universalLinks)||void 0===De?void 0:De.subscribe),be,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aA)(typeof(null===(fe=qt?.BuildInfo)||void 0===fe?void 0:fe.packageName)<"u",be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aA)("function"==typeof(null===(bn=null===(Gt=null===(pt=qt?.cordova)||void 0===pt?void 0:pt.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===bn?void 0:bn.openUrl),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(Me=null===(je=null===($e=qt?.cordova)||void 0===$e?void 0:$e.plugins)||void 0===je?void 0:je.browsertab)||void 0===Me?void 0:Me.isAvailable),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(Lt=null===(nt=qt?.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===Lt?void 0:Lt.open),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(De);const $e=yield bn._initialize(De);yield $e.initialized(),$e.resetRedirect(),(0,V.aG)(),yield bn._originValidation(De);const je=function Je(be,De,fe=null){return{type:De,eventId:fe,urlResponse:null,sessionId:pn(),postBody:null,tenantId:be.tenantId,error:(0,V.az)(be,"no-auth-event")}}(De,pt,Gt);yield function Le(be,De){return Yt()._set(Dn(be),De)}(De,je);const Me=yield function X(be,De,fe){return ce.apply(this,arguments)}(De,je,fe),nt=yield function ut(be){const{cordova:De}=ie();return new Promise(fe=>{De.plugins.browsertab.isAvailable(pt=>{let Gt=null;pt?De.plugins.browsertab.openUrl(be):Gt=De.InAppBrowser.open(be,(0,V.ay)()?"_blank":"_system","location=yes"),fe(Gt)})})}(Me);return function st(be,De,fe){return xt.apply(this,arguments)}(De,$e,nt)})()}_isIframeWebStorageSupported(De,fe){throw new Error("Method not implemented.")}_originValidation(De){const fe=De._key();return this.originValidationPromises[fe]||(this.originValidationPromises[fe]=function Oe(be){return et.apply(this,arguments)}(De)),this.originValidationPromises[fe]}attachCallbackListeners(De,fe){const{universalLinks:pt,handleOpenURL:Gt,BuildInfo:bn}=ie(),$e=setTimeout((0,p.Z)(function*(){yield Ge(De),fe.onEvent(rt())}),500),je=function(){var Lt=(0,p.Z)(function*(qt){clearTimeout($e);const Ln=yield Ge(De);let xi=null;Ln&&qt?.url&&(xi=function Vt(be,De){var fe,pt;const Gt=function It(be){const De=At(be),fe=De.link?decodeURIComponent(De.link):void 0,pt=At(fe).link,Gt=De.deep_link_id?decodeURIComponent(De.deep_link_id):void 0;return At(Gt).link||Gt||pt||fe||be}(De);if(Gt.includes("/__/auth/callback")){const bn=At(Gt),$e=bn.firebaseError?function ln(be){try{return JSON.parse(be)}catch{return null}}(decodeURIComponent(bn.firebaseError)):null,je=null===(pt=null===(fe=$e?.code)||void 0===fe?void 0:fe.split("auth/"))||void 0===pt?void 0:pt[1],Me=je?(0,V.az)(je):null;return Me?{type:be.type,eventId:be.eventId,tenantId:be.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:be.type,eventId:be.eventId,tenantId:be.tenantId,sessionId:be.sessionId,urlResponse:Gt,postBody:null}}return null}(Ln,qt.url)),fe.onEvent(xi||rt())});return function(Ln){return Lt.apply(this,arguments)}}();typeof pt<"u"&&"function"==typeof pt.subscribe&&pt.subscribe(null,je);const Me=Gt,nt=`${bn.packageName.toLowerCase()}://`;ie().handleOpenURL=function(){var Lt=(0,p.Z)(function*(qt){if(qt.toLowerCase().startsWith(nt)&&je({url:qt}),"function"==typeof Me)try{Me(qt)}catch(Ln){console.error(Ln)}});return function(qt){return Lt.apply(this,arguments)}}()}};function rt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.az)("no-auth-event")}}function tn(){var be;return(null===(be=self?.location)||void 0===be?void 0:be.protocol)||null}function Fn(be=(0,Te.z$)()){return!("file:"!==tn()&&"ionic:"!==tn()&&"capacitor:"!==tn()||!be.toLowerCase().match(/iphone|ipad|ipod|android/))}function si(){try{const be=self.localStorage,De=V.aL();if(be)return be.setItem(De,"1"),be.removeItem(De),!function Pi(be=(0,Te.z$)()){return function Un(){return(0,Te.w1)()&&11===document?.documentMode}()||function Ii(be=(0,Te.z$)()){return/Edge\/\d+/.test(be)}(be)}()||(0,Te.hl)()}catch{return ki()&&(0,Te.hl)()}return!1}function ki(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function er(){return(function Ht(){return"http:"===tn()||"https:"===tn()}()||(0,Te.ru)()||Fn())&&!function Jn(){return(0,Te.b$)()||(0,Te.UG)()}()&&si()&&!ki()}function ht(){return Fn()&&typeof document<"u"}function Ie(){return(Ie=(0,p.Z)(function*(){return!!ht()&&new Promise(be=>{const De=setTimeout(()=>{be(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(De),be(!0)})})})).apply(this,arguments)}const Ne={LOCAL:"local",NONE:"none",SESSION:"session"},lt=V.aA,An="persistence";function Pn(be){return ai.apply(this,arguments)}function ai(){return(ai=(0,p.Z)(function*(be){yield be._initializationPromise;const De=wn(),fe=V.aD(An,be.config.apiKey,be.name);De&&De.setItem(fe,be._getPersistence())})).apply(this,arguments)}function wn(){var be;try{return(null===(be=function ft(){return typeof window<"u"?window:null}())||void 0===be?void 0:be.sessionStorage)||null}catch{return null}}const $n=V.aA;class Oi{constructor(){this.browserResolver=V.aC(V.k),this.cordovaResolver=V.aC(Zt),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(De){var fe=this;return(0,p.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._initialize(De)})()}_openPopup(De,fe,pt,Gt){var bn=this;return(0,p.Z)(function*(){return yield bn.selectUnderlyingResolver(),bn.assertedUnderlyingResolver._openPopup(De,fe,pt,Gt)})()}_openRedirect(De,fe,pt,Gt){var bn=this;return(0,p.Z)(function*(){return yield bn.selectUnderlyingResolver(),bn.assertedUnderlyingResolver._openRedirect(De,fe,pt,Gt)})()}_isIframeWebStorageSupported(De,fe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(De,fe)}_originValidation(De){return this.assertedUnderlyingResolver._originValidation(De)}get _shouldInitProactively(){return ht()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $n(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var De=this;return(0,p.Z)(function*(){if(De.underlyingResolver)return;const fe=yield function ot(){return Ie.apply(this,arguments)}();De.underlyingResolver=fe?De.cordovaResolver:De.browserResolver})()}}function Yn(be){return be.unwrap()}function bi(be){return tr(be)}function tr(be){const{_tokenResponse:De}=be instanceof Te.ZR?be.customData:be;if(!De)return null;if(!(be instanceof Te.ZR)&&"temporaryProof"in De&&"phoneNumber"in De)return V.P.credentialFromResult(be);const fe=De.providerId;if(!fe||fe===V.p.PASSWORD)return null;let pt;switch(fe){case V.p.GOOGLE:pt=V.V;break;case V.p.FACEBOOK:pt=V.U;break;case V.p.GITHUB:pt=V.W;break;case V.p.TWITTER:pt=V.Z;break;default:const{oauthIdToken:Gt,oauthAccessToken:bn,oauthTokenSecret:$e,pendingToken:je,nonce:Me}=De;return bn||$e||Gt||je?je?fe.startsWith("saml.")?V.aO._create(fe,je):V.L._fromParams({providerId:fe,signInMethod:fe,pendingToken:je,idToken:Gt,accessToken:bn}):new V.X(fe).credential({idToken:Gt,accessToken:bn,rawNonce:Me}):null}return be instanceof Te.ZR?pt.credentialFromError(be):pt.credentialFromResult(be)}function gi(be,De){return De.catch(fe=>{throw fe instanceof Te.ZR&&function Gi(be,De){var fe;const pt=null===(fe=De.customData)||void 0===fe?void 0:fe._tokenResponse;if("auth/multi-factor-auth-required"===De?.code)De.resolver=new vr(be,V.aq(be,De));else if(pt){const Gt=tr(De),bn=De;Gt&&(bn.credential=Gt,bn.tenantId=pt.tenantId||void 0,bn.email=pt.email||void 0,bn.phoneNumber=pt.phoneNumber||void 0)}}(be,fe),fe}).then(fe=>{const Gt=fe.user;return{operationType:fe.operationType,credential:bi(fe),additionalUserInfo:V.ao(fe),user:sr.getOrCreate(Gt)}})}function Ur(be,De){return mi.apply(this,arguments)}function mi(){return(mi=(0,p.Z)(function*(be,De){const fe=yield De;return{verificationId:fe.verificationId,confirm:pt=>gi(be,fe.confirm(pt))}})).apply(this,arguments)}class vr{constructor(De,fe){this.resolver=fe,this.auth=function kn(be){return be.wrapped()}(De)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(De){return gi(Yn(this.auth),this.resolver.resolveSignIn(De))}}class sr{constructor(De){this._delegate=De,this.multiFactor=V.ar(De)}static getOrCreate(De){return sr.USER_MAP.has(De)||sr.USER_MAP.set(De,new sr(De)),sr.USER_MAP.get(De)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(De){return this._delegate.getIdTokenResult(De)}getIdToken(De){return this._delegate.getIdToken(De)}linkAndRetrieveDataWithCredential(De){return this.linkWithCredential(De)}linkWithCredential(De){var fe=this;return(0,p.Z)(function*(){return gi(fe.auth,V.a0(fe._delegate,De))})()}linkWithPhoneNumber(De,fe){var pt=this;return(0,p.Z)(function*(){return Ur(pt.auth,V.l(pt._delegate,De,fe))})()}linkWithPopup(De){var fe=this;return(0,p.Z)(function*(){return gi(fe.auth,V.d(fe._delegate,De,Oi))})()}linkWithRedirect(De){var fe=this;return(0,p.Z)(function*(){return yield Pn(V.aH(fe.auth)),V.g(fe._delegate,De,Oi)})()}reauthenticateAndRetrieveDataWithCredential(De){return this.reauthenticateWithCredential(De)}reauthenticateWithCredential(De){var fe=this;return(0,p.Z)(function*(){return gi(fe.auth,V.a1(fe._delegate,De))})()}reauthenticateWithPhoneNumber(De,fe){return Ur(this.auth,V.r(this._delegate,De,fe))}reauthenticateWithPopup(De){return gi(this.auth,V.e(this._delegate,De,Oi))}reauthenticateWithRedirect(De){var fe=this;return(0,p.Z)(function*(){return yield Pn(V.aH(fe.auth)),V.h(fe._delegate,De,Oi)})()}sendEmailVerification(De){return V.ae(this._delegate,De)}unlink(De){var fe=this;return(0,p.Z)(function*(){return yield V.an(fe._delegate,De),fe})()}updateEmail(De){return V.aj(this._delegate,De)}updatePassword(De){return V.ak(this._delegate,De)}updatePhoneNumber(De){return V.u(this._delegate,De)}updateProfile(De){return V.ai(this._delegate,De)}verifyBeforeUpdateEmail(De,fe){return V.af(this._delegate,De,fe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sr.USER_MAP=new WeakMap;const Ft=V.aA;let me=(()=>{class be{constructor(fe,pt){if(this.app=fe,pt.isInitialized())return this._delegate=pt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Gt}=fe.options;Ft(Gt,"invalid-api-key",{appName:fe.name}),Ft(Gt,"invalid-api-key",{appName:fe.name});const bn=typeof window<"u"?Oi:void 0;this._delegate=pt.initialize({options:{persistence:wt(Gt,fe.name),popupRedirectResolver:bn}}),this._delegate._updateErrorMap(V.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(fe){this._delegate.languageCode=fe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(fe){this._delegate.tenantId=fe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(fe,pt){V.I(this._delegate,fe,pt)}applyActionCode(fe){return V.a5(this._delegate,fe)}checkActionCode(fe){return V.a6(this._delegate,fe)}confirmPasswordReset(fe,pt){return V.a4(this._delegate,fe,pt)}createUserWithEmailAndPassword(fe,pt){var Gt=this;return(0,p.Z)(function*(){return gi(Gt._delegate,V.a8(Gt._delegate,fe,pt))})()}fetchProvidersForEmail(fe){return this.fetchSignInMethodsForEmail(fe)}fetchSignInMethodsForEmail(fe){return V.ad(this._delegate,fe)}isSignInWithEmailLink(fe){return V.ab(this._delegate,fe)}getRedirectResult(){var fe=this;return(0,p.Z)(function*(){Ft(er(),fe._delegate,"operation-not-supported-in-this-environment");const pt=yield V.j(fe._delegate,Oi);return pt?gi(fe._delegate,Promise.resolve(pt)):{credential:null,user:null}})()}addFrameworkForLogging(fe){!function Bt(be,De){(0,V.aH)(be)._logFramework(De)}(this._delegate,fe)}onAuthStateChanged(fe,pt,Gt){const{next:bn,error:$e,complete:je}=Fe(fe,pt,Gt);return this._delegate.onAuthStateChanged(bn,$e,je)}onIdTokenChanged(fe,pt,Gt){const{next:bn,error:$e,complete:je}=Fe(fe,pt,Gt);return this._delegate.onIdTokenChanged(bn,$e,je)}sendSignInLinkToEmail(fe,pt){return V.aa(this._delegate,fe,pt)}sendPasswordResetEmail(fe,pt){return V.a3(this._delegate,fe,pt||void 0)}setPersistence(fe){var pt=this;return(0,p.Z)(function*(){let Gt;switch(function hn(be,De){lt(Object.values(Ne).includes(De),be,"invalid-persistence-type"),(0,Te.b$)()?lt(De!==Ne.SESSION,be,"unsupported-persistence-type"):(0,Te.UG)()?lt(De===Ne.NONE,be,"unsupported-persistence-type"):ki()?lt(De===Ne.NONE||De===Ne.LOCAL&&(0,Te.hl)(),be,"unsupported-persistence-type"):lt(De===Ne.NONE||si(),be,"unsupported-persistence-type")}(pt._delegate,fe),fe){case Ne.SESSION:Gt=V.a;break;case Ne.LOCAL:Gt=(yield V.aC(V.i)._isAvailable())?V.i:V.b;break;case Ne.NONE:Gt=V.N;break;default:return V.av("argument-error",{appName:pt._delegate.name})}return pt._delegate.setPersistence(Gt)})()}signInAndRetrieveDataWithCredential(fe){return this.signInWithCredential(fe)}signInAnonymously(){return gi(this._delegate,V._(this._delegate))}signInWithCredential(fe){return gi(this._delegate,V.$(this._delegate,fe))}signInWithCustomToken(fe){return gi(this._delegate,V.a2(this._delegate,fe))}signInWithEmailAndPassword(fe,pt){return gi(this._delegate,V.a9(this._delegate,fe,pt))}signInWithEmailLink(fe,pt){return gi(this._delegate,V.ac(this._delegate,fe,pt))}signInWithPhoneNumber(fe,pt){return Ur(this._delegate,V.s(this._delegate,fe,pt))}signInWithPopup(fe){var pt=this;return(0,p.Z)(function*(){return Ft(er(),pt._delegate,"operation-not-supported-in-this-environment"),gi(pt._delegate,V.c(pt._delegate,fe,Oi))})()}signInWithRedirect(fe){var pt=this;return(0,p.Z)(function*(){return Ft(er(),pt._delegate,"operation-not-supported-in-this-environment"),yield Pn(pt._delegate),V.f(pt._delegate,fe,Oi)})()}updateCurrentUser(fe){return this._delegate.updateCurrentUser(fe)}verifyPasswordResetCode(fe){return V.a7(this._delegate,fe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return be.Persistence=Ne,be})();function Fe(be,De,fe){let pt=be;"function"!=typeof be&&({next:pt,error:De,complete:fe}=be);const Gt=pt;return{next:$e=>Gt($e&&sr.getOrCreate($e)),error:De,complete:fe}}function wt(be,De){const fe=function En(be,De){const fe=wn();if(!fe)return[];const pt=V.aD(An,be,De);switch(fe.getItem(pt)){case Ne.NONE:return[V.N];case Ne.LOCAL:return[V.i,V.a];case Ne.SESSION:return[V.a];default:return[]}}(be,De);if(typeof self<"u"&&!fe.includes(V.i)&&fe.push(V.i),typeof window<"u")for(const pt of[V.b,V.a])fe.includes(pt)||fe.push(pt);return fe.includes(V.N)||fe.push(V.N),fe}class an{constructor(){this.providerId="phone",this._delegate=new V.P(Yn(l.Z.auth()))}static credential(De,fe){return V.P.credential(De,fe)}verifyPhoneNumber(De,fe){return this._delegate.verifyPhoneNumber(De,fe)}unwrap(){return this._delegate}}an.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,an.PROVIDER_ID=V.P.PROVIDER_ID;const Bn=V.aA;class Ni{constructor(De,fe,pt=l.Z.app()){var Gt;Bn(null===(Gt=pt.options)||void 0===Gt?void 0:Gt.apiKey,"invalid-api-key",{appName:pt.name}),this._delegate=new V.R(De,fe,pt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ue(be){be.INTERNAL.registerComponent(new le.wA("auth-compat",De=>{const fe=De.getProvider("app-compat").getImmediate(),pt=De.getProvider("auth");return new me(fe,pt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.Q,FacebookAuthProvider:V.U,GithubAuthProvider:V.W,GoogleAuthProvider:V.V,OAuthProvider:V.X,SAMLAuthProvider:V.Y,PhoneAuthProvider:an,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:Ni,TwitterAuthProvider:V.Z,Auth:me,AuthCredential:V.J,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),be.registerVersion("@firebase/auth-compat","0.4.1")}(l.Z)},9379:(dn,dt,k)=>{k.d(dt,{Bh:()=>q});var p=k(7579),l=k(4968),V=k(4650),Te=k(6895);class ce{attach(T){return this._attachedHost=T,T.attach(this)}detach(){let T=this._attachedHost;null!=T&&(this._attachedHost=null,T.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(T){this._attachedHost=T}}class Oe extends ce{constructor(T,O,Q,ue,Ve){super(),this.component=T,this.viewContainerRef=O,this.injector=Q,this.componentFactoryResolver=ue,this.projectableNodes=Ve}}class et extends ce{constructor(T,O,Q,ue){super(),this.templateRef=T,this.viewContainerRef=O,this.context=Q,this.injector=ue}get origin(){return this.templateRef.elementRef}attach(T,O=this.context){return this.context=O,super.attach(T)}detach(){return this.context=void 0,super.detach()}}class ut extends ce{constructor(T){super(),this.element=T instanceof V.SBq?T.nativeElement:T}}class st{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(T){return T instanceof Oe?(this._attachedPortal=T,this.attachComponentPortal(T)):T instanceof et?(this._attachedPortal=T,this.attachTemplatePortal(T)):this.attachDomPortal&&T instanceof ut?(this._attachedPortal=T,this.attachDomPortal(T)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(T){this._disposeFn=T}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Be extends st{constructor(T,O,Q,ue,Ve){super(),this.outletElement=T,this._componentFactoryResolver=O,this._appRef=Q,this._defaultInjector=ue,this.attachDomPortal=Ct=>{const vn=Ct.element,Wn=this._document.createComment("dom-portal");vn.parentNode.insertBefore(Wn,vn),this.outletElement.appendChild(vn),this._attachedPortal=Ct,super.setDisposeFn(()=>{Wn.parentNode&&Wn.parentNode.replaceChild(vn,Wn)})},this._document=Ve}attachComponentPortal(T){const Q=(T.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(T.component);let ue;return T.viewContainerRef?(ue=T.viewContainerRef.createComponent(Q,T.viewContainerRef.length,T.injector||T.viewContainerRef.injector,T.projectableNodes||void 0),this.setDisposeFn(()=>ue.destroy())):(ue=Q.create(T.injector||this._defaultInjector||V.zs3.NULL),this._appRef.attachView(ue.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ue.hostView),ue.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ue)),this._attachedPortal=T,ue}attachTemplatePortal(T){let O=T.viewContainerRef,Q=O.createEmbeddedView(T.templateRef,T.context,{injector:T.injector});return Q.rootNodes.forEach(ue=>this.outletElement.appendChild(ue)),Q.detectChanges(),this.setDisposeFn(()=>{let ue=O.indexOf(Q);-1!==ue&&O.remove(ue)}),this._attachedPortal=T,Q}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(T){return T.hostView.rootNodes[0]}}let Ae=(()=>{class P extends st{constructor(O,Q,ue){super(),this._componentFactoryResolver=O,this._viewContainerRef=Q,this._isInitialized=!1,this.attached=new V.vpe,this.attachDomPortal=Ve=>{const Ct=Ve.element,vn=this._document.createComment("dom-portal");Ve.setAttachedHost(this),Ct.parentNode.insertBefore(vn,Ct),this._getRootNode().appendChild(Ct),this._attachedPortal=Ve,super.setDisposeFn(()=>{vn.parentNode&&vn.parentNode.replaceChild(Ct,vn)})},this._document=ue}get portal(){return this._attachedPortal}set portal(O){this.hasAttached()&&!O&&!this._isInitialized||(this.hasAttached()&&super.detach(),O&&super.attach(O),this._attachedPortal=O||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(O){O.setAttachedHost(this);const Q=null!=O.viewContainerRef?O.viewContainerRef:this._viewContainerRef,Ve=(O.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(O.component),Ct=Q.createComponent(Ve,Q.length,O.injector||Q.injector,O.projectableNodes||void 0);return Q!==this._viewContainerRef&&this._getRootNode().appendChild(Ct.hostView.rootNodes[0]),super.setDisposeFn(()=>Ct.destroy()),this._attachedPortal=O,this._attachedRef=Ct,this.attached.emit(Ct),Ct}attachTemplatePortal(O){O.setAttachedHost(this);const Q=this._viewContainerRef.createEmbeddedView(O.templateRef,O.context,{injector:O.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=O,this._attachedRef=Q,this.attached.emit(Q),Q}_getRootNode(){const O=this._viewContainerRef.element.nativeElement;return O.nodeType===O.ELEMENT_NODE?O:O.parentNode}}return P.\u0275fac=function(O){return new(O||P)(V.Y36(V._Vd),V.Y36(V.s_b),V.Y36(Te.K0))},P.\u0275dir=V.lG2({type:P,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[V.qOj]}),P})();var Ge=k(9300),Ye=k(2722),Vt=k(5698);let pn;try{pn=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pn=!1}let Bt,Yt=(()=>{class P{constructor(O){this._platformId=O,this.isBrowser=this._platformId?(0,Te.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pn)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(V.Lbi))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Re(){if(null==Bt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Bt=!1,Bt;if("scrollBehavior"in document.documentElement.style)Bt=!0;else{const P=Element.prototype.scrollTo;Bt=!!P&&!/\{\s*\[native code\]\s*\}/.test(P.toString())}}return Bt}function Jn(P){return P.composedPath?P.composedPath()[0]:P.target}function Un(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let kr=(()=>{class P{constructor(O){this._platform=O}isDisabled(O){return O.hasAttribute("disabled")}isVisible(O){return function zs(P){return!!(P.offsetWidth||P.offsetHeight||"function"==typeof P.getClientRects&&P.getClientRects().length)}(O)&&"visible"===getComputedStyle(O).visibility}isTabbable(O){if(!this._platform.isBrowser)return!1;const Q=function Po(P){try{return P.frameElement}catch{return null}}(function Xo(P){return P.ownerDocument&&P.ownerDocument.defaultView||window}(O));if(Q&&(-1===Bi(Q)||!this.isVisible(Q)))return!1;let ue=O.nodeName.toLowerCase(),Ve=Bi(O);return O.hasAttribute("contenteditable")?-1!==Ve:!("iframe"===ue||"object"===ue||this._platform.WEBKIT&&this._platform.IOS&&!function gr(P){let T=P.nodeName.toLowerCase(),O="input"===T&&P.type;return"text"===O||"password"===O||"select"===T||"textarea"===T}(O))&&("audio"===ue?!!O.hasAttribute("controls")&&-1!==Ve:"video"===ue?-1!==Ve&&(null!==Ve||this._platform.FIREFOX||O.hasAttribute("controls")):O.tabIndex>=0)}isFocusable(O,Q){return function As(P){return!function fo(P){return function Yr(P){return"input"==P.nodeName.toLowerCase()}(P)&&"hidden"==P.type}(P)&&(function Gr(P){let T=P.nodeName.toLowerCase();return"input"===T||"select"===T||"button"===T||"textarea"===T}(P)||function jr(P){return function Qs(P){return"a"==P.nodeName.toLowerCase()}(P)&&P.hasAttribute("href")}(P)||P.hasAttribute("contenteditable")||fa(P))}(O)&&!this.isDisabled(O)&&(Q?.ignoreVisibility||this.isVisible(O))}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(Yt))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function fa(P){if(!P.hasAttribute("tabindex")||void 0===P.tabIndex)return!1;let T=P.getAttribute("tabindex");return!(!T||isNaN(parseInt(T,10)))}function Bi(P){if(!fa(P))return null;const T=parseInt(P.getAttribute("tabindex")||"",10);return isNaN(T)?-1:T}class Sl{get enabled(){return this._enabled}set enabled(T){this._enabled=T,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(T,this._startAnchor),this._toggleAnchorTabIndex(T,this._endAnchor))}constructor(T,O,Q,ue,Ve=!1){this._element=T,this._checker=O,this._ngZone=Q,this._document=ue,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ve||this.attachAnchors()}destroy(){const T=this._startAnchor,O=this._endAnchor;T&&(T.removeEventListener("focus",this.startAnchorListener),T.remove()),O&&(O.removeEventListener("focus",this.endAnchorListener),O.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(T){return new Promise(O=>{this._executeOnStable(()=>O(this.focusInitialElement(T)))})}focusFirstTabbableElementWhenReady(T){return new Promise(O=>{this._executeOnStable(()=>O(this.focusFirstTabbableElement(T)))})}focusLastTabbableElementWhenReady(T){return new Promise(O=>{this._executeOnStable(()=>O(this.focusLastTabbableElement(T)))})}_getRegionBoundary(T){const O=this._element.querySelectorAll(`[cdk-focus-region-${T}], [cdkFocusRegion${T}], [cdk-focus-${T}]`);return"start"==T?O.length?O[0]:this._getFirstTabbableElement(this._element):O.length?O[O.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(T){const O=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(O){if(!this._checker.isFocusable(O)){const Q=this._getFirstTabbableElement(O);return Q?.focus(T),!!Q}return O.focus(T),!0}return this.focusFirstTabbableElement(T)}focusFirstTabbableElement(T){const O=this._getRegionBoundary("start");return O&&O.focus(T),!!O}focusLastTabbableElement(T){const O=this._getRegionBoundary("end");return O&&O.focus(T),!!O}hasAttached(){return this._hasAttached}_getFirstTabbableElement(T){if(this._checker.isFocusable(T)&&this._checker.isTabbable(T))return T;const O=T.children;for(let Q=0;Q<O.length;Q++){const ue=O[Q].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(O[Q]):null;if(ue)return ue}return null}_getLastTabbableElement(T){if(this._checker.isFocusable(T)&&this._checker.isTabbable(T))return T;const O=T.children;for(let Q=O.length-1;Q>=0;Q--){const ue=O[Q].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(O[Q]):null;if(ue)return ue}return null}_createAnchor(){const T=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,T),T.classList.add("cdk-visually-hidden"),T.classList.add("cdk-focus-trap-anchor"),T.setAttribute("aria-hidden","true"),T}_toggleAnchorTabIndex(T,O){T?O.setAttribute("tabindex","0"):O.removeAttribute("tabindex")}toggleAnchors(T){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(T,this._startAnchor),this._toggleAnchorTabIndex(T,this._endAnchor))}_executeOnStable(T){this._ngZone.isStable?T():this._ngZone.onStable.pipe((0,Vt.q)(1)).subscribe(T)}}class ko extends Sl{get enabled(){return this._enabled}set enabled(T){this._enabled=T,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(T,O,Q,ue,Ve,Ct,vn){super(T,O,Q,ue,vn.defer),this._focusTrapManager=Ve,this._inertStrategy=Ct,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const ui=new V.OlP("FOCUS_TRAP_INERT_STRATEGY");class Fo{constructor(){this._listener=null}preventFocus(T){this._listener&&T._document.removeEventListener("focus",this._listener,!0),this._listener=O=>this._trapFocus(T,O),T._ngZone.runOutsideAngular(()=>{T._document.addEventListener("focus",this._listener,!0)})}allowFocus(T){this._listener&&(T._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(T,O){const Q=O.target,ue=T._element;Q&&!ue.contains(Q)&&!Q.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{T.enabled&&!ue.contains(T._document.activeElement)&&T.focusFirstTabbableElement()})}}let $s=(()=>{class P{constructor(){this._focusTrapStack=[]}register(O){this._focusTrapStack=this._focusTrapStack.filter(ue=>ue!==O);let Q=this._focusTrapStack;Q.length&&Q[Q.length-1]._disable(),Q.push(O),O._enable()}deregister(O){O._disable();const Q=this._focusTrapStack,ue=Q.indexOf(O);-1!==ue&&(Q.splice(ue,1),Q.length&&Q[Q.length-1]._enable())}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),xa=(()=>{class P{constructor(O,Q,ue,Ve,Ct){this._checker=O,this._ngZone=Q,this._focusTrapManager=ue,this._document=Ve,this._inertStrategy=Ct||new Fo}create(O,Q={defer:!1}){let ue;return ue="boolean"==typeof Q?{defer:Q}:Q,new ko(O,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,ue)}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(kr),V.LFG(V.R0b),V.LFG($s),V.LFG(Te.K0),V.LFG(ui,8))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Rs(P){return Array.isArray(P)?P:[P]}function es(P){return null==P?"":"string"==typeof P?P:`${P}px`}var qr=k(9646),Fr=k(9751),Uo=k(4408),Wi=k(727);const Xs={schedule(P){let T=requestAnimationFrame,O=cancelAnimationFrame;const{delegate:Q}=Xs;Q&&(T=Q.requestAnimationFrame,O=Q.cancelAnimationFrame);const ue=T(Ve=>{O=void 0,P(Ve)});return new Wi.w0(()=>O?.(ue))},requestAnimationFrame(...P){const{delegate:T}=Xs;return(T?.requestAnimationFrame||requestAnimationFrame)(...P)},cancelAnimationFrame(...P){const{delegate:T}=Xs;return(T?.cancelAnimationFrame||cancelAnimationFrame)(...P)},delegate:void 0};var ns=k(7565);new class qa extends ns.v{flush(T){this._active=!0;const O=this._scheduled;this._scheduled=void 0;const{actions:Q}=this;let ue;T=T||Q.shift();do{if(ue=T.execute(T.state,T.delay))break}while((T=Q[0])&&T.id===O&&Q.shift());if(this._active=!1,ue){for(;(T=Q[0])&&T.id===O&&Q.shift();)T.unsubscribe();throw ue}}}(class Pa extends Uo.o{constructor(T,O){super(T,O),this.scheduler=T,this.work=O}requestAsyncId(T,O,Q=0){return null!==Q&&Q>0?super.requestAsyncId(T,O,Q):(T.actions.push(this),T._scheduled||(T._scheduled=Xs.requestAnimationFrame(()=>T.flush(void 0))))}recycleAsyncId(T,O,Q=0){var ue;if(null!=Q?Q>0:this.delay>0)return super.recycleAsyncId(T,O,Q);const{actions:Ve}=T;null!=O&&(null===(ue=Ve[Ve.length-1])||void 0===ue?void 0:ue.id)!==O&&(Xs.cancelAnimationFrame(O),T._scheduled=void 0)}});let ka,Ja=1;const Or={};function ss(P){return P in Or&&(delete Or[P],!0)}const Vi={setImmediate(P){const T=Ja++;return Or[T]=!0,ka||(ka=Promise.resolve()),ka.then(()=>ss(T)&&P()),T},clearImmediate(P){ss(P)}},{setImmediate:ta,clearImmediate:ga}=Vi,Xa={setImmediate(...P){const{delegate:T}=Xa;return(T?.setImmediate||ta)(...P)},clearImmediate(P){const{delegate:T}=Xa;return(T?.clearImmediate||ga)(P)},delegate:void 0};new class Ks extends ns.v{flush(T){this._active=!0;const O=this._scheduled;this._scheduled=void 0;const{actions:Q}=this;let ue;T=T||Q.shift();do{if(ue=T.execute(T.state,T.delay))break}while((T=Q[0])&&T.id===O&&Q.shift());if(this._active=!1,ue){for(;(T=Q[0])&&T.id===O&&Q.shift();)T.unsubscribe();throw ue}}}(class Qr extends Uo.o{constructor(T,O){super(T,O),this.scheduler=T,this.work=O}requestAsyncId(T,O,Q=0){return null!==Q&&Q>0?super.requestAsyncId(T,O,Q):(T.actions.push(this),T._scheduled||(T._scheduled=Xa.setImmediate(T.flush.bind(T,void 0))))}recycleAsyncId(T,O,Q=0){var ue;if(null!=Q?Q>0:this.delay>0)return super.recycleAsyncId(T,O,Q);const{actions:Ve}=T;null!=O&&(null===(ue=Ve[Ve.length-1])||void 0===ue?void 0:ue.id)!==O&&(Xa.clearImmediate(O),T._scheduled=void 0)}});var U=k(4986),te=k(4482),K=k(8421),pe=k(5403),kt=k(5963);function Jt(P,T=U.z){return function We(P){return(0,te.e)((T,O)=>{let Q=!1,ue=null,Ve=null,Ct=!1;const vn=()=>{if(Ve?.unsubscribe(),Ve=null,Q){Q=!1;const ri=ue;ue=null,O.next(ri)}Ct&&O.complete()},Wn=()=>{Ve=null,Ct&&O.complete()};T.subscribe((0,pe.x)(O,ri=>{Q=!0,ue=ri,Ve||(0,K.Xf)(P(ri)).subscribe(Ve=(0,pe.x)(O,vn,Wn))},()=>{Ct=!0,(!Q||!Ve||Ve.closed)&&O.complete()}))})}(()=>(0,kt.H)(P,T))}let xr=(()=>{class P{constructor(O,Q,ue){this._ngZone=O,this._platform=Q,this._scrolled=new p.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ue}register(O){this.scrollContainers.has(O)||this.scrollContainers.set(O,O.elementScrolled().subscribe(()=>this._scrolled.next(O)))}deregister(O){const Q=this.scrollContainers.get(O);Q&&(Q.unsubscribe(),this.scrollContainers.delete(O))}scrolled(O=20){return this._platform.isBrowser?new Fr.y(Q=>{this._globalSubscription||this._addGlobalListener();const ue=O>0?this._scrolled.pipe(Jt(O)).subscribe(Q):this._scrolled.subscribe(Q);return this._scrolledCount++,()=>{ue.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,qr.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((O,Q)=>this.deregister(Q)),this._scrolled.complete()}ancestorScrolled(O,Q){const ue=this.getAncestorScrollContainers(O);return this.scrolled(Q).pipe((0,Ge.h)(Ve=>!Ve||ue.indexOf(Ve)>-1))}getAncestorScrollContainers(O){const Q=[];return this.scrollContainers.forEach((ue,Ve)=>{this._scrollableContainsElement(Ve,O)&&Q.push(Ve)}),Q}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(O,Q){let ue=function ts(P){return P instanceof V.SBq?P.nativeElement:P}(Q),Ve=O.getElementRef().nativeElement;do{if(ue==Ve)return!0}while(ue=ue.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const O=this._getWindow();return(0,l.R)(O.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(V.R0b),V.LFG(Yt),V.LFG(Te.K0,8))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),_r=(()=>{class P{constructor(O,Q,ue){this._platform=O,this._change=new p.x,this._changeListener=Ve=>{this._change.next(Ve)},this._document=ue,Q.runOutsideAngular(()=>{if(O.isBrowser){const Ve=this._getWindow();Ve.addEventListener("resize",this._changeListener),Ve.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const O=this._getWindow();O.removeEventListener("resize",this._changeListener),O.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const O={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),O}getViewportRect(){const O=this.getViewportScrollPosition(),{width:Q,height:ue}=this.getViewportSize();return{top:O.top,left:O.left,bottom:O.top+ue,right:O.left+Q,height:ue,width:Q}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const O=this._document,Q=this._getWindow(),ue=O.documentElement,Ve=ue.getBoundingClientRect();return{top:-Ve.top||O.body.scrollTop||Q.scrollY||ue.scrollTop||0,left:-Ve.left||O.body.scrollLeft||Q.scrollX||ue.scrollLeft||0}}change(O=20){return O>0?this._change.pipe(Jt(O)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const O=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:O.innerWidth,height:O.innerHeight}:{width:0,height:0}}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(Yt),V.LFG(V.R0b),V.LFG(Te.K0,8))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();const wo=new V.OlP("cdk-dir-doc",{providedIn:"root",factory:function Bl(){return(0,V.f3M)(Te.K0)}}),Vl=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Tc=(()=>{class P{constructor(O){this.value="ltr",this.change=new V.vpe,O&&(this.value=function ia(P){const T=P?.toLowerCase()||"";return"auto"===T&&typeof navigator<"u"&&navigator?.language?Vl.test(navigator.language)?"rtl":"ltr":"rtl"===T?"rtl":"ltr"}((O.body?O.body.dir:null)||(O.documentElement?O.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(wo,8))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();var Ps=k(6451);const Si=Re();class Ho{constructor(T,O){this._viewportRuler=T,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=O}attach(){}enable(){if(this._canBeEnabled()){const T=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=T.style.left||"",this._previousHTMLStyles.top=T.style.top||"",T.style.left=es(-this._previousScrollPosition.left),T.style.top=es(-this._previousScrollPosition.top),T.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const T=this._document.documentElement,Q=T.style,ue=this._document.body.style,Ve=Q.scrollBehavior||"",Ct=ue.scrollBehavior||"";this._isEnabled=!1,Q.left=this._previousHTMLStyles.left,Q.top=this._previousHTMLStyles.top,T.classList.remove("cdk-global-scrollblock"),Si&&(Q.scrollBehavior=ue.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Si&&(Q.scrollBehavior=Ve,ue.scrollBehavior=Ct)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const O=this._document.body,Q=this._viewportRuler.getViewportSize();return O.scrollHeight>Q.height||O.scrollWidth>Q.width}}class zr{constructor(T,O,Q,ue){this._scrollDispatcher=T,this._ngZone=O,this._viewportRuler=Q,this._config=ue,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(T){this._overlayRef=T}enable(){if(this._scrollSubscription)return;const T=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=T.subscribe(()=>{const O=this._viewportRuler.getViewportScrollPosition().top;Math.abs(O-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=T.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Rn{enable(){}disable(){}attach(){}}function La(P,T){return T.some(O=>P.bottom<O.top||P.top>O.bottom||P.right<O.left||P.left>O.right)}function li(P,T){return T.some(O=>P.top<O.top||P.bottom>O.bottom||P.left<O.left||P.right>O.right)}class Eo{constructor(T,O,Q,ue){this._scrollDispatcher=T,this._viewportRuler=O,this._ngZone=Q,this._config=ue,this._scrollSubscription=null}attach(T){this._overlayRef=T}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const O=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Q,height:ue}=this._viewportRuler.getViewportSize();La(O,[{width:Q,height:ue,bottom:ue,right:Q,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hr=(()=>{class P{constructor(O,Q,ue,Ve){this._scrollDispatcher=O,this._viewportRuler=Q,this._ngZone=ue,this.noop=()=>new Rn,this.close=Ct=>new zr(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ct),this.block=()=>new Ho(this._viewportRuler,this._document),this.reposition=Ct=>new Eo(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ct),this._document=Ve}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(xr),V.LFG(_r),V.LFG(V.R0b),V.LFG(Te.K0))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();class gn{constructor(T){if(this.scrollStrategy=new Rn,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,T){const O=Object.keys(T);for(const Q of O)void 0!==T[Q]&&(this[Q]=T[Q])}}}class Zs{constructor(T,O){this.connectionPair=T,this.scrollableViewProperties=O}}let Ba=(()=>{class P{constructor(O){this._attachedOverlays=[],this._document=O}ngOnDestroy(){this.detach()}add(O){this.remove(O),this._attachedOverlays.push(O)}remove(O){const Q=this._attachedOverlays.indexOf(O);Q>-1&&this._attachedOverlays.splice(Q,1),0===this._attachedOverlays.length&&this.detach()}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(Te.K0))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),tl=(()=>{class P extends Ba{constructor(O,Q){super(O),this._ngZone=Q,this._keydownListener=ue=>{const Ve=this._attachedOverlays;for(let Ct=Ve.length-1;Ct>-1;Ct--)if(Ve[Ct]._keydownEvents.observers.length>0){const vn=Ve[Ct]._keydownEvents;this._ngZone?this._ngZone.run(()=>vn.next(ue)):vn.next(ue);break}}}add(O){super.add(O),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(Te.K0),V.LFG(V.R0b,8))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),ra=(()=>{class P extends Ba{constructor(O,Q,ue){super(O),this._platform=Q,this._ngZone=ue,this._cursorStyleIsSet=!1,this._pointerDownListener=Ve=>{this._pointerDownEventTarget=Jn(Ve)},this._clickListener=Ve=>{const Ct=Jn(Ve),vn="click"===Ve.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ct;this._pointerDownEventTarget=null;const Wn=this._attachedOverlays.slice();for(let ri=Wn.length-1;ri>-1;ri--){const di=Wn[ri];if(di._outsidePointerEvents.observers.length<1||!di.hasAttached())continue;if(di.overlayElement.contains(Ct)||di.overlayElement.contains(vn))break;const Vr=di._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Vr.next(Ve)):Vr.next(Ve)}}}add(O){if(super.add(O),!this._isAttached){const Q=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Q)):this._addEventListeners(Q),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Q.style.cursor,Q.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const O=this._document.body;O.removeEventListener("pointerdown",this._pointerDownListener,!0),O.removeEventListener("click",this._clickListener,!0),O.removeEventListener("auxclick",this._clickListener,!0),O.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(O.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(O){O.addEventListener("pointerdown",this._pointerDownListener,!0),O.addEventListener("click",this._clickListener,!0),O.addEventListener("auxclick",this._clickListener,!0),O.addEventListener("contextmenu",this._clickListener,!0)}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(Te.K0),V.LFG(Yt),V.LFG(V.R0b,8))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),sa=(()=>{class P{constructor(O,Q){this._platform=Q,this._document=O}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const O="cdk-overlay-container";if(this._platform.isBrowser||Un()){const ue=this._document.querySelectorAll(`.${O}[platform="server"], .${O}[platform="test"]`);for(let Ve=0;Ve<ue.length;Ve++)ue[Ve].remove()}const Q=this._document.createElement("div");Q.classList.add(O),Un()?Q.setAttribute("platform","test"):this._platform.isBrowser||Q.setAttribute("platform","server"),this._document.body.appendChild(Q),this._containerElement=Q}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(Te.K0),V.LFG(Yt))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();class ws{constructor(T,O,Q,ue,Ve,Ct,vn,Wn,ri,di=!1){this._portalOutlet=T,this._host=O,this._pane=Q,this._config=ue,this._ngZone=Ve,this._keyboardDispatcher=Ct,this._document=vn,this._location=Wn,this._outsideClickDispatcher=ri,this._animationsDisabled=di,this._backdropElement=null,this._backdropClick=new p.x,this._attachments=new p.x,this._detachments=new p.x,this._locationChanges=Wi.w0.EMPTY,this._backdropClickHandler=Vr=>this._backdropClick.next(Vr),this._backdropTransitionendHandler=Vr=>{this._disposeBackdrop(Vr.target)},this._keydownEvents=new p.x,this._outsidePointerEvents=new p.x,ue.scrollStrategy&&(this._scrollStrategy=ue.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ue.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(T){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const O=this._portalOutlet.attach(T);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Vt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof O?.onDestroy&&O.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),O}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const T=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),T}dispose(){const T=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,T&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(T){T!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=T,this.hasAttached()&&(T.attach(this),this.updatePosition()))}updateSize(T){this._config={...this._config,...T},this._updateElementSize()}setDirection(T){this._config={...this._config,direction:T},this._updateElementDirection()}addPanelClass(T){this._pane&&this._toggleClasses(this._pane,T,!0)}removePanelClass(T){this._pane&&this._toggleClasses(this._pane,T,!1)}getDirection(){const T=this._config.direction;return T?"string"==typeof T?T:T.value:"ltr"}updateScrollStrategy(T){T!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=T,this.hasAttached()&&(T.attach(this),T.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const T=this._pane.style;T.width=es(this._config.width),T.height=es(this._config.height),T.minWidth=es(this._config.minWidth),T.minHeight=es(this._config.minHeight),T.maxWidth=es(this._config.maxWidth),T.maxHeight=es(this._config.maxHeight)}_togglePointerEvents(T){this._pane.style.pointerEvents=T?"":"none"}_attachBackdrop(){const T="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(T)})}):this._backdropElement.classList.add(T)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const T=this._backdropElement;if(T){if(this._animationsDisabled)return void this._disposeBackdrop(T);T.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{T.addEventListener("transitionend",this._backdropTransitionendHandler)}),T.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(T)},500))}}_toggleClasses(T,O,Q){const ue=Rs(O||[]).filter(Ve=>!!Ve);ue.length&&(Q?T.classList.add(...ue):T.classList.remove(...ue))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const T=this._ngZone.onStable.pipe((0,Ye.R)((0,Ps.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),T.unsubscribe())})})}_disposeScrollStrategy(){const T=this._scrollStrategy;T&&(T.disable(),T.detach&&T.detach())}_disposeBackdrop(T){T&&(T.removeEventListener("click",this._backdropClickHandler),T.removeEventListener("transitionend",this._backdropTransitionendHandler),T.remove(),this._backdropElement===T&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const nl="cdk-overlay-connected-position-bounding-box",Go=/([A-Za-z%]+)$/;class il{get positions(){return this._preferredPositions}constructor(T,O,Q,ue,Ve){this._viewportRuler=O,this._document=Q,this._platform=ue,this._overlayContainer=Ve,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new p.x,this._resizeSubscription=Wi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(T)}attach(T){this._validatePositions(),T.hostElement.classList.add(nl),this._overlayRef=T,this._boundingBox=T.hostElement,this._pane=T.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const T=this._originRect,O=this._overlayRect,Q=this._viewportRect,ue=this._containerRect,Ve=[];let Ct;for(let vn of this._preferredPositions){let Wn=this._getOriginPoint(T,ue,vn),ri=this._getOverlayPoint(Wn,O,vn),di=this._getOverlayFit(ri,O,Q,vn);if(di.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(vn,Wn);this._canFitWithFlexibleDimensions(di,ri,Q)?Ve.push({position:vn,origin:Wn,overlayRect:O,boundingBoxRect:this._calculateBoundingBoxRect(Wn,vn)}):(!Ct||Ct.overlayFit.visibleArea<di.visibleArea)&&(Ct={overlayFit:di,overlayPoint:ri,originPoint:Wn,position:vn,overlayRect:O})}if(Ve.length){let vn=null,Wn=-1;for(const ri of Ve){const di=ri.boundingBoxRect.width*ri.boundingBoxRect.height*(ri.position.weight||1);di>Wn&&(Wn=di,vn=ri)}return this._isPushed=!1,void this._applyPosition(vn.position,vn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ct.position,Ct.originPoint);this._applyPosition(Ct.position,Ct.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nl),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const T=this._lastPosition;if(T){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const O=this._getOriginPoint(this._originRect,this._containerRect,T);this._applyPosition(T,O)}else this.apply()}withScrollableContainers(T){return this._scrollables=T,this}withPositions(T){return this._preferredPositions=T,-1===T.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(T){return this._viewportMargin=T,this}withFlexibleDimensions(T=!0){return this._hasFlexibleDimensions=T,this}withGrowAfterOpen(T=!0){return this._growAfterOpen=T,this}withPush(T=!0){return this._canPush=T,this}withLockedPosition(T=!0){return this._positionLocked=T,this}setOrigin(T){return this._origin=T,this}withDefaultOffsetX(T){return this._offsetX=T,this}withDefaultOffsetY(T){return this._offsetY=T,this}withTransformOriginOn(T){return this._transformOriginSelector=T,this}_getOriginPoint(T,O,Q){let ue,Ve;if("center"==Q.originX)ue=T.left+T.width/2;else{const Ct=this._isRtl()?T.right:T.left,vn=this._isRtl()?T.left:T.right;ue="start"==Q.originX?Ct:vn}return O.left<0&&(ue-=O.left),Ve="center"==Q.originY?T.top+T.height/2:"top"==Q.originY?T.top:T.bottom,O.top<0&&(Ve-=O.top),{x:ue,y:Ve}}_getOverlayPoint(T,O,Q){let ue,Ve;return ue="center"==Q.overlayX?-O.width/2:"start"===Q.overlayX?this._isRtl()?-O.width:0:this._isRtl()?0:-O.width,Ve="center"==Q.overlayY?-O.height/2:"top"==Q.overlayY?0:-O.height,{x:T.x+ue,y:T.y+Ve}}_getOverlayFit(T,O,Q,ue){const Ve=_t(O);let{x:Ct,y:vn}=T,Wn=this._getOffset(ue,"x"),ri=this._getOffset(ue,"y");Wn&&(Ct+=Wn),ri&&(vn+=ri);let fs=0-vn,ps=vn+Ve.height-Q.height,jo=this._subtractOverflows(Ve.width,0-Ct,Ct+Ve.width-Q.width),ro=this._subtractOverflows(Ve.height,fs,ps),Bc=jo*ro;return{visibleArea:Bc,isCompletelyWithinViewport:Ve.width*Ve.height===Bc,fitsInViewportVertically:ro===Ve.height,fitsInViewportHorizontally:jo==Ve.width}}_canFitWithFlexibleDimensions(T,O,Q){if(this._hasFlexibleDimensions){const ue=Q.bottom-O.y,Ve=Q.right-O.x,Ct=rl(this._overlayRef.getConfig().minHeight),vn=rl(this._overlayRef.getConfig().minWidth);return(T.fitsInViewportVertically||null!=Ct&&Ct<=ue)&&(T.fitsInViewportHorizontally||null!=vn&&vn<=Ve)}return!1}_pushOverlayOnScreen(T,O,Q){if(this._previousPushAmount&&this._positionLocked)return{x:T.x+this._previousPushAmount.x,y:T.y+this._previousPushAmount.y};const ue=_t(O),Ve=this._viewportRect,Ct=Math.max(T.x+ue.width-Ve.width,0),vn=Math.max(T.y+ue.height-Ve.height,0),Wn=Math.max(Ve.top-Q.top-T.y,0),ri=Math.max(Ve.left-Q.left-T.x,0);let di=0,Vr=0;return di=ue.width<=Ve.width?ri||-Ct:T.x<this._viewportMargin?Ve.left-Q.left-T.x:0,Vr=ue.height<=Ve.height?Wn||-vn:T.y<this._viewportMargin?Ve.top-Q.top-T.y:0,this._previousPushAmount={x:di,y:Vr},{x:T.x+di,y:T.y+Vr}}_applyPosition(T,O){if(this._setTransformOrigin(T),this._setOverlayElementStyles(O,T),this._setBoundingBoxStyles(O,T),T.panelClass&&this._addPanelClasses(T.panelClass),this._lastPosition=T,this._positionChanges.observers.length){const Q=this._getScrollVisibility(),ue=new Zs(T,Q);this._positionChanges.next(ue)}this._isInitialRender=!1}_setTransformOrigin(T){if(!this._transformOriginSelector)return;const O=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Q,ue=T.overlayY;Q="center"===T.overlayX?"center":this._isRtl()?"start"===T.overlayX?"right":"left":"start"===T.overlayX?"left":"right";for(let Ve=0;Ve<O.length;Ve++)O[Ve].style.transformOrigin=`${Q} ${ue}`}_calculateBoundingBoxRect(T,O){const Q=this._viewportRect,ue=this._isRtl();let Ve,Ct,vn,di,Vr,fs;if("top"===O.overlayY)Ct=T.y,Ve=Q.height-Ct+this._viewportMargin;else if("bottom"===O.overlayY)vn=Q.height-T.y+2*this._viewportMargin,Ve=Q.height-vn+this._viewportMargin;else{const ps=Math.min(Q.bottom-T.y+Q.top,T.y),jo=this._lastBoundingBoxSize.height;Ve=2*ps,Ct=T.y-ps,Ve>jo&&!this._isInitialRender&&!this._growAfterOpen&&(Ct=T.y-jo/2)}if("end"===O.overlayX&&!ue||"start"===O.overlayX&&ue)fs=Q.width-T.x+this._viewportMargin,di=T.x-this._viewportMargin;else if("start"===O.overlayX&&!ue||"end"===O.overlayX&&ue)Vr=T.x,di=Q.right-T.x;else{const ps=Math.min(Q.right-T.x+Q.left,T.x),jo=this._lastBoundingBoxSize.width;di=2*ps,Vr=T.x-ps,di>jo&&!this._isInitialRender&&!this._growAfterOpen&&(Vr=T.x-jo/2)}return{top:Ct,left:Vr,bottom:vn,right:fs,width:di,height:Ve}}_setBoundingBoxStyles(T,O){const Q=this._calculateBoundingBoxRect(T,O);!this._isInitialRender&&!this._growAfterOpen&&(Q.height=Math.min(Q.height,this._lastBoundingBoxSize.height),Q.width=Math.min(Q.width,this._lastBoundingBoxSize.width));const ue={};if(this._hasExactPosition())ue.top=ue.left="0",ue.bottom=ue.right=ue.maxHeight=ue.maxWidth="",ue.width=ue.height="100%";else{const Ve=this._overlayRef.getConfig().maxHeight,Ct=this._overlayRef.getConfig().maxWidth;ue.height=es(Q.height),ue.top=es(Q.top),ue.bottom=es(Q.bottom),ue.width=es(Q.width),ue.left=es(Q.left),ue.right=es(Q.right),ue.alignItems="center"===O.overlayX?"center":"end"===O.overlayX?"flex-end":"flex-start",ue.justifyContent="center"===O.overlayY?"center":"bottom"===O.overlayY?"flex-end":"flex-start",Ve&&(ue.maxHeight=es(Ve)),Ct&&(ue.maxWidth=es(Ct))}this._lastBoundingBoxSize=Q,hs(this._boundingBox.style,ue)}_resetBoundingBoxStyles(){hs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(T,O){const Q={},ue=this._hasExactPosition(),Ve=this._hasFlexibleDimensions,Ct=this._overlayRef.getConfig();if(ue){const di=this._viewportRuler.getViewportScrollPosition();hs(Q,this._getExactOverlayY(O,T,di)),hs(Q,this._getExactOverlayX(O,T,di))}else Q.position="static";let vn="",Wn=this._getOffset(O,"x"),ri=this._getOffset(O,"y");Wn&&(vn+=`translateX(${Wn}px) `),ri&&(vn+=`translateY(${ri}px)`),Q.transform=vn.trim(),Ct.maxHeight&&(ue?Q.maxHeight=es(Ct.maxHeight):Ve&&(Q.maxHeight="")),Ct.maxWidth&&(ue?Q.maxWidth=es(Ct.maxWidth):Ve&&(Q.maxWidth="")),hs(this._pane.style,Q)}_getExactOverlayY(T,O,Q){let ue={top:"",bottom:""},Ve=this._getOverlayPoint(O,this._overlayRect,T);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,Q)),"bottom"===T.overlayY?ue.bottom=this._document.documentElement.clientHeight-(Ve.y+this._overlayRect.height)+"px":ue.top=es(Ve.y),ue}_getExactOverlayX(T,O,Q){let Ct,ue={left:"",right:""},Ve=this._getOverlayPoint(O,this._overlayRect,T);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,Q)),Ct=this._isRtl()?"end"===T.overlayX?"left":"right":"end"===T.overlayX?"right":"left","right"===Ct?ue.right=this._document.documentElement.clientWidth-(Ve.x+this._overlayRect.width)+"px":ue.left=es(Ve.x),ue}_getScrollVisibility(){const T=this._getOriginRect(),O=this._pane.getBoundingClientRect(),Q=this._scrollables.map(ue=>ue.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:li(T,Q),isOriginOutsideView:La(T,Q),isOverlayClipped:li(O,Q),isOverlayOutsideView:La(O,Q)}}_subtractOverflows(T,...O){return O.reduce((Q,ue)=>Q-Math.max(ue,0),T)}_getNarrowedViewportRect(){const T=this._document.documentElement.clientWidth,O=this._document.documentElement.clientHeight,Q=this._viewportRuler.getViewportScrollPosition();return{top:Q.top+this._viewportMargin,left:Q.left+this._viewportMargin,right:Q.left+T-this._viewportMargin,bottom:Q.top+O-this._viewportMargin,width:T-2*this._viewportMargin,height:O-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(T,O){return"x"===O?null==T.offsetX?this._offsetX:T.offsetX:null==T.offsetY?this._offsetY:T.offsetY}_validatePositions(){}_addPanelClasses(T){this._pane&&Rs(T).forEach(O=>{""!==O&&-1===this._appliedPanelClasses.indexOf(O)&&(this._appliedPanelClasses.push(O),this._pane.classList.add(O))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(T=>{this._pane.classList.remove(T)}),this._appliedPanelClasses=[])}_getOriginRect(){const T=this._origin;if(T instanceof V.SBq)return T.nativeElement.getBoundingClientRect();if(T instanceof Element)return T.getBoundingClientRect();const O=T.width||0,Q=T.height||0;return{top:T.y,bottom:T.y+Q,left:T.x,right:T.x+O,height:Q,width:O}}}function hs(P,T){for(let O in T)T.hasOwnProperty(O)&&(P[O]=T[O]);return P}function rl(P){if("number"!=typeof P&&null!=P){const[T,O]=P.split(Go);return O&&"px"!==O?null:parseFloat(T)}return P||null}function _t(P){return{top:Math.floor(P.top),right:Math.floor(P.right),bottom:Math.floor(P.bottom),left:Math.floor(P.left),width:Math.floor(P.width),height:Math.floor(P.height)}}const El="cdk-global-overlay-wrapper";class Tl{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(T){const O=T.getConfig();this._overlayRef=T,this._width&&!O.width&&T.updateSize({width:this._width}),this._height&&!O.height&&T.updateSize({height:this._height}),T.hostElement.classList.add(El),this._isDisposed=!1}top(T=""){return this._bottomOffset="",this._topOffset=T,this._alignItems="flex-start",this}left(T=""){return this._xOffset=T,this._xPosition="left",this}bottom(T=""){return this._topOffset="",this._bottomOffset=T,this._alignItems="flex-end",this}right(T=""){return this._xOffset=T,this._xPosition="right",this}start(T=""){return this._xOffset=T,this._xPosition="start",this}end(T=""){return this._xOffset=T,this._xPosition="end",this}width(T=""){return this._overlayRef?this._overlayRef.updateSize({width:T}):this._width=T,this}height(T=""){return this._overlayRef?this._overlayRef.updateSize({height:T}):this._height=T,this}centerHorizontally(T=""){return this.left(T),this._xPosition="center",this}centerVertically(T=""){return this.top(T),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const T=this._overlayRef.overlayElement.style,O=this._overlayRef.hostElement.style,Q=this._overlayRef.getConfig(),{width:ue,height:Ve,maxWidth:Ct,maxHeight:vn}=Q,Wn=!("100%"!==ue&&"100vw"!==ue||Ct&&"100%"!==Ct&&"100vw"!==Ct),ri=!("100%"!==Ve&&"100vh"!==Ve||vn&&"100%"!==vn&&"100vh"!==vn),di=this._xPosition,Vr=this._xOffset,fs="rtl"===this._overlayRef.getConfig().direction;let ps="",jo="",ro="";Wn?ro="flex-start":"center"===di?(ro="center",fs?jo=Vr:ps=Vr):fs?"left"===di||"end"===di?(ro="flex-end",ps=Vr):("right"===di||"start"===di)&&(ro="flex-start",jo=Vr):"left"===di||"start"===di?(ro="flex-start",ps=Vr):("right"===di||"end"===di)&&(ro="flex-end",jo=Vr),T.position=this._cssPosition,T.marginLeft=Wn?"0":ps,T.marginTop=ri?"0":this._topOffset,T.marginBottom=this._bottomOffset,T.marginRight=Wn?"0":jo,O.justifyContent=ro,O.alignItems=ri?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const T=this._overlayRef.overlayElement.style,O=this._overlayRef.hostElement,Q=O.style;O.classList.remove(El),Q.justifyContent=Q.alignItems=T.marginTop=T.marginBottom=T.marginLeft=T.marginRight=T.position="",this._overlayRef=null,this._isDisposed=!0}}let ya=(()=>{class P{constructor(O,Q,ue,Ve){this._viewportRuler=O,this._document=Q,this._platform=ue,this._overlayContainer=Ve}global(){return new Tl}flexibleConnectedTo(O){return new il(O,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(_r),V.LFG(Te.K0),V.LFG(Yt),V.LFG(sa))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Ul=0,sl=(()=>{class P{constructor(O,Q,ue,Ve,Ct,vn,Wn,ri,di,Vr,fs,ps){this.scrollStrategies=O,this._overlayContainer=Q,this._componentFactoryResolver=ue,this._positionBuilder=Ve,this._keyboardDispatcher=Ct,this._injector=vn,this._ngZone=Wn,this._document=ri,this._directionality=di,this._location=Vr,this._outsideClickDispatcher=fs,this._animationsModuleType=ps}create(O){const Q=this._createHostElement(),ue=this._createPaneElement(Q),Ve=this._createPortalOutlet(ue),Ct=new gn(O);return Ct.direction=Ct.direction||this._directionality.value,new ws(Ve,Q,ue,Ct,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(O){const Q=this._document.createElement("div");return Q.id="cdk-overlay-"+Ul++,Q.classList.add("cdk-overlay-pane"),O.appendChild(Q),Q}_createHostElement(){const O=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(O),O}_createPortalOutlet(O){return this._appRef||(this._appRef=this._injector.get(V.z2F)),new Be(O,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(hr),V.LFG(sa),V.LFG(V._Vd),V.LFG(ya),V.LFG(tl),V.LFG(V.zs3),V.LFG(V.R0b),V.LFG(Te.K0),V.LFG(Tc),V.LFG(Te.Ye),V.LFG(ra),V.LFG(V.QbO,8))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();const os=["dialog"];function S(P,T){}class M{constructor(){this.animation=!0,this.backdrop=!0,this.ignoreBackdropClick=!1,this.keyboard=!0,this.modalClass="",this.containerClass="",this.data=null}}class E{constructor(T,O){this._overlayRef=T,this._container=O,this.onClose$=new p.x,this.onClose=this.onClose$.asObservable()}close(T){this._container._close(),setTimeout(()=>{this._container._restoreScrollbar(),this.onClose$.next(T),this.onClose$.complete(),this._overlayRef.detach(),this._overlayRef.dispose()},this._container.MODAL_TRANSITION)}}let H=(()=>{class P{constructor(O,Q,ue,Ve){this._document=O,this._elementRef=Q,this._renderer=ue,this._focusTrapFactory=Ve,this._destroy$=new p.x,this.backdropClick$=new p.x,this.BACKDROP_TRANSITION=150,this.MODAL_TRANSITION=200,this.modal=!0}get hasAnimation(){return this._config.animation}ngOnInit(){this._updateContainerClass(),this._renderer.setStyle(this._elementRef.nativeElement,"display","block"),this._previouslyFocusedElement=this._document.activeElement,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._config.animation?setTimeout(()=>{this._renderer.addClass(this._elementRef.nativeElement,"show"),setTimeout(()=>{this._focusTrap.focusInitialElementWhenReady()},this.MODAL_TRANSITION)},this.BACKDROP_TRANSITION):this._focusTrap.focusInitialElementWhenReady()}ngAfterViewInit(){const O=this._document.body.offsetWidth;this._renderer.addClass(this._document.body,"modal-open"),this._renderer.setStyle(this._document.body,"padding-right",this._document.body.offsetWidth-O+"px"),this._config.ignoreBackdropClick||(0,l.R)(this._elementRef.nativeElement,"mousedown").pipe((0,Ge.h)(ue=>{const Ve=ue.target,Ct=this.modalDialog.nativeElement,vn=Ve!==Ct,Wn=!Ct.contains(Ve);return vn&&Wn}),(0,Ye.R)(this._destroy$)).subscribe(ue=>{this.backdropClick$.next(ue)})}ngOnDestroy(){this._previouslyFocusedElement.focus(),this._focusTrap.destroy(),this._destroy$.next(),this._destroy$.complete()}_updateContainerClass(){""===this._config.containerClass||this._config.containerClass.length&&0===this._config.containerClass.length||this._config.containerClass.split(" ").forEach(Q=>{this._renderer.addClass(this._elementRef.nativeElement,Q)})}_close(){this._config.animation&&this._renderer.removeClass(this._elementRef.nativeElement,"show");const O=Array.from(this._elementRef.nativeElement.querySelectorAll("iframe")),Q=Array.from(this._elementRef.nativeElement.querySelectorAll("video"));O.forEach(ue=>{const Ve=ue.getAttribute("src");this._renderer.setAttribute(ue,"src",Ve)}),Q.forEach(ue=>{ue.pause()})}_restoreScrollbar(){this._renderer.removeClass(this._document.body,"modal-open"),this._renderer.removeStyle(this._document.body,"padding-right")}attachComponentPortal(O){return this._portalOutlet.attachComponentPortal(O)}attachTemplatePortal(O){return this._portalOutlet.attachTemplatePortal(O)}}return P.\u0275fac=function(O){return new(O||P)(V.Y36(Te.K0),V.Y36(V.SBq),V.Y36(V.Qsj),V.Y36(xa))},P.\u0275cmp=V.Xpm({type:P,selectors:[["mdb-modal-container"]],viewQuery:function(O,Q){if(1&O&&(V.Gf(Ae,7),V.Gf(os,7)),2&O){let ue;V.iGM(ue=V.CRH())&&(Q._portalOutlet=ue.first),V.iGM(ue=V.CRH())&&(Q.modalDialog=ue.first)}},hostVars:4,hostBindings:function(O,Q){2&O&&V.ekj("modal",Q.modal)("fade",Q.hasAnimation)},decls:4,vars:2,consts:[["dialog",""],[1,"modal-content"],["cdkPortalOutlet",""]],template:function(O,Q){1&O&&(V.TgZ(0,"div",null,0)(2,"div",1),V.YNc(3,S,0,0,"ng-template",2),V.qZA()()),2&O&&V.Tol("modal-dialog"+(Q._config.modalClass?" "+Q._config.modalClass:""))},dependencies:[Ae],encapsulation:2}),P})(),q=(()=>{class P{constructor(O,Q,ue,Ve){this._document=O,this._overlay=Q,this._injector=ue,this._cfr=Ve}open(O,Q){const ue=new M;Q=Q?Object.assign(ue,Q):ue;const Ve=this._createOverlay(Q),Ct=this._createContainer(Ve,Q),vn=this._createContent(O,Ct,Ve,Q);return this._registerListeners(vn,Q,Ct),vn}_createOverlay(O){const Q=this._getOverlayConfig(O);return this._overlay.create(Q)}_getOverlayConfig(O){return new gn({positionStrategy:this._overlay.position().global(),scrollStrategy:this._overlay.scrollStrategies.noop(),hasBackdrop:O.backdrop,backdropClass:"mdb-backdrop"})}_createContainer(O,Q){const ue=new Oe(H,null,this._injector,this._cfr),Ve=O.attach(ue);return Ve.instance._config=Q,Ve.instance}_createContent(O,Q,ue,Ve){const Ct=new E(ue,Q);if(O instanceof V.Rgc)Q.attachTemplatePortal(new et(O,null,{$implicit:Ve.data,modalRef:Ct}));else{const vn=this._createInjector(Ve,Ct,Q),Wn=Q.attachComponentPortal(new Oe(O,Ve.viewContainerRef,vn));Ve.data&&Object.assign(Wn.instance,{...Ve.data})}return Ct}_createInjector(O,Q,ue){return V.zs3.create({parent:O&&O.viewContainerRef&&O.viewContainerRef.injector||this._injector,providers:[{provide:H,useValue:ue},{provide:E,useValue:Q}]})}_registerListeners(O,Q,ue){ue.backdropClick$.pipe((0,Vt.q)(1)).subscribe(()=>{O.close()}),Q.keyboard&&(0,l.R)(ue._elementRef.nativeElement,"keydown").pipe((0,Ge.h)(Ve=>"Escape"===Ve.key),(0,Vt.q)(1)).subscribe(()=>{O.close()})}}return P.\u0275fac=function(O){return new(O||P)(V.LFG(Te.K0),V.LFG(sl),V.LFG(V.zs3),V.LFG(V._Vd))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac}),P})()},805:(dn,dt,k)=>{k.d(dt,{$_:()=>Be,F0:()=>et,b4:()=>st,ez:()=>Oe,h4:()=>xt,iZ:()=>ce,jx:()=>it,m8:()=>ge,ws:()=>Xe});var p=k(4650),l=k(7579),V=k(982),Te=k(6895);const L=["*"];let Ce=(()=>{class oe{}return oe.STARTS_WITH="startsWith",oe.CONTAINS="contains",oe.NOT_CONTAINS="notContains",oe.ENDS_WITH="endsWith",oe.EQUALS="equals",oe.NOT_EQUALS="notEquals",oe.IN="in",oe.LESS_THAN="lt",oe.LESS_THAN_OR_EQUAL_TO="lte",oe.GREATER_THAN="gt",oe.GREATER_THAN_OR_EQUAL_TO="gte",oe.BETWEEN="between",oe.IS="is",oe.IS_NOT="isNot",oe.BEFORE="before",oe.AFTER="after",oe.DATE_IS="dateIs",oe.DATE_IS_NOT="dateIsNot",oe.DATE_BEFORE="dateBefore",oe.DATE_AFTER="dateAfter",oe})(),ce=(()=>{class oe{constructor(){this.filters={startsWith:(Le,Ge,Ye)=>{if(null==Ge||""===Ge.trim())return!0;if(null==Le)return!1;let Vt=V.gb.removeAccents(Ge.toString()).toLocaleLowerCase(Ye);return V.gb.removeAccents(Le.toString()).toLocaleLowerCase(Ye).slice(0,Vt.length)===Vt},contains:(Le,Ge,Ye)=>{if(null==Ge||"string"==typeof Ge&&""===Ge.trim())return!0;if(null==Le)return!1;let Vt=V.gb.removeAccents(Ge.toString()).toLocaleLowerCase(Ye);return-1!==V.gb.removeAccents(Le.toString()).toLocaleLowerCase(Ye).indexOf(Vt)},notContains:(Le,Ge,Ye)=>{if(null==Ge||"string"==typeof Ge&&""===Ge.trim())return!0;if(null==Le)return!1;let Vt=V.gb.removeAccents(Ge.toString()).toLocaleLowerCase(Ye);return-1===V.gb.removeAccents(Le.toString()).toLocaleLowerCase(Ye).indexOf(Vt)},endsWith:(Le,Ge,Ye)=>{if(null==Ge||""===Ge.trim())return!0;if(null==Le)return!1;let Vt=V.gb.removeAccents(Ge.toString()).toLocaleLowerCase(Ye),pn=V.gb.removeAccents(Le.toString()).toLocaleLowerCase(Ye);return-1!==pn.indexOf(Vt,pn.length-Vt.length)},equals:(Le,Ge,Ye)=>null==Ge||"string"==typeof Ge&&""===Ge.trim()||null!=Le&&(Le.getTime&&Ge.getTime?Le.getTime()===Ge.getTime():V.gb.removeAccents(Le.toString()).toLocaleLowerCase(Ye)==V.gb.removeAccents(Ge.toString()).toLocaleLowerCase(Ye)),notEquals:(Le,Ge,Ye)=>!(null==Ge||"string"==typeof Ge&&""===Ge.trim()||null!=Le&&(Le.getTime&&Ge.getTime?Le.getTime()===Ge.getTime():V.gb.removeAccents(Le.toString()).toLocaleLowerCase(Ye)==V.gb.removeAccents(Ge.toString()).toLocaleLowerCase(Ye))),in:(Le,Ge)=>{if(null==Ge||0===Ge.length)return!0;for(let Ye=0;Ye<Ge.length;Ye++)if(V.gb.equals(Le,Ge[Ye]))return!0;return!1},between:(Le,Ge)=>null==Ge||null==Ge[0]||null==Ge[1]||null!=Le&&(Le.getTime?Ge[0].getTime()<=Le.getTime()&&Le.getTime()<=Ge[1].getTime():Ge[0]<=Le&&Le<=Ge[1]),lt:(Le,Ge,Ye)=>null==Ge||null!=Le&&(Le.getTime&&Ge.getTime?Le.getTime()<Ge.getTime():Le<Ge),lte:(Le,Ge,Ye)=>null==Ge||null!=Le&&(Le.getTime&&Ge.getTime?Le.getTime()<=Ge.getTime():Le<=Ge),gt:(Le,Ge,Ye)=>null==Ge||null!=Le&&(Le.getTime&&Ge.getTime?Le.getTime()>Ge.getTime():Le>Ge),gte:(Le,Ge,Ye)=>null==Ge||null!=Le&&(Le.getTime&&Ge.getTime?Le.getTime()>=Ge.getTime():Le>=Ge),is:(Le,Ge,Ye)=>this.filters.equals(Le,Ge,Ye),isNot:(Le,Ge,Ye)=>this.filters.notEquals(Le,Ge,Ye),before:(Le,Ge,Ye)=>this.filters.lt(Le,Ge,Ye),after:(Le,Ge,Ye)=>this.filters.gt(Le,Ge,Ye),dateIs:(Le,Ge)=>null==Ge||null!=Le&&Le.toDateString()===Ge.toDateString(),dateIsNot:(Le,Ge)=>null==Ge||null!=Le&&Le.toDateString()!==Ge.toDateString(),dateBefore:(Le,Ge)=>null==Ge||null!=Le&&Le.getTime()<Ge.getTime(),dateAfter:(Le,Ge)=>null==Ge||null!=Le&&Le.getTime()>Ge.getTime()}}filter(Le,Ge,Ye,Vt,pn){let Yt=[];if(Le)for(let Dn of Le)for(let ln of Ge){let It=V.gb.resolveFieldData(Dn,ln);if(this.filters[Vt](It,Ye,pn)){Yt.push(Dn);break}}return Yt}register(Le,Ge){this.filters[Le]=Ge}}return oe.\u0275fac=function(Le){return new(Le||oe)},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Oe=(()=>{class oe{constructor(){this.messageSource=new l.x,this.clearSource=new l.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(Le){Le&&this.messageSource.next(Le)}addAll(Le){Le&&Le.length&&this.messageSource.next(Le)}clear(Le){this.clearSource.next(Le||null)}}return oe.\u0275fac=function(Le){return new(Le||oe)},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),et=(()=>{class oe{constructor(){this.clickSource=new l.x,this.clickObservable=this.clickSource.asObservable()}add(Le){Le&&this.clickSource.next(Le)}}return oe.\u0275fac=function(Le){return new(Le||oe)},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),st=(()=>{class oe{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[Ce.STARTS_WITH,Ce.CONTAINS,Ce.NOT_CONTAINS,Ce.ENDS_WITH,Ce.EQUALS,Ce.NOT_EQUALS],numeric:[Ce.EQUALS,Ce.NOT_EQUALS,Ce.LESS_THAN,Ce.LESS_THAN_OR_EQUAL_TO,Ce.GREATER_THAN,Ce.GREATER_THAN_OR_EQUAL_TO],date:[Ce.DATE_IS,Ce.DATE_IS_NOT,Ce.DATE_BEFORE,Ce.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new l.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(Le){return this.translation[Le]}setTranslation(Le){this.translation={...this.translation,...Le},this.translationSource.next(this.translation)}}return oe.\u0275fac=function(Le){return new(Le||oe)},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),xt=(()=>{class oe{}return oe.\u0275fac=function(Le){return new(Le||oe)},oe.\u0275cmp=p.Xpm({type:oe,selectors:[["p-header"]],ngContentSelectors:L,decls:1,vars:0,template:function(Le,Ge){1&Le&&(p.F$t(),p.Hsn(0))},encapsulation:2}),oe})(),Be=(()=>{class oe{}return oe.\u0275fac=function(Le){return new(Le||oe)},oe.\u0275cmp=p.Xpm({type:oe,selectors:[["p-footer"]],ngContentSelectors:L,decls:1,vars:0,template:function(Le,Ge){1&Le&&(p.F$t(),p.Hsn(0))},encapsulation:2}),oe})(),it=(()=>{class oe{constructor(Le){this.template=Le}getType(){return this.name}}return oe.\u0275fac=function(Le){return new(Le||oe)(p.Y36(p.Rgc))},oe.\u0275dir=p.lG2({type:oe,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),oe})(),ge=(()=>{class oe{}return oe.\u0275fac=function(Le){return new(Le||oe)},oe.\u0275mod=p.oAB({type:oe}),oe.\u0275inj=p.cJS({imports:[Te.ez]}),oe})(),Xe=(()=>{class oe{}return oe.STARTS_WITH="startsWith",oe.CONTAINS="contains",oe.NOT_CONTAINS="notContains",oe.ENDS_WITH="endsWith",oe.EQUALS="equals",oe.NOT_EQUALS="notEquals",oe.NO_FILTER="noFilter",oe.LT="lt",oe.LTE="lte",oe.GT="gt",oe.GTE="gte",oe.IS="is",oe.IS_NOT="isNot",oe.BEFORE="before",oe.AFTER="after",oe.CLEAR="clear",oe.APPLY="apply",oe.MATCH_ALL="matchAll",oe.MATCH_ANY="matchAny",oe.ADD_RULE="addRule",oe.REMOVE_RULE="removeRule",oe.ACCEPT="accept",oe.REJECT="reject",oe.CHOOSE="choose",oe.UPLOAD="upload",oe.CANCEL="cancel",oe.DAY_NAMES="dayNames",oe.DAY_NAMES_SHORT="dayNamesShort",oe.DAY_NAMES_MIN="dayNamesMin",oe.MONTH_NAMES="monthNames",oe.MONTH_NAMES_SHORT="monthNamesShort",oe.FIRST_DAY_OF_WEEK="firstDayOfWeek",oe.TODAY="today",oe.WEEK_HEADER="weekHeader",oe.WEAK="weak",oe.MEDIUM="medium",oe.STRONG="strong",oe.PASSWORD_PROMPT="passwordPrompt",oe.EMPTY_MESSAGE="emptyMessage",oe.EMPTY_FILTER_MESSAGE="emptyFilterMessage",oe})()},8271:(dn,dt,k)=>{k.d(dt,{F:()=>X});var p=k(4650),l=k(6895);let X=(()=>{class ce{}return ce.\u0275fac=function(et){return new(et||ce)},ce.\u0275mod=p.oAB({type:ce}),ce.\u0275inj=p.cJS({imports:[l.ez]}),ce})()},5593:(dn,dt,k)=>{k.d(dt,{Hq:()=>ut,hJ:()=>xt});var p=k(6895),l=k(4650),V=k(9592),Te=k(1795),L=k(982);const et={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let ut=(()=>{class Be{constructor(ge){this.el=ge,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1,this._internalClasses=Object.values(et)}get label(){return this._label}set label(ge){this._label=ge,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(ge){this._icon=ge,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(ge){this._loading=ge,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}ngAfterViewInit(){V.p.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const ge=[et.button,et.component];return this.icon&&!this.label&&L.gb.isEmpty(this.htmlElement.textContent)&&ge.push(et.iconOnly),this.loading&&(ge.push(et.disabled,et.loading),!this.icon&&this.label&&ge.push(et.labelOnly)),ge}setStyleClass(){const ge=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...ge)}createLabel(){if(this.label){let ge=document.createElement("span");this.icon&&!this.label&&ge.setAttribute("aria-hidden","true"),ge.className="p-button-label",ge.appendChild(document.createTextNode(this.label)),this.htmlElement.appendChild(ge)}}createIcon(){if(this.icon||this.loading){let ge=document.createElement("span");ge.className="p-button-icon",ge.setAttribute("aria-hidden","true");let Xe=this.label?"p-button-icon-"+this.iconPos:null;Xe&&V.p.addClass(ge,Xe);let Ae=this.getIconClass();Ae&&V.p.addMultipleClasses(ge,Ae),this.htmlElement.insertBefore(ge,this.htmlElement.firstChild)}}updateLabel(){let ge=V.p.findSingle(this.htmlElement,".p-button-label");this.label?ge?ge.textContent=this.label:this.createLabel():ge&&this.htmlElement.removeChild(ge)}updateIcon(){let ge=V.p.findSingle(this.htmlElement,".p-button-icon");this.icon||this.loading?ge?ge.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():ge&&this.htmlElement.removeChild(ge)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return Be.\u0275fac=function(ge){return new(ge||Be)(l.Y36(l.SBq))},Be.\u0275dir=l.lG2({type:Be,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),Be})(),xt=(()=>{class Be{}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=l.oAB({type:Be}),Be.\u0275inj=l.cJS({imports:[p.ez,Te.T]}),Be})()},1493:(dn,dt,k)=>{k.d(dt,{V:()=>Nt,S:()=>Zt});var p=k(4650),l=k(7340),V=k(6895),Te=k(9592),L=k(805);let de=(()=>{class rt{constructor(Re){this.el=Re}onkeydown(Re){if(!0!==this.pFocusTrapDisabled){Re.preventDefault();const $t=Te.p.getNextFocusableElement(this.el.nativeElement,Re.shiftKey);$t&&($t.focus(),$t.select?.())}}}return rt.\u0275fac=function(Re){return new(Re||rt)(p.Y36(p.SBq))},rt.\u0275dir=p.lG2({type:rt,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(Re,$t){1&Re&&p.NdJ("keydown.tab",function(tn){return $t.onkeydown(tn)})("keydown.shift.tab",function(tn){return $t.onkeydown(tn)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),rt})(),le=(()=>{class rt{}return rt.\u0275fac=function(Re){return new(Re||rt)},rt.\u0275mod=p.oAB({type:rt}),rt.\u0275inj=p.cJS({imports:[V.ez]}),rt})();var ie=k(1795),Ce=k(982);const X=["titlebar"],ce=["content"],Oe=["footer"];function et(rt,Bt){if(1&rt){const Re=p.EpF();p.TgZ(0,"div",11),p.NdJ("mousedown",function(Pt){p.CHM(Re);const tn=p.oxw(3);return p.KtG(tn.initResize(Pt))}),p.qZA()}}function ut(rt,Bt){if(1&rt&&(p.TgZ(0,"span",18),p._uU(1),p.qZA()),2&rt){const Re=p.oxw(4);p.uIk("id",Re.id+"-label"),p.xp6(1),p.Oqu(Re.header)}}function st(rt,Bt){if(1&rt&&(p.TgZ(0,"span",18),p.Hsn(1,1),p.qZA()),2&rt){const Re=p.oxw(4);p.uIk("id",Re.id+"-label")}}function xt(rt,Bt){1&rt&&p.GkF(0)}const Be=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function it(rt,Bt){if(1&rt){const Re=p.EpF();p.TgZ(0,"button",19),p.NdJ("click",function(){p.CHM(Re);const Pt=p.oxw(4);return p.KtG(Pt.maximize())})("keydown.enter",function(){p.CHM(Re);const Pt=p.oxw(4);return p.KtG(Pt.maximize())}),p._UZ(1,"span",20),p.qZA()}if(2&rt){const Re=p.oxw(4);p.Q6J("ngClass",p.DdM(2,Be)),p.xp6(1),p.Q6J("ngClass",Re.maximized?Re.minimizeIcon:Re.maximizeIcon)}}const ge=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Xe(rt,Bt){if(1&rt){const Re=p.EpF();p.TgZ(0,"button",21),p.NdJ("click",function(Pt){p.CHM(Re);const tn=p.oxw(4);return p.KtG(tn.close(Pt))})("keydown.enter",function(Pt){p.CHM(Re);const tn=p.oxw(4);return p.KtG(tn.close(Pt))}),p._UZ(1,"span",22),p.qZA()}if(2&rt){const Re=p.oxw(4);p.Q6J("ngClass",p.DdM(4,ge)),p.uIk("aria-label",Re.closeAriaLabel)("tabindex",Re.closeTabindex),p.xp6(1),p.Q6J("ngClass",Re.closeIcon)}}function Ae(rt,Bt){if(1&rt){const Re=p.EpF();p.TgZ(0,"div",12,13),p.NdJ("mousedown",function(Pt){p.CHM(Re);const tn=p.oxw(3);return p.KtG(tn.initDrag(Pt))}),p.YNc(2,ut,2,2,"span",14),p.YNc(3,st,2,1,"span",14),p.YNc(4,xt,1,0,"ng-container",9),p.TgZ(5,"div",15),p.YNc(6,it,2,3,"button",16),p.YNc(7,Xe,2,5,"button",17),p.qZA()()}if(2&rt){const Re=p.oxw(3);p.xp6(2),p.Q6J("ngIf",!Re.headerFacet&&!Re.headerTemplate),p.xp6(1),p.Q6J("ngIf",Re.headerFacet),p.xp6(1),p.Q6J("ngTemplateOutlet",Re.headerTemplate),p.xp6(2),p.Q6J("ngIf",Re.maximizable),p.xp6(1),p.Q6J("ngIf",Re.closable)}}function oe(rt,Bt){1&rt&&p.GkF(0)}function Je(rt,Bt){1&rt&&p.GkF(0)}function Le(rt,Bt){if(1&rt&&(p.TgZ(0,"div",23,24),p.Hsn(2,2),p.YNc(3,Je,1,0,"ng-container",9),p.qZA()),2&rt){const Re=p.oxw(3);p.xp6(3),p.Q6J("ngTemplateOutlet",Re.footerTemplate)}}const Ge=function(rt,Bt,Re,$t){return{"p-dialog p-component":!0,"p-dialog-rtl":rt,"p-dialog-draggable":Bt,"p-dialog-resizable":Re,"p-dialog-maximized":$t}},Ye=function(rt,Bt){return{transform:rt,transition:Bt}},Vt=function(rt){return{value:"visible",params:rt}};function pn(rt,Bt){if(1&rt){const Re=p.EpF();p.TgZ(0,"div",3,4),p.NdJ("@animation.start",function(Pt){p.CHM(Re);const tn=p.oxw(2);return p.KtG(tn.onAnimationStart(Pt))})("@animation.done",function(Pt){p.CHM(Re);const tn=p.oxw(2);return p.KtG(tn.onAnimationEnd(Pt))}),p.YNc(2,et,1,0,"div",5),p.YNc(3,Ae,8,5,"div",6),p.TgZ(4,"div",7,8),p.Hsn(6),p.YNc(7,oe,1,0,"ng-container",9),p.qZA(),p.YNc(8,Le,4,1,"div",10),p.qZA()}if(2&rt){const Re=p.oxw(2);p.Tol(Re.styleClass),p.Q6J("ngClass",p.l5B(15,Ge,Re.rtl,Re.draggable,Re.resizable,Re.maximized))("ngStyle",Re.style)("pFocusTrapDisabled",!1===Re.focusTrap)("@animation",p.VKq(23,Vt,p.WLB(20,Ye,Re.transformOptions,Re.transitionOptions))),p.uIk("aria-labelledby",Re.id+"-label"),p.xp6(2),p.Q6J("ngIf",Re.resizable),p.xp6(1),p.Q6J("ngIf",Re.showHeader),p.xp6(1),p.Tol(Re.contentStyleClass),p.Q6J("ngClass","p-dialog-content")("ngStyle",Re.contentStyle),p.xp6(3),p.Q6J("ngTemplateOutlet",Re.contentTemplate),p.xp6(1),p.Q6J("ngIf",Re.footerFacet||Re.footerTemplate)}}const Yt=function(rt,Bt,Re,$t,Pt,tn,Ht,Fn,Jn,Un){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":rt,"p-dialog-mask-scrollblocker":Bt,"p-dialog-left":Re,"p-dialog-right":$t,"p-dialog-top":Pt,"p-dialog-top-left":tn,"p-dialog-top-right":Ht,"p-dialog-bottom":Fn,"p-dialog-bottom-left":Jn,"p-dialog-bottom-right":Un}};function Dn(rt,Bt){if(1&rt&&(p.TgZ(0,"div",1),p.YNc(1,pn,9,25,"div",2),p.qZA()),2&rt){const Re=p.oxw();p.Tol(Re.maskStyleClass),p.Q6J("ngClass",p.rFY(4,Yt,[Re.modal,Re.modal||Re.blockScroll,"left"===Re.position,"right"===Re.position,"top"===Re.position,"topleft"===Re.position||"top-left"===Re.position,"topright"===Re.position||"top-right"===Re.position,"bottom"===Re.position,"bottomleft"===Re.position||"bottom-left"===Re.position,"bottomright"===Re.position||"bottom-right"===Re.position])),p.xp6(1),p.Q6J("ngIf",Re.visible)}}const ln=["*",[["p-header"]],[["p-footer"]]],It=["*","p-header","p-footer"],At=(0,l.oQ)([(0,l.oB)({transform:"{{transform}}",opacity:0}),(0,l.jt)("{{transition}}")]),Dt=(0,l.oQ)([(0,l.jt)("{{transition}}",(0,l.oB)({transform:"{{transform}}",opacity:0}))]);let Nt=(()=>{class rt{constructor(Re,$t,Pt,tn,Ht){this.el=Re,this.renderer=$t,this.zone=Pt,this.cd=tn,this.config=Ht,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new p.vpe,this.onHide=new p.vpe,this.visibleChange=new p.vpe,this.onResizeInit=new p.vpe,this.onResizeEnd=new p.vpe,this.onDragEnd=new p.vpe,this.onMaximize=new p.vpe,this.id=(0,Ce.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(Re){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(Re){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(Re){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(Re){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(Re=>{switch(Re.getType()){case"header":this.headerTemplate=Re.template;break;case"content":default:this.contentTemplate=Re.template;break;case"footer":this.footerTemplate=Re.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(Re){this._visible=Re,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(Re){Re&&(this._style={...Re},this.originalStyle=Re)}get position(){return this._position}set position(Re){switch(this._position=Re,Re){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let Re=Te.p.findSingle(this.container,"[autofocus]");Re&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Re.focus(),5)})}close(Re){this.visibleChange.emit(!1),Re.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Re=>{this.wrapper&&this.wrapper.isSameNode(Re.target)&&this.close(Re)})),this.modal&&Te.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&Te.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?Te.p.addClass(document.body,"p-overflow-hidden"):Te.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Ce.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Re="";for(let $t in this.breakpoints)Re+=`\n                    @media screen and (max-width: ${$t}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[$t]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=Re}}initDrag(Re){Te.p.hasClass(Re.target,"p-dialog-header-icon")||Te.p.hasClass(Re.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=Re.pageX,this.lastPageY=Re.pageY,this.container.style.margin="0",Te.p.addClass(document.body,"p-unselectable-text"))}onKeydown(Re){if(this.focusTrap&&9===Re.which){Re.preventDefault();let $t=Te.p.getFocusableElements(this.container);if($t&&$t.length>0)if($t[0].ownerDocument.activeElement){let Pt=$t.indexOf($t[0].ownerDocument.activeElement);Re.shiftKey?-1==Pt||0===Pt?$t[$t.length-1].focus():$t[Pt-1].focus():-1==Pt||Pt===$t.length-1?$t[0].focus():$t[Pt+1].focus()}else $t[0].focus()}}onDrag(Re){if(this.dragging){let $t=Te.p.getOuterWidth(this.container),Pt=Te.p.getOuterHeight(this.container),tn=Re.pageX-this.lastPageX,Ht=Re.pageY-this.lastPageY,Fn=this.container.getBoundingClientRect(),Jn=Fn.left+tn,Un=Fn.top+Ht,Ii=Te.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(Jn>=this.minX&&Jn+$t<Ii.width&&(this._style.left=Jn+"px",this.lastPageX=Re.pageX,this.container.style.left=Jn+"px"),Un>=this.minY&&Un+Pt<Ii.height&&(this._style.top=Un+"px",this.lastPageY=Re.pageY,this.container.style.top=Un+"px")):(this.lastPageX=Re.pageX,this.container.style.left=Jn+"px",this.lastPageY=Re.pageY,this.container.style.top=Un+"px")}}endDrag(Re){this.dragging&&(this.dragging=!1,Te.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(Re))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(Re){this.resizable&&(this.resizing=!0,this.lastPageX=Re.pageX,this.lastPageY=Re.pageY,Te.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(Re))}onResize(Re){if(this.resizing){let $t=Re.pageX-this.lastPageX,Pt=Re.pageY-this.lastPageY,tn=Te.p.getOuterWidth(this.container),Ht=Te.p.getOuterHeight(this.container),Fn=Te.p.getOuterHeight(this.contentViewChild.nativeElement),Jn=tn+$t,Un=Ht+Pt,Ii=this.container.style.minWidth,Pi=this.container.style.minHeight,si=this.container.getBoundingClientRect(),ki=Te.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(Jn+=$t,Un+=Pt),(!Ii||Jn>parseInt(Ii))&&si.left+Jn<ki.width&&(this._style.width=Jn+"px",this.container.style.width=this._style.width),(!Pi||Un>parseInt(Pi))&&si.top+Un<ki.height&&(this.contentViewChild.nativeElement.style.height=Fn+Un-Ht+"px",this._style.height&&(this._style.height=Un+"px",this.container.style.height=this._style.height)),this.lastPageX=Re.pageX,this.lastPageY=Re.pageY}}resizeEnd(Re){this.resizing&&(this.resizing=!1,Te.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(Re))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",$t=>{27==$t.which&&this.close($t)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Te.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(Re){switch(Re.toState){case"visible":this.container=Re.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Te.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&Te.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Re){switch(Re.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Te.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Te.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Ce.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return rt.\u0275fac=function(Re){return new(Re||rt)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.R0b),p.Y36(p.sBO),p.Y36(L.b4))},rt.\u0275cmp=p.Xpm({type:rt,selectors:[["p-dialog"]],contentQueries:function(Re,$t,Pt){if(1&Re&&(p.Suo(Pt,L.h4,5),p.Suo(Pt,L.$_,5),p.Suo(Pt,L.jx,4)),2&Re){let tn;p.iGM(tn=p.CRH())&&($t.headerFacet=tn.first),p.iGM(tn=p.CRH())&&($t.footerFacet=tn.first),p.iGM(tn=p.CRH())&&($t.templates=tn)}},viewQuery:function(Re,$t){if(1&Re&&(p.Gf(X,5),p.Gf(ce,5),p.Gf(Oe,5)),2&Re){let Pt;p.iGM(Pt=p.CRH())&&($t.headerViewChild=Pt.first),p.iGM(Pt=p.CRH())&&($t.contentViewChild=Pt.first),p.iGM(Pt=p.CRH())&&($t.footerViewChild=Pt.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:It,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(Re,$t){1&Re&&(p.F$t(ln),p.YNc(0,Dn,2,15,"div",0)),2&Re&&p.Q6J("ngIf",$t.maskVisible)},dependencies:[V.mk,V.O5,V.tP,V.PC,de,ie.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,l.X$)("animation",[(0,l.eR)("void => visible",[(0,l._7)(At)]),(0,l.eR)("visible => void",[(0,l._7)(Dt)])])]},changeDetection:0}),rt})(),Zt=(()=>{class rt{}return rt.\u0275fac=function(Re){return new(Re||rt)},rt.\u0275mod=p.oAB({type:rt}),rt.\u0275inj=p.cJS({imports:[V.ez,le,ie.T,L.m8]}),rt})()},9592:(dn,dt,k)=>{k.d(dt,{V:()=>l,p:()=>p});let p=(()=>{class V{static addClass(L,de){L&&de&&(L.classList?L.classList.add(de):L.className+=" "+de)}static addMultipleClasses(L,de){if(L&&de)if(L.classList){let le=de.trim().split(" ");for(let ie=0;ie<le.length;ie++)L.classList.add(le[ie])}else{let le=de.split(" ");for(let ie=0;ie<le.length;ie++)L.className+=" "+le[ie]}}static removeClass(L,de){L&&de&&(L.classList?L.classList.remove(de):L.className=L.className.replace(new RegExp("(^|\\b)"+de.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(L,de){return!(!L||!de)&&(L.classList?L.classList.contains(de):new RegExp("(^| )"+de+"( |$)","gi").test(L.className))}static siblings(L){return Array.prototype.filter.call(L.parentNode.children,function(de){return de!==L})}static find(L,de){return Array.from(L.querySelectorAll(de))}static findSingle(L,de){return L?L.querySelector(de):null}static index(L){let de=L.parentNode.childNodes,le=0;for(var ie=0;ie<de.length;ie++){if(de[ie]==L)return le;1==de[ie].nodeType&&le++}return-1}static indexWithinGroup(L,de){let le=L.parentNode?L.parentNode.childNodes:[],ie=0;for(var Ce=0;Ce<le.length;Ce++){if(le[Ce]==L)return ie;le[Ce].attributes&&le[Ce].attributes[de]&&1==le[Ce].nodeType&&ie++}return-1}static appendOverlay(L,de,le="self"){"self"!==le&&L&&de&&this.appendChild(L,de)}static alignOverlay(L,de,le="self",ie=!0){L&&de&&(ie&&(L.style.minWidth||(L.style.minWidth=V.getOuterWidth(de)+"px")),"self"===le?this.relativePosition(L,de):this.absolutePosition(L,de))}static relativePosition(L,de){const le=it=>{if(it)return"relative"===getComputedStyle(it).getPropertyValue("position")?it:le(it.parentElement)},ie=L.offsetParent?{width:L.offsetWidth,height:L.offsetHeight}:this.getHiddenElementDimensions(L),Ce=de.offsetHeight,X=de.getBoundingClientRect(),ce=this.getWindowScrollTop(),Oe=this.getWindowScrollLeft(),et=this.getViewport(),st=le(L)?.getBoundingClientRect()||{top:-1*ce,left:-1*Oe};let xt,Be;X.top+Ce+ie.height>et.height?(xt=X.top-st.top-ie.height,L.style.transformOrigin="bottom",X.top+xt<0&&(xt=-1*X.top)):(xt=Ce+X.top-st.top,L.style.transformOrigin="top"),Be=ie.width>et.width?-1*(X.left-st.left):X.left-st.left+ie.width>et.width?-1*(X.left-st.left+ie.width-et.width):X.left-st.left,L.style.top=xt+"px",L.style.left=Be+"px"}static absolutePosition(L,de){const le=L.offsetParent?{width:L.offsetWidth,height:L.offsetHeight}:this.getHiddenElementDimensions(L),ie=le.height,Ce=le.width,X=de.offsetHeight,ce=de.offsetWidth,Oe=de.getBoundingClientRect(),et=this.getWindowScrollTop(),ut=this.getWindowScrollLeft(),st=this.getViewport();let xt,Be;Oe.top+X+ie>st.height?(xt=Oe.top+et-ie,L.style.transformOrigin="bottom",xt<0&&(xt=et)):(xt=X+Oe.top+et,L.style.transformOrigin="top"),Be=Oe.left+Ce>st.width?Math.max(0,Oe.left+ut+ce-Ce):Oe.left+ut,L.style.top=xt+"px",L.style.left=Be+"px"}static getParents(L,de=[]){return null===L.parentNode?de:this.getParents(L.parentNode,de.concat([L.parentNode]))}static getScrollableParents(L){let de=[];if(L){let le=this.getParents(L);const ie=/(auto|scroll)/,Ce=X=>{let ce=window.getComputedStyle(X,null);return ie.test(ce.getPropertyValue("overflow"))||ie.test(ce.getPropertyValue("overflowX"))||ie.test(ce.getPropertyValue("overflowY"))};for(let X of le){let ce=1===X.nodeType&&X.dataset.scrollselectors;if(ce){let Oe=ce.split(",");for(let et of Oe){let ut=this.findSingle(X,et);ut&&Ce(ut)&&de.push(ut)}}9!==X.nodeType&&Ce(X)&&de.push(X)}}return de}static getHiddenElementOuterHeight(L){L.style.visibility="hidden",L.style.display="block";let de=L.offsetHeight;return L.style.display="none",L.style.visibility="visible",de}static getHiddenElementOuterWidth(L){L.style.visibility="hidden",L.style.display="block";let de=L.offsetWidth;return L.style.display="none",L.style.visibility="visible",de}static getHiddenElementDimensions(L){let de={};return L.style.visibility="hidden",L.style.display="block",de.width=L.offsetWidth,de.height=L.offsetHeight,L.style.display="none",L.style.visibility="visible",de}static scrollInView(L,de){let le=getComputedStyle(L).getPropertyValue("borderTopWidth"),ie=le?parseFloat(le):0,Ce=getComputedStyle(L).getPropertyValue("paddingTop"),X=Ce?parseFloat(Ce):0,ce=L.getBoundingClientRect(),et=de.getBoundingClientRect().top+document.body.scrollTop-(ce.top+document.body.scrollTop)-ie-X,ut=L.scrollTop,st=L.clientHeight,xt=this.getOuterHeight(de);et<0?L.scrollTop=ut+et:et+xt>st&&(L.scrollTop=ut+et-st+xt)}static fadeIn(L,de){L.style.opacity=0;let le=+new Date,ie=0,Ce=function(){ie=+L.style.opacity.replace(",",".")+((new Date).getTime()-le)/de,L.style.opacity=ie,le=+new Date,+ie<1&&(window.requestAnimationFrame&&requestAnimationFrame(Ce)||setTimeout(Ce,16))};Ce()}static fadeOut(L,de){var le=1,X=50/de;let ce=setInterval(()=>{(le-=X)<=0&&(le=0,clearInterval(ce)),L.style.opacity=le},50)}static getWindowScrollTop(){let L=document.documentElement;return(window.pageYOffset||L.scrollTop)-(L.clientTop||0)}static getWindowScrollLeft(){let L=document.documentElement;return(window.pageXOffset||L.scrollLeft)-(L.clientLeft||0)}static matches(L,de){var le=Element.prototype;return(le.matches||le.webkitMatchesSelector||le.mozMatchesSelector||le.msMatchesSelector||function(Ce){return-1!==[].indexOf.call(document.querySelectorAll(Ce),this)}).call(L,de)}static getOuterWidth(L,de){let le=L.offsetWidth;if(de){let ie=getComputedStyle(L);le+=parseFloat(ie.marginLeft)+parseFloat(ie.marginRight)}return le}static getHorizontalPadding(L){let de=getComputedStyle(L);return parseFloat(de.paddingLeft)+parseFloat(de.paddingRight)}static getHorizontalMargin(L){let de=getComputedStyle(L);return parseFloat(de.marginLeft)+parseFloat(de.marginRight)}static innerWidth(L){let de=L.offsetWidth,le=getComputedStyle(L);return de+=parseFloat(le.paddingLeft)+parseFloat(le.paddingRight),de}static width(L){let de=L.offsetWidth,le=getComputedStyle(L);return de-=parseFloat(le.paddingLeft)+parseFloat(le.paddingRight),de}static getInnerHeight(L){let de=L.offsetHeight,le=getComputedStyle(L);return de+=parseFloat(le.paddingTop)+parseFloat(le.paddingBottom),de}static getOuterHeight(L,de){let le=L.offsetHeight;if(de){let ie=getComputedStyle(L);le+=parseFloat(ie.marginTop)+parseFloat(ie.marginBottom)}return le}static getHeight(L){let de=L.offsetHeight,le=getComputedStyle(L);return de-=parseFloat(le.paddingTop)+parseFloat(le.paddingBottom)+parseFloat(le.borderTopWidth)+parseFloat(le.borderBottomWidth),de}static getWidth(L){let de=L.offsetWidth,le=getComputedStyle(L);return de-=parseFloat(le.paddingLeft)+parseFloat(le.paddingRight)+parseFloat(le.borderLeftWidth)+parseFloat(le.borderRightWidth),de}static getViewport(){let L=window,de=document,le=de.documentElement,ie=de.getElementsByTagName("body")[0];return{width:L.innerWidth||le.clientWidth||ie.clientWidth,height:L.innerHeight||le.clientHeight||ie.clientHeight}}static getOffset(L){var de=L.getBoundingClientRect();return{top:de.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:de.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(L,de){let le=L.parentNode;if(!le)throw"Can't replace element";return le.replaceChild(de,L)}static getUserAgent(){return navigator.userAgent}static isIE(){var L=window.navigator.userAgent;return L.indexOf("MSIE ")>0||(L.indexOf("Trident/")>0?(L.indexOf("rv:"),!0):L.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(L,de){if(this.isElement(de))de.appendChild(L);else{if(!de.el||!de.el.nativeElement)throw"Cannot append "+de+" to "+L;de.el.nativeElement.appendChild(L)}}static removeChild(L,de){if(this.isElement(de))de.removeChild(L);else{if(!de.el||!de.el.nativeElement)throw"Cannot remove "+L+" from "+de;de.el.nativeElement.removeChild(L)}}static removeElement(L){"remove"in Element.prototype?L.remove():L.parentNode.removeChild(L)}static isElement(L){return"object"==typeof HTMLElement?L instanceof HTMLElement:L&&"object"==typeof L&&null!==L&&1===L.nodeType&&"string"==typeof L.nodeName}static calculateScrollbarWidth(L){if(L){let de=getComputedStyle(L);return L.offsetWidth-L.clientWidth-parseFloat(de.borderLeftWidth)-parseFloat(de.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let de=document.createElement("div");de.className="p-scrollbar-measure",document.body.appendChild(de);let le=de.offsetWidth-de.clientWidth;return document.body.removeChild(de),this.calculatedScrollbarWidth=le,le}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let L=document.createElement("div");L.className="p-scrollbar-measure",document.body.appendChild(L);let de=L.offsetHeight-L.clientHeight;return document.body.removeChild(L),this.calculatedScrollbarWidth=de,de}static invokeElementMethod(L,de,le){L[de].apply(L,le)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let L=this.resolveUserAgent();this.browser={},L.browser&&(this.browser[L.browser]=!0,this.browser.version=L.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let L=navigator.userAgent.toLowerCase(),de=/(chrome)[ \/]([\w.]+)/.exec(L)||/(webkit)[ \/]([\w.]+)/.exec(L)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(L)||/(msie) ([\w.]+)/.exec(L)||L.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(L)||[];return{browser:de[1]||"",version:de[2]||"0"}}static isInteger(L){return Number.isInteger?Number.isInteger(L):"number"==typeof L&&isFinite(L)&&Math.floor(L)===L}static isHidden(L){return!L||null===L.offsetParent}static isVisible(L){return L&&null!=L.offsetParent}static isExist(L){return null!==L&&typeof L<"u"&&L.nodeName&&L.parentNode}static focus(L,de){L&&document.activeElement!==L&&L.focus(de)}static getFocusableElements(L){let de=V.find(L,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),le=[];for(let ie of de)(ie.offsetWidth||ie.offsetHeight||ie.getClientRects().length)&&le.push(ie);return le}static getNextFocusableElement(L,de=!1){const le=V.getFocusableElements(L);let ie=0;if(le&&le.length>0){const Ce=le.indexOf(le[0].ownerDocument.activeElement);de?ie=-1==Ce||0===Ce?le.length-1:Ce-1:-1!=Ce&&Ce!==le.length-1&&(ie=Ce+1)}return le[ie]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(L,de){if(!L)return null;switch(L){case"document":return document;case"window":return window;case"@next":return de?.nextElementSibling;case"@prev":return de?.previousElementSibling;case"@parent":return de?.parentElement;case"@grandparent":return de?.parentElement.parentElement;default:const le=typeof L;if("string"===le)return document.querySelector(L);if("object"===le&&L.hasOwnProperty("nativeElement"))return this.isExist(L.nativeElement)?L.nativeElement:void 0;const Ce=(X=L)&&X.constructor&&X.call&&X.apply?L():L;return Ce&&9===Ce.nodeType||this.isExist(Ce)?Ce:null}var X}}return V.zindex=1e3,V.calculatedScrollbarWidth=null,V.calculatedScrollbarHeight=null,V})();class l{constructor(Te,L=(()=>{})){this.element=Te,this.listener=L}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let Te=0;Te<this.scrollableParents.length;Te++)this.scrollableParents[Te].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let Te=0;Te<this.scrollableParents.length;Te++)this.scrollableParents[Te].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},504:(dn,dt,k)=>{k.d(dt,{Lt:()=>Fi,kW:()=>ys});var p=k(6895),l=k(4650),V=k(433),Te=k(805),L=k(9592);let de=(()=>{class Pe{constructor(B){this.host=B,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const B=L.p.getFocusableElements(this.host.nativeElement);0===B.length&&this.host.nativeElement.focus(),B.length>0&&B[0].focus(),this.focused=!0}}}return Pe.\u0275fac=function(B){return new(B||Pe)(l.Y36(l.SBq))},Pe.\u0275dir=l.lG2({type:Pe,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),Pe})(),le=(()=>{class Pe{}return Pe.\u0275fac=function(B){return new(B||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[p.ez]}),Pe})();var ie=k(7340),Ce=k(982);const X=["overlay"],ce=["content"];function Oe(Pe,Kt){1&Pe&&l.GkF(0)}const et=function(Pe,Kt,B){return{showTransitionParams:Pe,hideTransitionParams:Kt,transform:B}},ut=function(Pe){return{value:"visible",params:Pe}},st=function(Pe){return{mode:Pe}},xt=function(Pe){return{$implicit:Pe}};function Be(Pe,Kt){if(1&Pe){const B=l.EpF();l.TgZ(0,"div",1,3),l.NdJ("click",function(Ze){l.CHM(B);const Ke=l.oxw(2);return l.KtG(Ke.onOverlayContentClick(Ze))})("@overlayContentAnimation.start",function(Ze){l.CHM(B);const Ke=l.oxw(2);return l.KtG(Ke.onOverlayContentAnimationStart(Ze))})("@overlayContentAnimation.done",function(Ze){l.CHM(B);const Ke=l.oxw(2);return l.KtG(Ke.onOverlayContentAnimationDone(Ze))}),l.Hsn(2),l.YNc(3,Oe,1,0,"ng-container",4),l.qZA()}if(2&Pe){const B=l.oxw(2);l.Tol(B.contentStyleClass),l.Q6J("ngStyle",B.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",l.VKq(11,ut,l.kEZ(7,et,B.showTransitionOptions,B.hideTransitionOptions,B.transformOptions[B.modal?B.overlayResponsiveDirection:"default"]))),l.xp6(3),l.Q6J("ngTemplateOutlet",B.contentTemplate)("ngTemplateOutletContext",l.VKq(15,xt,l.VKq(13,st,B.overlayMode)))}}const it=function(Pe,Kt,B,Se,Ze,Ke,mn,Gn,ur,$i,wi,Hr,Lr,Ar){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":Pe,"p-overlay-center":Kt,"p-overlay-top":B,"p-overlay-top-start":Se,"p-overlay-top-end":Ze,"p-overlay-bottom":Ke,"p-overlay-bottom-start":mn,"p-overlay-bottom-end":Gn,"p-overlay-left":ur,"p-overlay-left-start":$i,"p-overlay-left-end":wi,"p-overlay-right":Hr,"p-overlay-right-start":Lr,"p-overlay-right-end":Ar}};function ge(Pe,Kt){if(1&Pe){const B=l.EpF();l.TgZ(0,"div",1,2),l.NdJ("click",function(Ze){l.CHM(B);const Ke=l.oxw();return l.KtG(Ke.onOverlayClick(Ze))}),l.YNc(2,Be,4,17,"div",0),l.qZA()}if(2&Pe){const B=l.oxw();l.Tol(B.styleClass),l.Q6J("ngStyle",B.style)("ngClass",l.rFY(5,it,[B.modal,B.modal&&"center"===B.overlayResponsiveDirection,B.modal&&"top"===B.overlayResponsiveDirection,B.modal&&"top-start"===B.overlayResponsiveDirection,B.modal&&"top-end"===B.overlayResponsiveDirection,B.modal&&"bottom"===B.overlayResponsiveDirection,B.modal&&"bottom-start"===B.overlayResponsiveDirection,B.modal&&"bottom-end"===B.overlayResponsiveDirection,B.modal&&"left"===B.overlayResponsiveDirection,B.modal&&"left-start"===B.overlayResponsiveDirection,B.modal&&"left-end"===B.overlayResponsiveDirection,B.modal&&"right"===B.overlayResponsiveDirection,B.modal&&"right-start"===B.overlayResponsiveDirection,B.modal&&"right-end"===B.overlayResponsiveDirection])),l.xp6(2),l.Q6J("ngIf",B.visible)}}const Xe=["*"],Ae={provide:V.JU,useExisting:(0,l.Gpc)(()=>Le),multi:!0},oe=(0,ie.oQ)([(0,ie.oB)({transform:"{{transform}}",opacity:0}),(0,ie.jt)("{{showTransitionParams}}")]),Je=(0,ie.oQ)([(0,ie.jt)("{{hideTransitionParams}}",(0,ie.oB)({transform:"{{transform}}",opacity:0}))]);let Le=(()=>{class Pe{constructor(B,Se,Ze,Ke,mn,Gn){this.document=B,this.el=Se,this.renderer=Ze,this.config=Ke,this.overlayService=mn,this.zone=Gn,this.visibleChange=new l.vpe,this.onBeforeShow=new l.vpe,this.onShow=new l.vpe,this.onBeforeHide=new l.vpe,this.onHide=new l.vpe,this.onAnimationStart=new l.vpe,this.onAnimationDone=new l.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(B){this._visible=B,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(B){this._mode=B}get style(){return Ce.gb.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(B){this._style=B}get styleClass(){return Ce.gb.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(B){this._styleClass=B}get contentStyle(){return Ce.gb.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(B){this._contentStyle=B}get contentStyleClass(){return Ce.gb.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(B){this._contentStyleClass=B}get target(){const B=this._target||this.overlayOptions?.target;return void 0===B?"@prev":B}set target(B){this._target=B}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(B){this._appendTo=B}get autoZIndex(){const B=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===B||B}set autoZIndex(B){this._autoZIndex=B}get baseZIndex(){const B=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===B?0:B}set baseZIndex(B){this._baseZIndex=B}get showTransitionOptions(){const B=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===B?".12s cubic-bezier(0, 0, 0.2, 1)":B}set showTransitionOptions(B){this._showTransitionOptions=B}get hideTransitionOptions(){const B=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===B?".1s linear":B}set hideTransitionOptions(B){this._hideTransitionOptions=B}get listener(){return this._listener||this.overlayOptions?.listener}set listener(B){this._listener=B}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(B){this._responsive=B}get options(){return this._options}set options(B){this._options=B}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return L.p.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(B=>{B.getType(),this.contentTemplate=B.template})}show(B,Se=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:B||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),Se&&L.p.focus(this.targetEl),this.modal&&L.p.addClass(this.document?.body,"p-overflow-hidden")}hide(B,Se=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:B||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),Se&&L.p.focus(this.targetEl),this.modal&&L.p.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&L.p.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(B){this._visible=B,this.visibleChange.emit(B)}onOverlayClick(B){this.isOverlayClicked=!0}onOverlayContentClick(B){this.overlayService.add({originalEvent:B,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(B){switch(B.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Ce.P9.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),L.p.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&L.p.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",B)}onOverlayContentAnimationDone(B){const Se=this.overlayEl||B.element.parentElement;switch(B.toState){case"visible":this.show(Se,!0),this.bindListeners();break;case"void":this.hide(Se,!0),this.unbindListeners(),L.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Ce.P9.clear(Se),this.modalVisible=!1}this.handleEvents("onAnimationDone",B)}handleEvents(B,Se){this[B].emit(Se),this.options&&this.options[B]&&this.options[B](Se),this.config?.overlayOptions&&this.config?.overlayOptions[B]&&this.config?.overlayOptions[B](Se)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new L.V(this.targetEl,B=>{(!this.listener||this.listener(B,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(B,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",B=>{const Ze=!(this.targetEl&&(this.targetEl.isSameNode(B.target)||!this.isOverlayClicked&&this.targetEl.contains(B.target))||this.isOverlayContentClicked);(this.listener?this.listener(B,{type:"outside",mode:this.overlayMode,valid:3!==B.which&&Ze}):Ze)&&this.hide(B),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",B=>{(this.listener?this.listener(B,{type:"resize",mode:this.overlayMode,valid:!L.p.isTouchDevice()}):!L.p.isTouchDevice())&&this.hide(B,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",B=>{this.overlayOptions.hideOnEscape&&27===B.keyCode&&(this.listener?this.listener(B,{type:"keydown",mode:this.overlayMode,valid:!L.p.isTouchDevice()}):!L.p.isTouchDevice())&&this.zone.run(()=>{this.hide(B,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(L.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Ce.P9.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return Pe.\u0275fac=function(B){return new(B||Pe)(l.Y36(p.K0),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Te.b4),l.Y36(Te.F0),l.Y36(l.R0b))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["p-overlay"]],contentQueries:function(B,Se,Ze){if(1&B&&l.Suo(Ze,Te.jx,4),2&B){let Ke;l.iGM(Ke=l.CRH())&&(Se.templates=Ke)}},viewQuery:function(B,Se){if(1&B&&(l.Gf(X,5),l.Gf(ce,5)),2&B){let Ze;l.iGM(Ze=l.CRH())&&(Se.overlayViewChild=Ze.first),l.iGM(Ze=l.CRH())&&(Se.contentViewChild=Ze.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[l._Bn([Ae])],ngContentSelectors:Xe,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(B,Se){1&B&&(l.F$t(),l.YNc(0,ge,3,20,"div",0)),2&B&&l.Q6J("ngIf",Se.modalVisible)},dependencies:[p.mk,p.O5,p.tP,p.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,ie.X$)("overlayContentAnimation",[(0,ie.eR)(":enter",[(0,ie._7)(oe)]),(0,ie.eR)(":leave",[(0,ie._7)(Je)])])]},changeDetection:0}),Pe})(),Ge=(()=>{class Pe{}return Pe.\u0275fac=function(B){return new(B||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[p.ez,Te.m8,Te.m8]}),Pe})();var Ye=k(1795);const Vt=["element"],pn=["content"];function Yt(Pe,Kt){1&Pe&&l.GkF(0)}const Dn=function(Pe,Kt){return{$implicit:Pe,options:Kt}};function ln(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,Yt,1,0,"ng-container",7),l.BQk()),2&Pe){const B=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",B.contentTemplate)("ngTemplateOutletContext",l.WLB(2,Dn,B.loadedItems,B.getContentOptions()))}}function It(Pe,Kt){1&Pe&&l.GkF(0)}function At(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,It,1,0,"ng-container",7),l.BQk()),2&Pe){const B=Kt.$implicit,Se=Kt.index,Ze=l.oxw(3);l.xp6(1),l.Q6J("ngTemplateOutlet",Ze.itemTemplate)("ngTemplateOutletContext",l.WLB(2,Dn,B,Ze.getOptions(Se)))}}const Dt=function(Pe){return{"p-scroller-loading":Pe}};function Nt(Pe,Kt){if(1&Pe&&(l.TgZ(0,"div",8,9),l.YNc(2,At,2,5,"ng-container",10),l.qZA()),2&Pe){const B=l.oxw(2);l.Q6J("ngClass",l.VKq(4,Dt,B.d_loading))("ngStyle",B.contentStyle),l.xp6(2),l.Q6J("ngForOf",B.loadedItems)("ngForTrackBy",B._trackBy||B.index)}}function Zt(Pe,Kt){if(1&Pe&&l._UZ(0,"div",11),2&Pe){const B=l.oxw(2);l.Q6J("ngStyle",B.spacerStyle)}}function rt(Pe,Kt){1&Pe&&l.GkF(0)}const Bt=function(Pe){return{numCols:Pe}},Re=function(Pe){return{options:Pe}};function $t(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,rt,1,0,"ng-container",7),l.BQk()),2&Pe){const B=Kt.index,Se=l.oxw(4);l.xp6(1),l.Q6J("ngTemplateOutlet",Se.loaderTemplate)("ngTemplateOutletContext",l.VKq(4,Re,Se.getLoaderOptions(B,Se.both&&l.VKq(2,Bt,Se._numItemsInViewport.cols))))}}function Pt(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,$t,2,6,"ng-container",14),l.BQk()),2&Pe){const B=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",B.loaderArr)}}function tn(Pe,Kt){1&Pe&&l.GkF(0)}const Ht=function(){return{styleClass:"p-scroller-loading-icon"}};function Fn(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,tn,1,0,"ng-container",7),l.BQk()),2&Pe){const B=l.oxw(4);l.xp6(1),l.Q6J("ngTemplateOutlet",B.loaderIconTemplate)("ngTemplateOutletContext",l.VKq(3,Re,l.DdM(2,Ht)))}}function Jn(Pe,Kt){1&Pe&&l._UZ(0,"i",16)}function Un(Pe,Kt){if(1&Pe&&(l.YNc(0,Fn,2,5,"ng-container",0),l.YNc(1,Jn,1,0,"ng-template",null,15,l.W1O)),2&Pe){const B=l.MAs(2),Se=l.oxw(3);l.Q6J("ngIf",Se.loaderIconTemplate)("ngIfElse",B)}}const Ii=function(Pe){return{"p-component-overlay":Pe}};function Pi(Pe,Kt){if(1&Pe&&(l.TgZ(0,"div",12),l.YNc(1,Pt,2,1,"ng-container",0),l.YNc(2,Un,3,2,"ng-template",null,13,l.W1O),l.qZA()),2&Pe){const B=l.MAs(3),Se=l.oxw(2);l.Q6J("ngClass",l.VKq(3,Ii,!Se.loaderTemplate)),l.xp6(1),l.Q6J("ngIf",Se.loaderTemplate)("ngIfElse",B)}}const si=function(Pe,Kt,B){return{"p-scroller":!0,"p-scroller-inline":Pe,"p-both-scroll":Kt,"p-horizontal-scroll":B}};function ki(Pe,Kt){if(1&Pe){const B=l.EpF();l.ynx(0),l.TgZ(1,"div",2,3),l.NdJ("scroll",function(Ze){l.CHM(B);const Ke=l.oxw();return l.KtG(Ke.onContainerScroll(Ze))}),l.YNc(3,ln,2,5,"ng-container",0),l.YNc(4,Nt,3,6,"ng-template",null,4,l.W1O),l.YNc(6,Zt,1,1,"div",5),l.YNc(7,Pi,4,5,"div",6),l.qZA(),l.BQk()}if(2&Pe){const B=l.MAs(5),Se=l.oxw();l.xp6(1),l.Tol(Se._styleClass),l.Q6J("ngStyle",Se._style)("ngClass",l.kEZ(10,si,Se.inline,Se.both,Se.horizontal)),l.uIk("id",Se._id)("tabindex",Se.tabindex),l.xp6(2),l.Q6J("ngIf",Se.contentTemplate)("ngIfElse",B),l.xp6(3),l.Q6J("ngIf",Se._showSpacer),l.xp6(1),l.Q6J("ngIf",!Se.loaderDisabled&&Se._showLoader&&Se.d_loading)}}function er(Pe,Kt){1&Pe&&l.GkF(0)}const ht=function(Pe,Kt){return{rows:Pe,columns:Kt}};function ot(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,er,1,0,"ng-container",7),l.BQk()),2&Pe){const B=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",B.contentTemplate)("ngTemplateOutletContext",l.WLB(5,Dn,B.items,l.WLB(2,ht,B._items,B.loadedColumns)))}}function Ie(Pe,Kt){if(1&Pe&&(l.Hsn(0),l.YNc(1,ot,2,8,"ng-container",17)),2&Pe){const B=l.oxw();l.xp6(1),l.Q6J("ngIf",B.contentTemplate)}}const ft=["*"];let Ne=(()=>{class Pe{constructor(B,Se){this.cd=B,this.zone=Se,this.onLazyLoad=new l.vpe,this.onScroll=new l.vpe,this.onScrollIndexChange=new l.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.isRangeChanged=!1,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(B){this._id=B}get style(){return this._style}set style(B){this._style=B}get styleClass(){return this._styleClass}set styleClass(B){this._styleClass=B}get tabindex(){return this._tabindex}set tabindex(B){this._tabindex=B}get items(){return this._items}set items(B){this._items=B}get itemSize(){return this._itemSize}set itemSize(B){this._itemSize=B}get scrollHeight(){return this._scrollHeight}set scrollHeight(B){this._scrollHeight=B}get scrollWidth(){return this._scrollWidth}set scrollWidth(B){this._scrollWidth=B}get orientation(){return this._orientation}set orientation(B){this._orientation=B}get step(){return this._step}set step(B){this._step=B}get delay(){return this._delay}set delay(B){this._delay=B}get resizeDelay(){return this._resizeDelay}set resizeDelay(B){this._resizeDelay=B}get appendOnly(){return this._appendOnly}set appendOnly(B){this._appendOnly=B}get inline(){return this._inline}set inline(B){this._inline=B}get lazy(){return this._lazy}set lazy(B){this._lazy=B}get disabled(){return this._disabled}set disabled(B){this._disabled=B}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(B){this._loaderDisabled=B}get columns(){return this._columns}set columns(B){this._columns=B}get showSpacer(){return this._showSpacer}set showSpacer(B){this._showSpacer=B}get showLoader(){return this._showLoader}set showLoader(B){this._showLoader=B}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(B){this._numToleratedItems=B}get loading(){return this._loading}set loading(B){this._loading=B}get autoSize(){return this._autoSize}set autoSize(B){this._autoSize=B}get trackBy(){return this._trackBy}set trackBy(B){this._trackBy=B}get options(){return this._options}set options(B){this._options=B,B&&"object"==typeof B&&Object.entries(B).forEach(([Se,Ze])=>this[`_${Se}`]!==Ze&&(this[`_${Se}`]=Ze))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(B=>this._columns?B:B.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(B){let Se=!1;if(B.loading){const{previousValue:Ze,currentValue:Ke}=B.loading;this.lazy&&Ze!==Ke&&Ke!==this.d_loading&&(this.d_loading=Ke,Se=!0)}if(B.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),B.numToleratedItems){const{previousValue:Ze,currentValue:Ke}=B.numToleratedItems;Ze!==Ke&&Ke!==this.d_numToleratedItems&&(this.d_numToleratedItems=Ke)}if(B.options){const{previousValue:Ze,currentValue:Ke}=B.options;this.lazy&&Ze?.loading!==Ke?.loading&&Ke?.loading!==this.d_loading&&(this.d_loading=Ke.loading,Se=!0),Ze?.numToleratedItems!==Ke?.numToleratedItems&&Ke?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=Ke.numToleratedItems)}this.initialized&&!Se&&(B.items?.previousValue?.length!==B.items?.currentValue?.length||B.itemSize||B.scrollHeight||B.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(B=>{switch(B.getType()){case"content":this.contentTemplate=B.template;break;case"item":default:this.itemTemplate=B.template;break;case"loader":this.loaderTemplate=B.template;break;case"loadericon":this.loaderIconTemplate=B.template}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){L.p.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=L.p.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=L.p.getHeight(this.elementViewChild.nativeElement),this.defaultContentWidth=L.p.getWidth(this.contentEl),this.defaultContentHeight=L.p.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(B){this.contentEl=B||this.contentViewChild?.nativeElement||L.p.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(B){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(B)}scrollToIndex(B,Se="auto"){const{numToleratedItems:Ze}=this.calculateNumItems(),Ke=this.getContentPosition(),mn=(wi=0,Hr)=>wi<=Hr?0:wi,Gn=(wi,Hr,Lr)=>wi*Hr+Lr,ur=(wi=0,Hr=0)=>this.scrollTo({left:wi,top:Hr,behavior:Se});let $i=0;this.both?($i={rows:mn(B[0],Ze[0]),cols:mn(B[1],Ze[1])},ur(Gn($i.cols,this._itemSize[1],Ke.left),Gn($i.rows,this._itemSize[0],Ke.top))):($i=mn(B,Ze),this.horizontal?ur(Gn($i,this._itemSize,Ke.left),0):ur(0,Gn($i,this._itemSize,Ke.top))),this.isRangeChanged=this.first!==$i,this.first=$i}scrollInView(B,Se,Ze="auto"){if(Se){const{first:Ke,viewport:mn}=this.getRenderedRange(),Gn=(wi=0,Hr=0)=>this.scrollTo({left:wi,top:Hr,behavior:Ze}),$i="to-end"===Se;if("to-start"===Se){if(this.both)mn.first.rows-Ke.rows>B[0]?Gn(mn.first.cols*this._itemSize[1],(mn.first.rows-1)*this._itemSize[0]):mn.first.cols-Ke.cols>B[1]&&Gn((mn.first.cols-1)*this._itemSize[1],mn.first.rows*this._itemSize[0]);else if(mn.first-Ke>B){const wi=(mn.first-1)*this._itemSize;this.horizontal?Gn(wi,0):Gn(0,wi)}}else if($i)if(this.both)mn.last.rows-Ke.rows<=B[0]+1?Gn(mn.first.cols*this._itemSize[1],(mn.first.rows+1)*this._itemSize[0]):mn.last.cols-Ke.cols<=B[1]+1&&Gn((mn.first.cols+1)*this._itemSize[1],mn.first.rows*this._itemSize[0]);else if(mn.last-Ke<=B+1){const wi=(mn.first+1)*this._itemSize;this.horizontal?Gn(wi,0):Gn(0,wi)}}else this.scrollToIndex(B,Ze)}getRenderedRange(){const B=(Ke,mn)=>Math.floor(Ke/(mn||Ke));let Se=this.first,Ze=0;if(this.elementViewChild?.nativeElement){const{scrollTop:Ke,scrollLeft:mn}=this.elementViewChild.nativeElement;this.both?(Se={rows:B(Ke,this._itemSize[0]),cols:B(mn,this._itemSize[1])},Ze={rows:Se.rows+this.numItemsInViewport.rows,cols:Se.cols+this.numItemsInViewport.cols}):(Se=B(this.horizontal?mn:Ke,this._itemSize),Ze=Se+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:Se,last:Ze}}}calculateNumItems(){const B=this.getContentPosition(),Se=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-B.left:0,Ze=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-B.top:0,Ke=($i,wi)=>Math.ceil($i/(wi||$i)),mn=$i=>Math.ceil($i/2),Gn=this.both?{rows:Ke(Ze,this._itemSize[0]),cols:Ke(Se,this._itemSize[1])}:Ke(this.horizontal?Se:Ze,this._itemSize);return{numItemsInViewport:Gn,numToleratedItems:this.d_numToleratedItems||(this.both?[mn(Gn.rows),mn(Gn.cols)]:mn(Gn))}}calculateOptions(){const{numItemsInViewport:B,numToleratedItems:Se}=this.calculateNumItems(),Ze=(Gn,ur,$i,wi=!1)=>this.getLast(Gn+ur+(Gn<$i?2:3)*$i,wi),Ke=this.first,mn=this.both?{rows:Ze(this.first.rows,B.rows,Se[0]),cols:Ze(this.first.cols,B.cols,Se[1],!0)}:Ze(this.first,B,Se);this.last=mn,this.numItemsInViewport=B,this.d_numToleratedItems=Se,this.showLoader&&(this.loaderArr=this.both?Array.from({length:B.rows}).map(()=>Array.from({length:B.cols})):Array.from({length:B})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:Ke.cols}:0:Ke,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[B,Se]=[L.p.getWidth(this.contentEl),L.p.getHeight(this.contentEl)];B!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),Se!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[Ze,Ke]=[L.p.getWidth(this.elementViewChild.nativeElement),L.p.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=Ze<this.defaultWidth?Ze+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=Ke<this.defaultHeight?Ke+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(B=0,Se=!1){return this._items?Math.min(Se?(this._columns||this._items[0]).length:this._items.length,B):0}getContentPosition(){if(this.contentEl){const B=getComputedStyle(this.contentEl),Se=parseFloat(B.paddingLeft)+Math.max(parseFloat(B.left)||0,0),Ze=parseFloat(B.paddingRight)+Math.max(parseFloat(B.right)||0,0),Ke=parseFloat(B.paddingTop)+Math.max(parseFloat(B.top)||0,0),mn=parseFloat(B.paddingBottom)+Math.max(parseFloat(B.bottom)||0,0);return{left:Se,right:Ze,top:Ke,bottom:mn,x:Se+Ze,y:Ke+mn}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const B=this.elementViewChild.nativeElement.parentElement.parentElement,Se=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||B.offsetWidth}px`,Ze=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||B.offsetHeight}px`,Ke=(mn,Gn)=>this.elementViewChild.nativeElement.style[mn]=Gn;this.both||this.horizontal?(Ke("height",Ze),Ke("width",Se)):Ke("height",Ze)}}setSpacerSize(){if(this._items){const B=this.getContentPosition(),Se=(Ze,Ke,mn,Gn=0)=>this.spacerStyle={...this.spacerStyle,[`${Ze}`]:(Ke||[]).length*mn+Gn+"px"};this.both?(Se("height",this._items,this._itemSize[0],B.y),Se("width",this._columns||this._items[1],this._itemSize[1],B.x)):this.horizontal?Se("width",this._columns||this._items,this._itemSize,B.x):Se("height",this._items,this._itemSize,B.y)}}setContentPosition(B){if(this.contentEl&&!this._appendOnly){const Se=B?B.first:this.first,Ze=(mn,Gn)=>mn*Gn,Ke=(mn=0,Gn=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${mn}px, ${Gn}px, 0)`};if(this.both)Ke(Ze(Se.cols,this._itemSize[1]),Ze(Se.rows,this._itemSize[0]));else{const mn=Ze(Se,this._itemSize);this.horizontal?Ke(mn,0):Ke(0,mn)}}}onScrollPositionChange(B){const Se=B.target,Ze=this.getContentPosition(),Ke=(ii,cr)=>ii?ii>cr?ii-cr:ii:0,mn=(ii,cr)=>Math.floor(ii/(cr||ii)),Gn=(ii,cr,Sr,at,tt,vt)=>ii<=tt?tt:vt?Sr-at-tt:cr+tt-1,ur=(ii,cr,Sr,at,tt,vt,zt)=>ii<=vt?0:Math.max(0,zt?ii<cr?Sr:ii-vt:ii>cr?Sr:ii-2*vt),$i=(ii,cr,Sr,at,tt,vt=!1)=>{let zt=cr+at+2*tt;return ii>=tt&&(zt+=tt+1),this.getLast(zt,vt)},wi=Ke(Se.scrollTop,Ze.top),Hr=Ke(Se.scrollLeft,Ze.left);let Lr=this.both?{rows:0,cols:0}:0,Ar=this.last,Hs=!1,Cr=this.lastScrollPos;if(this.both){const ii=this.lastScrollPos.top<=wi,cr=this.lastScrollPos.left<=Hr;if(!this._appendOnly||this._appendOnly&&(ii||cr)){const Sr={rows:mn(wi,this._itemSize[0]),cols:mn(Hr,this._itemSize[1])},at={rows:Gn(Sr.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],ii),cols:Gn(Sr.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],cr)};Lr={rows:ur(Sr.rows,at.rows,this.first.rows,0,0,this.d_numToleratedItems[0],ii),cols:ur(Sr.cols,at.cols,this.first.cols,0,0,this.d_numToleratedItems[1],cr)},Ar={rows:$i(Sr.rows,Lr.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:$i(Sr.cols,Lr.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},Hs=Lr.rows!==this.first.rows||Ar.rows!==this.last.rows||Lr.cols!==this.first.cols||Ar.cols!==this.last.cols||this.isRangeChanged,Cr={top:wi,left:Hr}}}else{const ii=this.horizontal?Hr:wi,cr=this.lastScrollPos<=ii;if(!this._appendOnly||this._appendOnly&&cr){const Sr=mn(ii,this._itemSize);Lr=ur(Sr,Gn(Sr,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,cr),this.first,0,0,this.d_numToleratedItems,cr),Ar=$i(Sr,Lr,0,this.numItemsInViewport,this.d_numToleratedItems),Hs=Lr!==this.first||Ar!==this.last||this.isRangeChanged,Cr=ii}}return{first:Lr,last:Ar,isRangeChanged:Hs,scrollPos:Cr}}onScrollChange(B){const{first:Se,last:Ze,isRangeChanged:Ke,scrollPos:mn}=this.onScrollPositionChange(B);if(Ke){const Gn={first:Se,last:Ze};if(this.setContentPosition(Gn),this.first=Se,this.last=Ze,this.lastScrollPos=mn,this.handleEvents("onScrollIndexChange",Gn),this._lazy&&this.isPageChanged){const ur={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):Se,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:Ze,this.items.length)};(this.lazyLoadState.first!==ur.first||this.lazyLoadState.last!==ur.last)&&this.handleEvents("onLazyLoad",ur),this.lazyLoadState=ur}}}onContainerScroll(B){if(this.handleEvents("onScroll",{originalEvent:B}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:Se}=this.onScrollPositionChange(B);(Se||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(B),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(B)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(L.p.isVisible(this.elementViewChild?.nativeElement)){const[B,Se]=[L.p.getWidth(this.elementViewChild.nativeElement),L.p.getHeight(this.elementViewChild.nativeElement)],[Ze,Ke]=[B!==this.defaultWidth,Se!==this.defaultHeight];(this.both?Ze||Ke:this.horizontal?Ze:this.vertical&&Ke)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=B,this.defaultHeight=Se,this.defaultContentWidth=L.p.getWidth(this.contentEl),this.defaultContentHeight=L.p.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(B,Se){return this.options&&this.options[B]?this.options[B](Se):this[B].emit(Se)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:B=>this.getOptions(B),loading:this.d_loading,getLoaderOptions:(B,Se)=>this.getLoaderOptions(B,Se),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(B){const Se=(this._items||[]).length,Ze=this.both?this.first.rows+B:this.first+B;return{index:Ze,count:Se,first:0===Ze,last:Ze===Se-1,even:Ze%2==0,odd:Ze%2!=0}}getLoaderOptions(B,Se){const Ze=this.loaderArr.length;return{index:B,count:Ze,first:0===B,last:B===Ze-1,even:B%2==0,odd:B%2!=0,...Se}}}return Pe.\u0275fac=function(B){return new(B||Pe)(l.Y36(l.sBO),l.Y36(l.R0b))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["p-scroller"]],contentQueries:function(B,Se,Ze){if(1&B&&l.Suo(Ze,Te.jx,4),2&B){let Ke;l.iGM(Ke=l.CRH())&&(Se.templates=Ke)}},viewQuery:function(B,Se){if(1&B&&(l.Gf(Vt,5),l.Gf(pn,5)),2&B){let Ze;l.iGM(Ze=l.CRH())&&(Se.elementViewChild=Ze.first),l.iGM(Ze=l.CRH())&&(Se.contentViewChild=Ze.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[l.TTD],ngContentSelectors:ft,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(B,Se){if(1&B&&(l.F$t(),l.YNc(0,ki,8,14,"ng-container",0),l.YNc(1,Ie,2,1,"ng-template",null,1,l.W1O)),2&B){const Ze=l.MAs(2);l.Q6J("ngIf",!Se._disabled)("ngIfElse",Ze)}},dependencies:[p.mk,p.sg,p.O5,p.tP,p.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),Pe})(),lt=(()=>{class Pe{}return Pe.\u0275fac=function(B){return new(B||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[p.ez]}),Pe})();var An=k(3608);function hn(Pe,Kt){if(1&Pe&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&Pe){const B=l.oxw();let Se;l.xp6(1),l.Oqu(null!==(Se=B.label)&&void 0!==Se?Se:"empty")}}function Pn(Pe,Kt){1&Pe&&l.GkF(0)}const ai=function(Pe){return{height:Pe}},En=function(Pe,Kt){return{"p-dropdown-item":!0,"p-highlight":Pe,"p-disabled":Kt}},wn=function(Pe){return{$implicit:Pe}},$n=["container"],Oi=["filter"],Yn=["in"],kn=["editableInput"],bi=["items"],Gi=["scroller"],tr=["overlay"];function gi(Pe,Kt){if(1&Pe&&(l.ynx(0),l._uU(1),l.BQk()),2&Pe){const B=l.oxw(2);l.xp6(1),l.Oqu(B.label||"empty")}}function Ur(Pe,Kt){1&Pe&&l.GkF(0)}const mi=function(Pe){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":Pe}};function vr(Pe,Kt){if(1&Pe&&(l.TgZ(0,"span",14),l.YNc(1,gi,2,1,"ng-container",15),l.YNc(2,Ur,1,0,"ng-container",16),l.qZA()),2&Pe){const B=l.oxw();l.Q6J("ngClass",l.VKq(9,mi,null==B.label||0===B.label.length))("pTooltip",B.tooltip)("tooltipPosition",B.tooltipPosition)("positionStyle",B.tooltipPositionStyle)("tooltipStyleClass",B.tooltipStyleClass),l.uIk("id",B.labelId),l.xp6(1),l.Q6J("ngIf",!B.selectedItemTemplate),l.xp6(1),l.Q6J("ngTemplateOutlet",B.selectedItemTemplate)("ngTemplateOutletContext",l.VKq(11,wn,B.selectedOption))}}const sr=function(Pe){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":Pe}};function Ft(Pe,Kt){if(1&Pe&&(l.TgZ(0,"span",17),l._uU(1),l.qZA()),2&Pe){const B=l.oxw();l.Q6J("ngClass",l.VKq(2,sr,null==B.placeholder||0===B.placeholder.length)),l.xp6(1),l.Oqu(B.placeholder||"empty")}}function me(Pe,Kt){if(1&Pe){const B=l.EpF();l.TgZ(0,"input",18,19),l.NdJ("input",function(Ze){l.CHM(B);const Ke=l.oxw();return l.KtG(Ke.onEditableInputChange(Ze))})("focus",function(Ze){l.CHM(B);const Ke=l.oxw();return l.KtG(Ke.onEditableInputFocus(Ze))})("blur",function(Ze){l.CHM(B);const Ke=l.oxw();return l.KtG(Ke.onInputBlur(Ze))}),l.qZA()}if(2&Pe){const B=l.oxw();l.Q6J("disabled",B.disabled),l.uIk("maxlength",B.maxlength)("placeholder",B.placeholder)("aria-expanded",B.overlayVisible)}}function Fe(Pe,Kt){if(1&Pe){const B=l.EpF();l.TgZ(0,"i",20),l.NdJ("click",function(Ze){l.CHM(B);const Ke=l.oxw();return l.KtG(Ke.clear(Ze))}),l.qZA()}}function wt(Pe,Kt){1&Pe&&l.GkF(0)}function an(Pe,Kt){1&Pe&&l.GkF(0)}const Bn=function(Pe){return{options:Pe}};function Ni(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,an,1,0,"ng-container",16),l.BQk()),2&Pe){const B=l.oxw(3);l.xp6(1),l.Q6J("ngTemplateOutlet",B.filterTemplate)("ngTemplateOutletContext",l.VKq(2,Bn,B.filterOptions))}}function ze(Pe,Kt){if(1&Pe){const B=l.EpF();l.TgZ(0,"div",30)(1,"input",31,32),l.NdJ("keydown.enter",function(Ze){return Ze.preventDefault()})("keydown",function(Ze){l.CHM(B);const Ke=l.oxw(3);return l.KtG(Ke.onKeydown(Ze,!1))})("input",function(Ze){l.CHM(B);const Ke=l.oxw(3);return l.KtG(Ke.onFilterInputChange(Ze))}),l.qZA(),l._UZ(3,"span",33),l.qZA()}if(2&Pe){const B=l.oxw(3);l.xp6(1),l.Q6J("value",B.filterValue||""),l.uIk("placeholder",B.filterPlaceholder)("aria-label",B.ariaFilterLabel)("aria-activedescendant",B.overlayVisible?"p-highlighted-option":B.labelId)}}function Ue(Pe,Kt){if(1&Pe&&(l.TgZ(0,"div",27),l.NdJ("click",function(Se){return Se.stopPropagation()}),l.YNc(1,Ni,2,4,"ng-container",28),l.YNc(2,ze,4,4,"ng-template",null,29,l.W1O),l.qZA()),2&Pe){const B=l.MAs(3),Se=l.oxw(2);l.xp6(1),l.Q6J("ngIf",Se.filterTemplate)("ngIfElse",B)}}function be(Pe,Kt){1&Pe&&l.GkF(0)}const De=function(Pe,Kt){return{$implicit:Pe,options:Kt}};function fe(Pe,Kt){if(1&Pe&&l.YNc(0,be,1,0,"ng-container",16),2&Pe){const B=Kt.$implicit,Se=Kt.options;l.oxw(2);const Ze=l.MAs(7);l.Q6J("ngTemplateOutlet",Ze)("ngTemplateOutletContext",l.WLB(2,De,B,Se))}}function pt(Pe,Kt){1&Pe&&l.GkF(0)}function Gt(Pe,Kt){if(1&Pe&&l.YNc(0,pt,1,0,"ng-container",16),2&Pe){const B=Kt.options,Se=l.oxw(4);l.Q6J("ngTemplateOutlet",Se.loaderTemplate)("ngTemplateOutletContext",l.VKq(2,Bn,B))}}function bn(Pe,Kt){1&Pe&&(l.ynx(0),l.YNc(1,Gt,1,4,"ng-template",36),l.BQk())}function $e(Pe,Kt){if(1&Pe){const B=l.EpF();l.TgZ(0,"p-scroller",34,35),l.NdJ("onLazyLoad",function(Ze){l.CHM(B);const Ke=l.oxw(2);return l.KtG(Ke.onLazyLoad.emit(Ze))}),l.YNc(2,fe,1,5,"ng-template",13),l.YNc(3,bn,2,0,"ng-container",15),l.qZA()}if(2&Pe){const B=l.oxw(2);l.Akn(l.VKq(8,ai,B.scrollHeight)),l.Q6J("items",B.optionsToDisplay)("itemSize",B.virtualScrollItemSize||B._itemSize)("autoSize",!0)("lazy",B.lazy)("options",B.virtualScrollOptions),l.xp6(3),l.Q6J("ngIf",B.loaderTemplate)}}function je(Pe,Kt){1&Pe&&l.GkF(0)}const Me=function(){return{}};function nt(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,je,1,0,"ng-container",16),l.BQk()),2&Pe){l.oxw();const B=l.MAs(7),Se=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",B)("ngTemplateOutletContext",l.WLB(3,De,Se.optionsToDisplay,l.DdM(2,Me)))}}function Lt(Pe,Kt){if(1&Pe&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&Pe){const B=l.oxw().$implicit,Se=l.oxw(4);l.xp6(1),l.Oqu(Se.getOptionGroupLabel(B)||"empty")}}function qt(Pe,Kt){1&Pe&&l.GkF(0)}function Ln(Pe,Kt){1&Pe&&l.GkF(0)}const xi=function(Pe,Kt){return{$implicit:Pe,selectedOption:Kt}};function St(Pe,Kt){if(1&Pe&&(l.TgZ(0,"li",42),l.YNc(1,Lt,2,1,"span",15),l.YNc(2,qt,1,0,"ng-container",16),l.qZA(),l.YNc(3,Ln,1,0,"ng-container",16)),2&Pe){const B=Kt.$implicit,Se=l.oxw(2).options,Ze=l.MAs(5),Ke=l.oxw(2);l.Q6J("ngStyle",l.VKq(6,ai,Se.itemSize+"px")),l.xp6(1),l.Q6J("ngIf",!Ke.groupTemplate),l.xp6(1),l.Q6J("ngTemplateOutlet",Ke.groupTemplate)("ngTemplateOutletContext",l.VKq(8,wn,B)),l.xp6(1),l.Q6J("ngTemplateOutlet",Ze)("ngTemplateOutletContext",l.WLB(10,xi,Ke.getOptionGroupChildren(B),Ke.selectedOption))}}function Et(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,St,4,13,"ng-template",41),l.BQk()),2&Pe){const B=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",B)}}function Xt(Pe,Kt){1&Pe&&l.GkF(0)}function Nn(Pe,Kt){if(1&Pe&&(l.ynx(0),l.YNc(1,Xt,1,0,"ng-container",16),l.BQk()),2&Pe){const B=l.oxw().$implicit,Se=l.MAs(5),Ze=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",Se)("ngTemplateOutletContext",l.WLB(2,xi,B,Ze.selectedOption))}}function qn(Pe,Kt){if(1&Pe){const B=l.EpF();l.TgZ(0,"p-dropdownItem",43),l.NdJ("onClick",function(Ze){l.CHM(B);const Ke=l.oxw(4);return l.KtG(Ke.onItemClick(Ze))}),l.qZA()}if(2&Pe){const B=Kt.$implicit,Se=l.oxw().selectedOption,Ze=l.oxw(3);l.Q6J("option",B)("selected",Se==B)("label",Ze.getOptionLabel(B))("disabled",Ze.isOptionDisabled(B))("template",Ze.itemTemplate)}}function _i(Pe,Kt){1&Pe&&l.YNc(0,qn,1,5,"ng-template",41),2&Pe&&l.Q6J("ngForOf",Kt.$implicit)}function Mi(Pe,Kt){if(1&Pe&&(l.ynx(0),l._uU(1),l.BQk()),2&Pe){const B=l.oxw(4);l.xp6(1),l.hij(" ",B.emptyFilterMessageLabel," ")}}function Rr(Pe,Kt){1&Pe&&l.GkF(0,null,45)}function br(Pe,Kt){if(1&Pe&&(l.TgZ(0,"li",44),l.YNc(1,Mi,2,1,"ng-container",28),l.YNc(2,Rr,2,0,"ng-container",22),l.qZA()),2&Pe){const B=l.oxw().options,Se=l.oxw(2);l.Q6J("ngStyle",l.VKq(4,ai,B.itemSize+"px")),l.xp6(1),l.Q6J("ngIf",!Se.emptyFilterTemplate&&!Se.emptyTemplate)("ngIfElse",Se.emptyFilter),l.xp6(1),l.Q6J("ngTemplateOutlet",Se.emptyFilterTemplate||Se.emptyTemplate)}}function Hn(Pe,Kt){if(1&Pe&&(l.ynx(0),l._uU(1),l.BQk()),2&Pe){const B=l.oxw(4);l.xp6(1),l.hij(" ",B.emptyMessageLabel," ")}}function Dr(Pe,Kt){1&Pe&&l.GkF(0,null,46)}function Pr(Pe,Kt){if(1&Pe&&(l.TgZ(0,"li",44),l.YNc(1,Hn,2,1,"ng-container",28),l.YNc(2,Dr,2,0,"ng-container",22),l.qZA()),2&Pe){const B=l.oxw().options,Se=l.oxw(2);l.Q6J("ngStyle",l.VKq(4,ai,B.itemSize+"px")),l.xp6(1),l.Q6J("ngIf",!Se.emptyTemplate)("ngIfElse",Se.empty),l.xp6(1),l.Q6J("ngTemplateOutlet",Se.emptyTemplate)}}function Ts(Pe,Kt){if(1&Pe&&(l.TgZ(0,"ul",37,38),l.YNc(2,Et,2,1,"ng-container",15),l.YNc(3,Nn,2,5,"ng-container",15),l.YNc(4,_i,1,1,"ng-template",null,39,l.W1O),l.YNc(6,br,3,6,"li",40),l.YNc(7,Pr,3,6,"li",40),l.qZA()),2&Pe){const B=Kt.options,Se=l.oxw(2);l.Akn(B.contentStyle),l.Q6J("ngClass",B.contentStyleClass),l.uIk("id",Se.listId),l.xp6(2),l.Q6J("ngIf",Se.group),l.xp6(1),l.Q6J("ngIf",!Se.group),l.xp6(3),l.Q6J("ngIf",Se.filterValue&&Se.isEmpty()),l.xp6(1),l.Q6J("ngIf",!Se.filterValue&&Se.isEmpty())}}function Kr(Pe,Kt){1&Pe&&l.GkF(0)}function Zr(Pe,Kt){if(1&Pe&&(l.TgZ(0,"div",21),l.YNc(1,wt,1,0,"ng-container",22),l.YNc(2,Ue,4,2,"div",23),l.TgZ(3,"div",24),l.YNc(4,$e,4,10,"p-scroller",25),l.YNc(5,nt,2,6,"ng-container",15),l.YNc(6,Ts,8,8,"ng-template",null,26,l.W1O),l.qZA(),l.YNc(8,Kr,1,0,"ng-container",22),l.qZA()),2&Pe){const B=l.oxw();l.Tol(B.panelStyleClass),l.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",B.panelStyle),l.xp6(1),l.Q6J("ngTemplateOutlet",B.headerTemplate),l.xp6(1),l.Q6J("ngIf",B.filter),l.xp6(1),l.Udp("max-height",B.virtualScroll?"auto":B.scrollHeight||"auto"),l.xp6(1),l.Q6J("ngIf",B.virtualScroll),l.xp6(1),l.Q6J("ngIf",!B.virtualScroll),l.xp6(3),l.Q6J("ngTemplateOutlet",B.footerTemplate)}}const fn=function(Pe,Kt,B,Se){return{"p-dropdown p-component":!0,"p-disabled":Pe,"p-dropdown-open":Kt,"p-focus":B,"p-dropdown-clearable":Se}},Ti={provide:V.JU,useExisting:(0,l.Gpc)(()=>Fi),multi:!0};let pr=(()=>{class Pe{constructor(){this.onClick=new l.vpe}onOptionClick(B){this.onClick.emit({originalEvent:B,option:this.option})}}return Pe.\u0275fac=function(B){return new(B||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(B,Se){1&B&&(l.TgZ(0,"li",0),l.NdJ("click",function(Ke){return Se.onOptionClick(Ke)}),l.YNc(1,hn,2,1,"span",1),l.YNc(2,Pn,1,0,"ng-container",2),l.qZA()),2&B&&(l.Q6J("ngStyle",l.VKq(8,ai,Se.itemSize+"px"))("id",Se.selected?"p-highlighted-option":"")("ngClass",l.WLB(10,En,Se.selected,Se.disabled)),l.uIk("aria-label",Se.label)("aria-selected",Se.selected),l.xp6(1),l.Q6J("ngIf",!Se.template),l.xp6(1),l.Q6J("ngTemplateOutlet",Se.template)("ngTemplateOutletContext",l.VKq(13,wn,Se.option)))},dependencies:[p.mk,p.O5,p.tP,p.PC,Ye.H],encapsulation:2}),Pe})(),Fi=(()=>{class Pe{constructor(B,Se,Ze,Ke,mn,Gn){this.el=B,this.renderer=Se,this.cd=Ze,this.zone=Ke,this.filterService=mn,this.config=Gn,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new l.vpe,this.onFilter=new l.vpe,this.onFocus=new l.vpe,this.onBlur=new l.vpe,this.onClick=new l.vpe,this.onShow=new l.vpe,this.onHide=new l.vpe,this.onClear=new l.vpe,this.onLazyLoad=new l.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=(0,Ce.Th)()}get disabled(){return this._disabled}set disabled(B){B&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=B,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(B){this._itemSize=B,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(B){this._autoZIndex=B,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(B){this._baseZIndex=B,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(B){this._showTransitionOptions=B,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(B){this._hideTransitionOptions=B,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(B=>{switch(B.getType()){case"item":default:this.itemTemplate=B.template;break;case"selectedItem":this.selectedItemTemplate=B.template;break;case"header":this.headerTemplate=B.template;break;case"filter":this.filterTemplate=B.template;break;case"footer":this.footerTemplate=B.template;break;case"emptyfilter":this.emptyFilterTemplate=B.template;break;case"empty":this.emptyTemplate=B.template;break;case"group":this.groupTemplate=B.template;break;case"loader":this.loaderTemplate=B.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:B=>this.onFilterInputChange(B),reset:()=>this.resetFilter()})}get options(){return this._options}set options(B){this._options=B,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Ce.gb.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(B){this._filterValue=B,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return"number"==typeof this.selectedOption&&(this.selectedOption=this.selectedOption.toString()),this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Te.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Te.ws.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(B){return this.optionLabel?Ce.gb.resolveFieldData(B,this.optionLabel):B&&void 0!==B.label?B.label:B}getOptionValue(B){return this.optionValue?Ce.gb.resolveFieldData(B,this.optionValue):!this.optionLabel&&B&&void 0!==B.value?B.value:B}isOptionDisabled(B){return this.optionDisabled?Ce.gb.resolveFieldData(B,this.optionDisabled):!(!B||void 0===B.disabled)&&B.disabled}getOptionGroupLabel(B){return this.optionGroupLabel?Ce.gb.resolveFieldData(B,this.optionGroupLabel):B&&void 0!==B.label?B.label:B}getOptionGroupChildren(B){return this.optionGroupChildren?Ce.gb.resolveFieldData(B,this.optionGroupChildren):B.items}onItemClick(B){const Se=B.option;this.isOptionDisabled(Se)||(this.selectItem(B.originalEvent,Se),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(B,Se){this.selectedOption!=Se&&(this.selectedOption=Se,this.value=this.getOptionValue(Se),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:B,value:this.value}))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let B=L.p.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,"li.p-highlight");B&&L.p.scrollInView(this.itemsWrapper,B),this.selectedOptionUpdated=!1}}writeValue(B){this.filter&&this.resetFilter(),this.value=B,this.updateSelectedOption(B),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(B){this.selectedOption=this.findOption(B,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(B){this.onModelChange=B}registerOnTouched(B){this.onModelTouched=B}setDisabledState(B){this.disabled=B,this.cd.markForCheck()}onMouseclick(B){this.disabled||this.readonly||this.isInputClick(B)||(this.onClick.emit(B),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(B){return L.p.hasClass(B.target,"p-dropdown-clear-icon")||B.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&B.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(B){this.focused=!0,this.hide(),this.onFocus.emit(B)}onEditableInputChange(B){this.value=B.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:B,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(B){if("visible"===B.toState){if(this.itemsWrapper=L.p.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const Se=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==Se&&this.scroller.scrollToIndex(Se)}else{let Se=L.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");Se&&Se.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(B)}"void"===B.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(B))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(B){this.focused=!0,this.onFocus.emit(B)}onInputBlur(B){this.focused=!1,this.onBlur.emit(B),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(B){let Se;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let Ze=B-1;0<=Ze;Ze--){let Ke=this.optionsToDisplay[Ze];if(!this.isOptionDisabled(Ke)){Se=Ke;break}}if(!Se)for(let Ze=this.optionsToDisplay.length-1;Ze>=B;Ze--){let Ke=this.optionsToDisplay[Ze];if(!this.isOptionDisabled(Ke)){Se=Ke;break}}}return Se}findNextEnabledOption(B){let Se;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let Ze=B+1;Ze<this.optionsToDisplay.length;Ze++){let Ke=this.optionsToDisplay[Ze];if(!this.isOptionDisabled(Ke)){Se=Ke;break}}if(!Se)for(let Ze=0;Ze<B;Ze++){let Ke=this.optionsToDisplay[Ze];if(!this.isOptionDisabled(Ke)){Se=Ke;break}}}return Se}onKeydown(B,Se){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(B.which){case 40:if(!this.overlayVisible&&B.altKey)this.show();else if(this.group){let Ze=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==Ze){let Ke=Ze.itemIndex+1;Ke<this.getOptionGroupChildren(this.optionsToDisplay[Ze.groupIndex]).length?(this.selectItem(B,this.getOptionGroupChildren(this.optionsToDisplay[Ze.groupIndex])[Ke]),this.selectedOptionUpdated=!0):this.optionsToDisplay[Ze.groupIndex+1]&&(this.selectItem(B,this.getOptionGroupChildren(this.optionsToDisplay[Ze.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(B,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let Ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,Ke=this.findNextEnabledOption(Ze);Ke&&(this.selectItem(B,Ke),this.selectedOptionUpdated=!0)}B.preventDefault();break;case 38:if(this.group){let Ze=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==Ze){let Ke=Ze.itemIndex-1;if(Ke>=0)this.selectItem(B,this.getOptionGroupChildren(this.optionsToDisplay[Ze.groupIndex])[Ke]),this.selectedOptionUpdated=!0;else if(Ke<0){let mn=this.optionsToDisplay[Ze.groupIndex-1];mn&&(this.selectItem(B,this.getOptionGroupChildren(mn)[this.getOptionGroupChildren(mn).length-1]),this.selectedOptionUpdated=!0)}}}else{let Ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,Ke=this.findPrevEnabledOption(Ze);Ke&&(this.selectItem(B,Ke),this.selectedOptionUpdated=!0)}B.preventDefault();break;case 32:Se&&(this.overlayVisible?this.hide():this.show(),B.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),B.preventDefault();break;case 27:case 9:this.hide();break;default:Se&&!B.metaKey&&17!==B.which&&this.search(B)}}search(B){this.searchTimeout&&clearTimeout(this.searchTimeout);const Se=B.key;let Ze;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=Se,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+Se:Se,this.group){let Ke=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};Ze=this.searchOptionWithinGroup(Ke)}else{let Ke=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;Ze=this.searchOption(++Ke)}Ze&&!this.isOptionDisabled(Ze)&&(this.selectItem(B,Ze),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(B){let Se;return this.searchValue&&(Se=this.searchOptionInRange(B,this.optionsToDisplay.length),Se||(Se=this.searchOptionInRange(0,B))),Se}searchOptionInRange(B,Se){for(let Ze=B;Ze<Se;Ze++){let Ke=this.optionsToDisplay[Ze];if(this.getOptionLabel(Ke).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Ke))return Ke}return null}searchOptionWithinGroup(B){if(this.searchValue){for(let Ze=B.groupIndex;Ze<this.optionsToDisplay.length;Ze++)for(let Ke=B.groupIndex===Ze?B.itemIndex+1:0;Ke<this.getOptionGroupChildren(this.optionsToDisplay[Ze]).length;Ke++){let mn=this.getOptionGroupChildren(this.optionsToDisplay[Ze])[Ke];if(this.getOptionLabel(mn).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(mn))return mn}for(let Ze=0;Ze<=B.groupIndex;Ze++)for(let Ke=0;Ke<(B.groupIndex===Ze?B.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[Ze]).length);Ke++){let mn=this.getOptionGroupChildren(this.optionsToDisplay[Ze])[Ke];if(this.getOptionLabel(mn).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(mn))return mn}}return null}findOptionIndex(B,Se){let Ze=-1;if(Se)for(let Ke=0;Ke<Se.length;Ke++)if(null==B&&null==this.getOptionValue(Se[Ke])||Ce.gb.equals(B,this.getOptionValue(Se[Ke]),this.dataKey)){Ze=Ke;break}return Ze}findOptionGroupIndex(B,Se){let Ze,Ke;if(Se)for(let mn=0;mn<Se.length&&(Ze=mn,Ke=this.findOptionIndex(B,this.getOptionGroupChildren(Se[mn])),-1===Ke);mn++);return-1!==Ke?{groupIndex:Ze,itemIndex:Ke}:-1}findOption(B,Se,Ze){if(this.group&&!Ze){let Ke;if(Se&&Se.length)for(let mn of Se)if(Ke=this.findOption(B,this.getOptionGroupChildren(mn),!0),Ke)break;return Ke}{let Ke=this.findOptionIndex(B,Se);return-1!=Ke?Se[Ke]:null}}onFilterInputChange(B){let Se=B.target.value;Se&&Se.length?(this._filterValue=Se,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:B,filter:this._filterValue})}activateFilter(){let B=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let Se=[];for(let Ze of this.options){let Ke=this.filterService.filter(this.getOptionGroupChildren(Ze),B,this.filterValue,this.filterMatchMode,this.filterLocale);Ke&&Ke.length&&Se.push({...Ze,[this.optionGroupChildren]:Ke})}this.optionsToDisplay=Se}else this.optionsToDisplay=this.filterService.filter(this.options,B,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?L.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():L.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(B){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:B,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(B)}}return Pe.\u0275fac=function(B){return new(B||Pe)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Te.iZ),l.Y36(Te.b4))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["p-dropdown"]],contentQueries:function(B,Se,Ze){if(1&B&&l.Suo(Ze,Te.jx,4),2&B){let Ke;l.iGM(Ke=l.CRH())&&(Se.templates=Ke)}},viewQuery:function(B,Se){if(1&B&&(l.Gf($n,5),l.Gf(Oi,5),l.Gf(Yn,5),l.Gf(kn,5),l.Gf(bi,5),l.Gf(Gi,5),l.Gf(tr,5)),2&B){let Ze;l.iGM(Ze=l.CRH())&&(Se.containerViewChild=Ze.first),l.iGM(Ze=l.CRH())&&(Se.filterViewChild=Ze.first),l.iGM(Ze=l.CRH())&&(Se.accessibleViewChild=Ze.first),l.iGM(Ze=l.CRH())&&(Se.editableInputViewChild=Ze.first),l.iGM(Ze=l.CRH())&&(Se.itemsViewChild=Ze.first),l.iGM(Ze=l.CRH())&&(Se.scroller=Ze.first),l.iGM(Ze=l.CRH())&&(Se.overlayViewChild=Ze.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(B,Se){2&B&&l.ekj("p-inputwrapper-filled",Se.filled)("p-inputwrapper-focus",Se.focused||Se.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[l._Bn([Ti])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(B,Se){1&B&&(l.TgZ(0,"div",0,1),l.NdJ("click",function(Ke){return Se.onMouseclick(Ke)}),l.TgZ(2,"div",2)(3,"input",3,4),l.NdJ("focus",function(Ke){return Se.onInputFocus(Ke)})("blur",function(Ke){return Se.onInputBlur(Ke)})("keydown",function(Ke){return Se.onKeydown(Ke,!0)}),l.qZA()(),l.YNc(5,vr,3,13,"span",5),l.YNc(6,Ft,2,4,"span",6),l.YNc(7,me,2,4,"input",7),l.YNc(8,Fe,1,0,"i",8),l.TgZ(9,"div",9),l._UZ(10,"span",10),l.qZA(),l.TgZ(11,"p-overlay",11,12),l.NdJ("visibleChange",function(Ke){return Se.overlayVisible=Ke})("onAnimationStart",function(Ke){return Se.onOverlayAnimationStart(Ke)})("onHide",function(){return Se.hide()}),l.YNc(13,Zr,9,11,"ng-template",13),l.qZA()()),2&B&&(l.Tol(Se.styleClass),l.Q6J("ngClass",l.l5B(27,fn,Se.disabled,Se.overlayVisible,Se.focused,Se.showClear&&!Se.disabled))("ngStyle",Se.style),l.xp6(3),l.Q6J("disabled",Se.disabled)("autofocus",Se.autofocus),l.uIk("id",Se.inputId)("placeholder",Se.placeholder)("aria-label",Se.ariaLabel)("aria-expanded",!1)("aria-labelledby",Se.ariaLabelledBy)("tabindex",Se.tabindex)("aria-activedescendant",Se.overlayVisible?Se.labelId:null),l.xp6(2),l.Q6J("ngIf",!Se.editable&&null!=Se.label),l.xp6(1),l.Q6J("ngIf",!Se.editable&&null==Se.label),l.xp6(1),l.Q6J("ngIf",Se.editable),l.xp6(1),l.Q6J("ngIf",Se.isVisibleClearIcon),l.xp6(1),l.uIk("aria-expanded",Se.overlayVisible),l.xp6(1),l.Q6J("ngClass",Se.dropdownIcon),l.xp6(1),l.Q6J("visible",Se.overlayVisible)("options",Se.overlayOptions)("target","@parent")("appendTo",Se.appendTo)("autoZIndex",Se.autoZIndex)("baseZIndex",Se.baseZIndex)("showTransitionOptions",Se.showTransitionOptions)("hideTransitionOptions",Se.hideTransitionOptions))},dependencies:[p.mk,p.sg,p.O5,p.tP,p.PC,Le,Te.jx,An.u,Ne,de,pr],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),Pe})(),ys=(()=>{class Pe{}return Pe.\u0275fac=function(B){return new(B||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[p.ez,Ge,Te.m8,An.z,Ye.T,lt,le,Ge,Te.m8,lt]}),Pe})()},3768:(dn,dt,k)=>{k.d(dt,{nm:()=>ht,W6:()=>ot});var p=k(4650),l=k(6895),V=k(982),Te=k(805),L=k(4629),de=k(1795),le=k(3608),ie=k(7579),Ce=k(4482),X=k(5032),ce=k(5403),Oe=k(8421),ut=k(4986),st=k(5963),Be=k(9300);const it=function(Ie){return{"p-hidden":Ie}};function ge(Ie,ft){if(1&Ie&&p._UZ(0,"li",4),2&Ie){const Ne=p.oxw().$implicit;p.Q6J("ngClass",p.VKq(1,it,!1===Ne.visible))}}function Xe(Ie,ft){if(1&Ie&&p._UZ(0,"span",16),2&Ie){const Ne=p.oxw(3).$implicit;p.Q6J("ngClass",Ne.icon)("ngStyle",Ne.iconStyle)}}function Ae(Ie,ft){if(1&Ie&&(p.TgZ(0,"span",17),p._uU(1),p.qZA()),2&Ie){const Ne=p.oxw(3).$implicit;p.xp6(1),p.Oqu(Ne.label)}}function oe(Ie,ft){if(1&Ie&&p._UZ(0,"span",18),2&Ie){const Ne=p.oxw(3).$implicit;p.Q6J("innerHTML",Ne.label,p.oJD)}}function Je(Ie,ft){if(1&Ie&&(p.TgZ(0,"span",19),p._uU(1),p.qZA()),2&Ie){const Ne=p.oxw(3).$implicit;p.Q6J("ngClass",Ne.badgeStyleClass),p.xp6(1),p.Oqu(Ne.badge)}}const Le=function(Ie,ft){return{"pi-angle-down":Ie,"pi-angle-right":ft}};function Ge(Ie,ft){if(1&Ie&&p._UZ(0,"span",20),2&Ie){const Ne=p.oxw(4);p.Q6J("ngClass",p.WLB(1,Le,Ne.root,!Ne.root))}}const Ye=function(Ie){return{"p-menuitem-link":!0,"p-disabled":Ie}};function Vt(Ie,ft){if(1&Ie){const Ne=p.EpF();p.TgZ(0,"a",10),p.NdJ("click",function(An){p.CHM(Ne);const hn=p.oxw(2).$implicit,Pn=p.oxw();return p.KtG(Pn.onItemClick(An,hn))})("mouseenter",function(An){p.CHM(Ne);const hn=p.oxw(2).$implicit,Pn=p.oxw();return p.KtG(Pn.onItemMouseEnter(An,hn))})("mouseleave",function(An){p.CHM(Ne);const hn=p.oxw(2).$implicit,Pn=p.oxw();return p.KtG(Pn.onItemMouseLeave(An,hn))}),p.YNc(1,Xe,1,2,"span",11),p.YNc(2,Ae,2,1,"span",12),p.YNc(3,oe,1,1,"ng-template",null,13,p.W1O),p.YNc(5,Je,2,2,"span",14),p.YNc(6,Ge,1,4,"span",15),p.qZA()}if(2&Ie){const Ne=p.MAs(4),lt=p.oxw(2).$implicit,An=p.oxw();p.Q6J("target",lt.target)("ngClass",p.VKq(14,Ye,lt.disabled)),p.uIk("href",lt.url,p.LSH)("data-automationid",lt.automationId)("title",lt.title)("id",lt.id)("tabindex",lt.disabled?null:"0")("aria-haspopup",null!=An.item.items)("aria-expanded",An.item===An.activeItem),p.xp6(1),p.Q6J("ngIf",lt.icon),p.xp6(1),p.Q6J("ngIf",!1!==lt.escape)("ngIfElse",Ne),p.xp6(3),p.Q6J("ngIf",lt.badge),p.xp6(1),p.Q6J("ngIf",lt.items)}}function pn(Ie,ft){if(1&Ie&&p._UZ(0,"span",16),2&Ie){const Ne=p.oxw(3).$implicit;p.Q6J("ngClass",Ne.icon)("ngStyle",Ne.iconStyle)}}function Yt(Ie,ft){if(1&Ie&&(p.TgZ(0,"span",17),p._uU(1),p.qZA()),2&Ie){const Ne=p.oxw(3).$implicit;p.xp6(1),p.Oqu(Ne.label)}}function Dn(Ie,ft){if(1&Ie&&p._UZ(0,"span",18),2&Ie){const Ne=p.oxw(3).$implicit;p.Q6J("innerHTML",Ne.label,p.oJD)}}function ln(Ie,ft){if(1&Ie&&(p.TgZ(0,"span",19),p._uU(1),p.qZA()),2&Ie){const Ne=p.oxw(3).$implicit;p.Q6J("ngClass",Ne.badgeStyleClass),p.xp6(1),p.Oqu(Ne.badge)}}function It(Ie,ft){if(1&Ie&&p._UZ(0,"span",20),2&Ie){const Ne=p.oxw(4);p.Q6J("ngClass",p.WLB(1,Le,Ne.root,!Ne.root))}}const At=function(){return{exact:!1}};function Dt(Ie,ft){if(1&Ie){const Ne=p.EpF();p.TgZ(0,"a",21),p.NdJ("click",function(An){p.CHM(Ne);const hn=p.oxw(2).$implicit,Pn=p.oxw();return p.KtG(Pn.onItemClick(An,hn))})("mouseenter",function(An){p.CHM(Ne);const hn=p.oxw(2).$implicit,Pn=p.oxw();return p.KtG(Pn.onItemMouseEnter(An,hn))})("mouseleave",function(An){p.CHM(Ne);const hn=p.oxw(2).$implicit,Pn=p.oxw();return p.KtG(Pn.onItemMouseLeave(An,hn))}),p.YNc(1,pn,1,2,"span",11),p.YNc(2,Yt,2,1,"span",12),p.YNc(3,Dn,1,1,"ng-template",null,22,p.W1O),p.YNc(5,ln,2,2,"span",14),p.YNc(6,It,1,4,"span",15),p.qZA()}if(2&Ie){const Ne=p.MAs(4),lt=p.oxw(2).$implicit;p.Q6J("routerLink",lt.routerLink)("queryParams",lt.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",lt.routerLinkActiveOptions||p.DdM(21,At))("target",lt.target)("ngClass",p.VKq(22,Ye,lt.disabled))("fragment",lt.fragment)("queryParamsHandling",lt.queryParamsHandling)("preserveFragment",lt.preserveFragment)("skipLocationChange",lt.skipLocationChange)("replaceUrl",lt.replaceUrl)("state",lt.state),p.uIk("data-automationid",lt.automationId)("title",lt.title)("id",lt.id)("tabindex",lt.disabled?null:"0"),p.xp6(1),p.Q6J("ngIf",lt.icon),p.xp6(1),p.Q6J("ngIf",!1!==lt.escape)("ngIfElse",Ne),p.xp6(3),p.Q6J("ngIf",lt.badge),p.xp6(1),p.Q6J("ngIf",lt.items)}}function Nt(Ie,ft){if(1&Ie){const Ne=p.EpF();p.TgZ(0,"p-menubarSub",23),p.NdJ("leafClick",function(){p.CHM(Ne);const An=p.oxw(3);return p.KtG(An.onLeafClick())}),p.qZA()}if(2&Ie){const Ne=p.oxw(2).$implicit,lt=p.oxw();p.Q6J("parentActive",Ne===lt.activeItem)("item",Ne)("mobileActive",lt.mobileActive)("autoDisplay",lt.autoDisplay)}}const Zt=function(Ie,ft){return{"p-menuitem":!0,"p-menuitem-active":Ie,"p-hidden":ft}};function rt(Ie,ft){if(1&Ie&&(p.TgZ(0,"li",5,6),p.YNc(2,Vt,7,16,"a",7),p.YNc(3,Dt,7,24,"a",8),p.YNc(4,Nt,1,4,"p-menubarSub",9),p.qZA()),2&Ie){const Ne=p.oxw().$implicit,lt=p.oxw();p.Tol(Ne.styleClass),p.Q6J("ngClass",p.WLB(8,Zt,Ne===lt.activeItem,!1===Ne.visible))("ngStyle",Ne.style)("tooltipOptions",Ne.tooltipOptions),p.xp6(2),p.Q6J("ngIf",!Ne.routerLink),p.xp6(1),p.Q6J("ngIf",Ne.routerLink),p.xp6(1),p.Q6J("ngIf",Ne.items)}}function Bt(Ie,ft){if(1&Ie&&(p.YNc(0,ge,1,3,"li",2),p.YNc(1,rt,5,11,"li",3)),2&Ie){const Ne=ft.$implicit;p.Q6J("ngIf",Ne.separator),p.xp6(1),p.Q6J("ngIf",!Ne.separator)}}const Re=function(Ie,ft){return{"p-submenu-list":Ie,"p-menubar-root-list":ft}},$t=["menubutton"],Pt=["rootmenu"];function tn(Ie,ft){1&Ie&&p.GkF(0)}function Ht(Ie,ft){if(1&Ie&&(p.TgZ(0,"div",7),p.YNc(1,tn,1,0,"ng-container",8),p.qZA()),2&Ie){const Ne=p.oxw();p.xp6(1),p.Q6J("ngTemplateOutlet",Ne.startTemplate)}}function Fn(Ie,ft){if(1&Ie){const Ne=p.EpF();p.TgZ(0,"a",9,10),p.NdJ("click",function(An){p.CHM(Ne);const hn=p.oxw();return p.KtG(hn.toggle(An))}),p._UZ(2,"i",11),p.qZA()}}function Jn(Ie,ft){1&Ie&&p.GkF(0)}function Un(Ie,ft){if(1&Ie&&(p.TgZ(0,"div",12),p.YNc(1,Jn,1,0,"ng-container",8),p.qZA()),2&Ie){const Ne=p.oxw();p.xp6(1),p.Q6J("ngTemplateOutlet",Ne.endTemplate)}}function Ii(Ie,ft){1&Ie&&(p.TgZ(0,"div",12),p.Hsn(1),p.qZA())}const Pi=function(Ie){return{"p-menubar p-component":!0,"p-menubar-mobile-active":Ie}},si=["*"];let ki=(()=>{class Ie{constructor(){this.mouseLeaves=new ie.x,this.mouseLeft$=this.mouseLeaves.pipe(function et(Ie){return(0,Ce.e)((ft,Ne)=>{let lt=!1,An=null,hn=null;const Pn=()=>{if(hn?.unsubscribe(),hn=null,lt){lt=!1;const ai=An;An=null,Ne.next(ai)}};ft.subscribe((0,ce.x)(Ne,ai=>{hn?.unsubscribe(),lt=!0,An=ai,hn=(0,ce.x)(Ne,Pn,X.Z),(0,Oe.Xf)(Ie(ai)).subscribe(hn)},()=>{Pn(),Ne.complete()},void 0,()=>{An=hn=null}))})}(()=>function xt(Ie=0,ft=ut.z){return Ie<0&&(Ie=0),(0,st.H)(Ie,Ie,ft)}(this.autoHideDelay)),(0,Be.h)(Ne=>this.autoHide&&Ne))}}return Ie.\u0275fac=function(Ne){return new(Ne||Ie)},Ie.\u0275prov=p.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})(),er=(()=>{class Ie{constructor(Ne,lt,An,hn){this.el=Ne,this.renderer=lt,this.cd=An,this.menubarService=hn,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new p.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(Ne){this.root||(this._parentActive=Ne,Ne||(this.activeItem=null))}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener()})}onItemClick(Ne,lt){lt.disabled?Ne.preventDefault():(!lt.url&&!lt.routerLink&&Ne.preventDefault(),lt.command&&lt.command({originalEvent:Ne,item:lt}),lt.items&&(this.activeItem&&lt===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=lt,this.root&&this.bindDocumentClickListener())),lt.items||this.onLeafClick())}onItemMouseLeave(Ne,lt){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(Ne,lt){this.menubarService.mouseLeaves.next(!1),lt.disabled||this.mobileActive?Ne.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=lt,this.bindDocumentClickListener()):(this.activeItem=lt,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=Ne=>{this.el&&!this.el.nativeElement.contains(Ne.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber.unsubscribe(),this.unbindDocumentClickListener()}}return Ie.\u0275fac=function(Ne){return new(Ne||Ie)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(ki))},Ie.\u0275cmp=p.Xpm({type:Ie,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter","mouseleave",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter","mouseleave",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter","mouseleave"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter","mouseleave"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(Ne,lt){1&Ne&&(p.TgZ(0,"ul",0),p.YNc(1,Bt,2,2,"ng-template",1),p.qZA()),2&Ne&&(p.Q6J("ngClass",p.WLB(3,Re,!lt.root,lt.root)),p.uIk("role",lt.root?"menubar":"menu"),p.xp6(1),p.Q6J("ngForOf",lt.root?lt.item:lt.item.items))},dependencies:[l.mk,l.sg,l.O5,l.PC,L.rH,L.Od,de.H,le.u,Ie],encapsulation:2}),Ie})(),ht=(()=>{class Ie{constructor(Ne,lt,An,hn,Pn){this.el=Ne,this.renderer=lt,this.cd=An,this.config=hn,this.menubarService=Pn,this.autoZIndex=!0,this.baseZIndex=0,this.autoHideDelay=100}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener())}ngAfterContentInit(){this.templates.forEach(Ne=>{switch(Ne.getType()){case"start":this.startTemplate=Ne.template;break;case"end":this.endTemplate=Ne.template}})}toggle(Ne){this.mobileActive?(this.hide(),V.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,V.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),Ne.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=Ne=>{this.mobileActive&&this.rootmenu.el.nativeElement!==Ne.target&&!this.rootmenu.el.nativeElement.contains(Ne.target)&&this.menubutton.nativeElement!==Ne.target&&!this.menubutton.nativeElement.contains(Ne.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),V.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber.unsubscribe(),this.unbindOutsideClickListener()}}return Ie.\u0275fac=function(Ne){return new(Ne||Ie)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(Te.b4),p.Y36(ki))},Ie.\u0275cmp=p.Xpm({type:Ie,selectors:[["p-menubar"]],contentQueries:function(Ne,lt,An){if(1&Ne&&p.Suo(An,Te.jx,4),2&Ne){let hn;p.iGM(hn=p.CRH())&&(lt.templates=hn)}},viewQuery:function(Ne,lt){if(1&Ne&&(p.Gf($t,5),p.Gf(Pt,5)),2&Ne){let An;p.iGM(An=p.CRH())&&(lt.menubutton=An.first),p.iGM(An=p.CRH())&&(lt.rootmenu=An.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",autoHide:"autoHide",autoHideDelay:"autoHideDelay"},features:[p._Bn([ki])],ngContentSelectors:si,decls:8,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","class","p-menubar-button",3,"click",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-menubar-end"]],template:function(Ne,lt){if(1&Ne&&(p.F$t(),p.TgZ(0,"div",0),p.YNc(1,Ht,2,1,"div",1),p.YNc(2,Fn,3,0,"a",2),p.TgZ(3,"p-menubarSub",3,4),p.NdJ("leafClick",function(){return lt.onLeafClick()}),p.qZA(),p.YNc(5,Un,2,1,"div",5),p.YNc(6,Ii,2,0,"ng-template",null,6,p.W1O),p.qZA()),2&Ne){const An=p.MAs(7);p.Tol(lt.styleClass),p.Q6J("ngClass",p.VKq(13,Pi,lt.mobileActive))("ngStyle",lt.style),p.xp6(1),p.Q6J("ngIf",lt.startTemplate),p.xp6(1),p.Q6J("ngIf",lt.model&&lt.model.length>0),p.xp6(1),p.Q6J("item",lt.model)("baseZIndex",lt.baseZIndex)("autoZIndex",lt.autoZIndex)("mobileActive",lt.mobileActive)("autoDisplay",lt.autoDisplay),p.xp6(2),p.Q6J("ngIf",lt.endTemplate)("ngIfElse",An)}},dependencies:[l.mk,l.O5,l.tP,l.PC,er],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),Ie})(),ot=(()=>{class Ie{}return Ie.\u0275fac=function(Ne){return new(Ne||Ie)},Ie.\u0275mod=p.oAB({type:Ie}),Ie.\u0275inj=p.cJS({imports:[l.ez,L.Bz,de.T,le.z,Te.m8,L.Bz,le.z,Te.m8]}),Ie})()},1795:(dn,dt,k)=>{k.d(dt,{H:()=>L,T:()=>de});var p=k(4650),l=k(6895),V=k(9592),Te=k(805);let L=(()=>{class le{constructor(Ce,X,ce){this.el=Ce,this.zone=X,this.config=ce}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(Ce){let X=this.getInk();if(!X||"none"===getComputedStyle(X,null).display)return;if(V.p.removeClass(X,"p-ink-active"),!V.p.getHeight(X)&&!V.p.getWidth(X)){let ut=Math.max(V.p.getOuterWidth(this.el.nativeElement),V.p.getOuterHeight(this.el.nativeElement));X.style.height=ut+"px",X.style.width=ut+"px"}let ce=V.p.getOffset(this.el.nativeElement),Oe=Ce.pageX-ce.left+document.body.scrollTop-V.p.getWidth(X)/2,et=Ce.pageY-ce.top+document.body.scrollLeft-V.p.getHeight(X)/2;X.style.top=et+"px",X.style.left=Oe+"px",V.p.addClass(X,"p-ink-active"),this.timeout=setTimeout(()=>{let ut=this.getInk();ut&&V.p.removeClass(ut,"p-ink-active")},401)}getInk(){const Ce=this.el.nativeElement.children;for(let X=0;X<Ce.length;X++)if("string"==typeof Ce[X].className&&-1!==Ce[X].className.indexOf("p-ink"))return Ce[X];return null}resetInk(){let Ce=this.getInk();Ce&&V.p.removeClass(Ce,"p-ink-active")}onAnimationEnd(Ce){this.timeout&&clearTimeout(this.timeout),V.p.removeClass(Ce.currentTarget,"p-ink-active")}create(){let Ce=document.createElement("span");Ce.className="p-ink",this.el.nativeElement.appendChild(Ce),this.animationListener=this.onAnimationEnd.bind(this),Ce.addEventListener("animationend",this.animationListener)}remove(){let Ce=this.getInk();Ce&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),Ce.removeEventListener("animationend",this.animationListener),V.p.removeElement(Ce))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return le.\u0275fac=function(Ce){return new(Ce||le)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(Te.b4,8))},le.\u0275dir=p.lG2({type:le,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),le})(),de=(()=>{class le{}return le.\u0275fac=function(Ce){return new(Ce||le)},le.\u0275mod=p.oAB({type:le}),le.\u0275inj=p.cJS({imports:[l.ez]}),le})()},1236:(dn,dt,k)=>{k.d(dt,{R:()=>st,q:()=>xt});var p=k(4650),l=k(6895),V=k(4629),Te=k(3608);function L(Be,it){if(1&Be&&(p.TgZ(0,"span",11),p._uU(1),p.qZA()),2&Be){const ge=p.oxw(2).$implicit;p.xp6(1),p.Oqu(ge.label)}}function de(Be,it){if(1&Be&&p._UZ(0,"span",12),2&Be){const ge=p.oxw(2).$implicit;p.Q6J("innerHTML",ge.label,p.oJD)}}const le=function(){return{exact:!1}};function ie(Be,it){if(1&Be){const ge=p.EpF();p.TgZ(0,"a",7),p.NdJ("click",function(Ae){p.CHM(ge);const oe=p.oxw(),Je=oe.$implicit,Le=oe.index,Ge=p.oxw();return p.KtG(Ge.itemClick(Ae,Je,Le))})("keydown.enter",function(Ae){p.CHM(ge);const oe=p.oxw(),Je=oe.$implicit,Le=oe.index,Ge=p.oxw();return p.KtG(Ge.itemClick(Ae,Je,Le))}),p.TgZ(1,"span",8),p._uU(2),p.qZA(),p.YNc(3,L,2,1,"span",9),p.YNc(4,de,1,1,"ng-template",null,10,p.W1O),p.qZA()}if(2&Be){const ge=p.MAs(5),Xe=p.oxw(),Ae=Xe.$implicit,oe=Xe.index,Je=p.oxw();p.Q6J("routerLink",Ae.routerLink)("queryParams",Ae.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Ae.routerLinkActiveOptions||p.DdM(16,le))("target",Ae.target)("fragment",Ae.fragment)("queryParamsHandling",Ae.queryParamsHandling)("preserveFragment",Ae.preserveFragment)("skipLocationChange",Ae.skipLocationChange)("replaceUrl",Ae.replaceUrl)("state",Ae.state),p.uIk("id",Ae.id)("tabindex",Ae.disabled||Je.readonly?null:Ae.tabindex?Ae.tabindex:"0"),p.xp6(2),p.Oqu(oe+1),p.xp6(1),p.Q6J("ngIf",!1!==Ae.escape)("ngIfElse",ge)}}function Ce(Be,it){if(1&Be&&(p.TgZ(0,"span",11),p._uU(1),p.qZA()),2&Be){const ge=p.oxw(2).$implicit;p.xp6(1),p.Oqu(ge.label)}}function X(Be,it){if(1&Be&&p._UZ(0,"span",12),2&Be){const ge=p.oxw(2).$implicit;p.Q6J("innerHTML",ge.label,p.oJD)}}function ce(Be,it){if(1&Be){const ge=p.EpF();p.TgZ(0,"a",13),p.NdJ("click",function(Ae){p.CHM(ge);const oe=p.oxw(),Je=oe.$implicit,Le=oe.index,Ge=p.oxw();return p.KtG(Ge.itemClick(Ae,Je,Le))})("keydown.enter",function(Ae){p.CHM(ge);const oe=p.oxw(),Je=oe.$implicit,Le=oe.index,Ge=p.oxw();return p.KtG(Ge.itemClick(Ae,Je,Le))}),p.TgZ(1,"span",8),p._uU(2),p.qZA(),p.YNc(3,Ce,2,1,"span",9),p.YNc(4,X,1,1,"ng-template",null,14,p.W1O),p.qZA()}if(2&Be){const ge=p.MAs(5),Xe=p.oxw(),Ae=Xe.$implicit,oe=Xe.index,Je=p.oxw();p.Q6J("target",Ae.target),p.uIk("href",Ae.url,p.LSH)("id",Ae.id)("tabindex",Ae.disabled||oe!==Je.activeIndex&&Je.readonly?null:Ae.tabindex?Ae.tabindex:"0"),p.xp6(2),p.Oqu(oe+1),p.xp6(1),p.Q6J("ngIf",!1!==Ae.escape)("ngIfElse",ge)}}const Oe=function(Be,it){return{"p-highlight p-steps-current":Be,"p-disabled":it}};function et(Be,it){if(1&Be&&(p.TgZ(0,"li",3,4),p.YNc(2,ie,6,17,"a",5),p.YNc(3,ce,6,7,"ng-template",null,6,p.W1O),p.qZA()),2&Be){const ge=it.$implicit,Xe=it.index,Ae=p.MAs(4),oe=p.oxw();p.Tol(ge.styleClass),p.Q6J("ngStyle",ge.style)("tooltipOptions",ge.tooltipOptions)("ngClass",p.WLB(9,Oe,oe.isActive(ge,Xe),ge.disabled||oe.readonly&&!oe.isActive(ge,Xe))),p.uIk("aria-selected",Xe===oe.activeIndex)("aria-expanded",Xe===oe.activeIndex),p.xp6(2),p.Q6J("ngIf",oe.isClickableRouterLink(ge))("ngIfElse",Ae)}}const ut=function(Be){return{"p-steps p-component":!0,"p-readonly":Be}};let st=(()=>{class Be{constructor(ge,Xe,Ae){this.router=ge,this.route=Xe,this.cd=Ae,this.activeIndex=0,this.readonly=!0,this.activeIndexChange=new p.vpe}ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}itemClick(ge,Xe,Ae){this.readonly||Xe.disabled?ge.preventDefault():(this.activeIndexChange.emit(Ae),!Xe.url&&!Xe.routerLink&&ge.preventDefault(),Xe.command&&Xe.command({originalEvent:ge,item:Xe,index:Ae}))}isClickableRouterLink(ge){return ge.routerLink&&!this.readonly&&!ge.disabled}isActive(ge,Xe){if(ge.routerLink){let Ae=Array.isArray(ge.routerLink)?ge.routerLink:[ge.routerLink];return this.router.isActive(this.router.createUrlTree(Ae,{relativeTo:this.route}).toString(),!1)}return Xe===this.activeIndex}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return Be.\u0275fac=function(ge){return new(ge||Be)(p.Y36(V.F0),p.Y36(V.gz),p.Y36(p.sBO))},Be.\u0275cmp=p.Xpm({type:Be,selectors:[["p-steps"]],hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",model:"model",readonly:"readonly",style:"style",styleClass:"styleClass"},outputs:{activeIndexChange:"activeIndexChange"},decls:3,vars:7,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["class","p-steps-item","role","tab","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["role","tab","pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["menuitem",""],["role","presentation","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter",4,"ngIf","ngIfElse"],["elseBlock",""],["role","presentation",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","presentation",1,"p-menuitem-link",3,"target","click","keydown.enter"],["htmlRouteLabel",""]],template:function(ge,Xe){1&ge&&(p.TgZ(0,"div",0)(1,"ul",1),p.YNc(2,et,5,12,"li",2),p.qZA()()),2&ge&&(p.Tol(Xe.styleClass),p.Q6J("ngClass",p.VKq(5,ut,Xe.readonly))("ngStyle",Xe.style),p.xp6(2),p.Q6J("ngForOf",Xe.model))},dependencies:[l.mk,l.sg,l.O5,l.PC,V.rH,V.Od,Te.u],styles:[".p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}\n"],encapsulation:2,changeDetection:0}),Be})(),xt=(()=>{class Be{}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=p.oAB({type:Be}),Be.\u0275inj=p.cJS({imports:[l.ez,V.Bz,Te.z,V.Bz,Te.z]}),Be})()},3608:(dn,dt,k)=>{k.d(dt,{u:()=>de,z:()=>le});var p=k(6895),l=k(4650),V=k(9592),Te=k(982),L=k(805);let de=(()=>{class ie{constructor(X,ce,Oe,et,ut){this.el=X,this.zone=ce,this.config=Oe,this.renderer=et,this.changeDetector=ut,this.escape=!0,this.autoHide=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0,autoHide:!0}}get disabled(){return this._disabled}set disabled(X){this._disabled=X,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let X=this.getTarget(this.el.nativeElement);X.addEventListener("focus",this.focusListener),X.addEventListener("blur",this.blurListener)}})}ngOnChanges(X){X.tooltipPosition&&this.setOption({tooltipPosition:X.tooltipPosition.currentValue}),X.tooltipEvent&&this.setOption({tooltipEvent:X.tooltipEvent.currentValue}),X.appendTo&&this.setOption({appendTo:X.appendTo.currentValue}),X.positionStyle&&this.setOption({positionStyle:X.positionStyle.currentValue}),X.tooltipStyleClass&&this.setOption({tooltipStyleClass:X.tooltipStyleClass.currentValue}),X.tooltipZIndex&&this.setOption({tooltipZIndex:X.tooltipZIndex.currentValue}),X.escape&&this.setOption({escape:X.escape.currentValue}),X.showDelay&&this.setOption({showDelay:X.showDelay.currentValue}),X.hideDelay&&this.setOption({hideDelay:X.hideDelay.currentValue}),X.life&&this.setOption({life:X.life.currentValue}),X.positionTop&&this.setOption({positionTop:X.positionTop.currentValue}),X.positionLeft&&this.setOption({positionLeft:X.positionLeft.currentValue}),X.disabled&&this.setOption({disabled:X.disabled.currentValue}),X.text&&(this.setOption({tooltipLabel:X.text.currentValue}),this.active&&(X.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),X.autoHide&&this.setOption({autoHide:X.autoHide.currentValue}),X.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...X.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(X){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(X){(this.isAutoHide()||!(V.p.hasClass(X.toElement,"p-tooltip")||V.p.hasClass(X.toElement,"p-tooltip-arrow")||V.p.hasClass(X.toElement,"p-tooltip-text")||V.p.hasClass(X.relatedTarget,"p-tooltip")))&&this.deactivate()}onFocus(X){this.activate()}onBlur(X){this.deactivate()}onInputClick(X){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let X=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},X)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let X=document.createElement("div");X.className="p-tooltip-arrow",this.container.appendChild(X),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?V.p.appendChild(this.container,this.el.nativeElement):V.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",ce=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),V.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Te.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Te.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let X=this.el.nativeElement.getBoundingClientRect();return{left:X.left+V.p.getWindowScrollLeft(),top:X.top+V.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let X=this.getHostOffset(),ce=X.left+V.p.getOuterWidth(this.el.nativeElement),Oe=X.top+(V.p.getOuterHeight(this.el.nativeElement)-V.p.getOuterHeight(this.container))/2;this.container.style.left=ce+this.getOption("positionLeft")+"px",this.container.style.top=Oe+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let X=this.getHostOffset(),ce=X.left-V.p.getOuterWidth(this.container),Oe=X.top+(V.p.getOuterHeight(this.el.nativeElement)-V.p.getOuterHeight(this.container))/2;this.container.style.left=ce+this.getOption("positionLeft")+"px",this.container.style.top=Oe+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let X=this.getHostOffset(),ce=X.left+(V.p.getOuterWidth(this.el.nativeElement)-V.p.getOuterWidth(this.container))/2,Oe=X.top-V.p.getOuterHeight(this.container);this.container.style.left=ce+this.getOption("positionLeft")+"px",this.container.style.top=Oe+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let X=this.getHostOffset(),ce=X.left+(V.p.getOuterWidth(this.el.nativeElement)-V.p.getOuterWidth(this.container))/2,Oe=X.top+V.p.getOuterHeight(this.el.nativeElement);this.container.style.left=ce+this.getOption("positionLeft")+"px",this.container.style.top=Oe+this.getOption("positionTop")+"px"}setOption(X){this._tooltipOptions={...this._tooltipOptions,...X}}getOption(X){return this._tooltipOptions[X]}getTarget(X){return V.p.hasClass(X,"p-inputwrapper")?V.p.findSingle(X,"input"):X}preAlign(X){this.container.style.left="-999px",this.container.style.top="-999px";let ce="p-tooltip p-component p-tooltip-"+X;this.container.className=this.getOption("tooltipStyleClass")?ce+" "+this.getOption("tooltipStyleClass"):ce}isOutOfBounds(){let X=this.container.getBoundingClientRect(),ce=X.top,Oe=X.left,et=V.p.getOuterWidth(this.container),ut=V.p.getOuterHeight(this.container),st=V.p.getViewport();return Oe+et>st.width||Oe<0||ce<0||ce+ut>st.height}onWindowResize(X){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new V.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let X=this.getTarget(this.el.nativeElement);X.removeEventListener("focus",this.focusListener),X.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):V.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Te.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return ie.\u0275fac=function(X){return new(X||ie)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(L.b4),l.Y36(l.Qsj),l.Y36(l.sBO))},ie.\u0275dir=l.lG2({type:ie,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[l.TTD]}),ie})(),le=(()=>{class ie{}return ie.\u0275fac=function(X){return new(X||ie)},ie.\u0275mod=l.oAB({type:ie}),ie.\u0275inj=l.cJS({imports:[p.ez]}),ie})()},982:(dn,dt,k)=>{k.d(dt,{P9:()=>L,Th:()=>V,gb:()=>p});class p{static equals(le,ie,Ce){return Ce?this.resolveFieldData(le,Ce)===this.resolveFieldData(ie,Ce):this.equalsByValue(le,ie)}static equalsByValue(le,ie){if(le===ie)return!0;if(le&&ie&&"object"==typeof le&&"object"==typeof ie){var ce,Oe,et,Ce=Array.isArray(le),X=Array.isArray(ie);if(Ce&&X){if((Oe=le.length)!=ie.length)return!1;for(ce=Oe;0!=ce--;)if(!this.equalsByValue(le[ce],ie[ce]))return!1;return!0}if(Ce!=X)return!1;var ut=this.isDate(le),st=this.isDate(ie);if(ut!=st)return!1;if(ut&&st)return le.getTime()==ie.getTime();var xt=le instanceof RegExp,Be=ie instanceof RegExp;if(xt!=Be)return!1;if(xt&&Be)return le.toString()==ie.toString();var it=Object.keys(le);if((Oe=it.length)!==Object.keys(ie).length)return!1;for(ce=Oe;0!=ce--;)if(!Object.prototype.hasOwnProperty.call(ie,it[ce]))return!1;for(ce=Oe;0!=ce--;)if(!this.equalsByValue(le[et=it[ce]],ie[et]))return!1;return!0}return le!=le&&ie!=ie}static resolveFieldData(le,ie){if(le&&ie){if(this.isFunction(ie))return ie(le);if(-1==ie.indexOf("."))return le[ie];{let Ce=ie.split("."),X=le;for(let ce=0,Oe=Ce.length;ce<Oe;++ce){if(null==X)return null;X=X[Ce[ce]]}return X}}return null}static isFunction(le){return!!(le&&le.constructor&&le.call&&le.apply)}static reorderArray(le,ie,Ce){le&&ie!==Ce&&(Ce>=le.length&&(Ce%=le.length,ie%=le.length),le.splice(Ce,0,le.splice(ie,1)[0]))}static insertIntoOrderedArray(le,ie,Ce,X){if(Ce.length>0){let ce=!1;for(let Oe=0;Oe<Ce.length;Oe++)if(this.findIndexInList(Ce[Oe],X)>ie){Ce.splice(Oe,0,le),ce=!0;break}ce||Ce.push(le)}else Ce.push(le)}static findIndexInList(le,ie){let Ce=-1;if(ie)for(let X=0;X<ie.length;X++)if(ie[X]==le){Ce=X;break}return Ce}static contains(le,ie){if(null!=le&&ie&&ie.length)for(let Ce of ie)if(this.equals(le,Ce))return!0;return!1}static removeAccents(le){return le&&le.search(/[\xC0-\xFF]/g)>-1&&(le=le.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),le}static isDate(le){return"[object Date]"===Object.prototype.toString.call(le)}static isEmpty(le){return null==le||""===le||Array.isArray(le)&&0===le.length||!this.isDate(le)&&"object"==typeof le&&0===Object.keys(le).length}static isNotEmpty(le){return!this.isEmpty(le)}static compare(le,ie,Ce,X=1){let ce=-1;const Oe=this.isEmpty(le),et=this.isEmpty(ie);return ce=Oe&&et?0:Oe?X:et?-X:"string"==typeof le&&"string"==typeof ie?le.localeCompare(ie,Ce,{numeric:!0}):le<ie?-1:le>ie?1:0,ce}static sort(le,ie,Ce=1,X,ce=1){return(1===ce?Ce:ce)*p.compare(le,ie,X,Ce)}static merge(le,ie){if(null!=le||null!=ie)return null!=le&&"object"!=typeof le||null!=ie&&"object"!=typeof ie?null!=le&&"string"!=typeof le||null!=ie&&"string"!=typeof ie?ie||le:[le||"",ie||""].join(" "):{...le||{},...ie||{}}}}var l=0;function V(){return"pr_id_"+ ++l}var L=function Te(){let de=[];const X=ce=>ce&&parseInt(ce.style.zIndex,10)||0;return{get:X,set:(ce,Oe,et)=>{Oe&&(Oe.style.zIndex=String(((ce,Oe)=>{let et=de.length>0?de[de.length-1]:{key:ce,value:Oe},ut=et.value+(et.key===ce?0:Oe)+1;return de.push({key:ce,value:ut}),ut})(ce,et)))},clear:ce=>{ce&&((ce=>{de=de.filter(Oe=>Oe.value!==ce)})(X(ce)),ce.style.zIndex="")},getCurrent:()=>de.length>0?de[de.length-1].value:0}}()},5861:(dn,dt,k)=>{function p(V,Te,L,de,le,ie,Ce){try{var X=V[ie](Ce),ce=X.value}catch(Oe){return void L(Oe)}X.done?Te(ce):Promise.resolve(ce).then(de,le)}function l(V){return function(){var Te=this,L=arguments;return new Promise(function(de,le){var ie=V.apply(Te,L);function Ce(ce){p(ie,de,le,Ce,X,"next",ce)}function X(ce){p(ie,de,le,Ce,X,"throw",ce)}Ce(void 0)})}}k.d(dt,{Z:()=>l})}},dn=>{var dt=p=>dn(dn.s=p);dt(1321),dt(1586)}]);